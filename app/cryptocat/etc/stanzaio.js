/*

(c) 2012 by C?dric Mesnil. All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
var $jscomp={scope:{},getGlobal:function(M){return"undefined"!=typeof window&&window===M?M:"undefined"!=typeof global?global:M}};$jscomp.global=$jscomp.getGlobal(this);$jscomp.patches={};$jscomp.patch=function(M,e){($jscomp.patches[M]=$jscomp.patches[M]||[]).push(e);for(var h=$jscomp.global,f=M.split("."),a=0;a<f.length-1&&h;a++)h=h[f[a]];f=f[f.length-1];h&&h[f]instanceof Function&&(h[f]=e(h[f]))};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};if(!$jscomp.global.Symbol){$jscomp.global.Symbol=$jscomp.Symbol;var M=[],e=function(e){return function(f){M=[];f=e(f);for(var a=[],d=0,b=f.length;d<b;d++){var c;a:if(c=f[d],c.length<$jscomp.SYMBOL_PREFIX.length)c=!1;else{for(var g=0;g<$jscomp.SYMBOL_PREFIX.length;g++)if(c[g]!=$jscomp.SYMBOL_PREFIX[g]){c=!1;break a}c=!0}c?M.push(f[d]):a.push(f[d])}return a}};$jscomp.patch("Object.keys",e);$jscomp.patch("Object.getOwnPropertyNames",e);$jscomp.patch("Object.getOwnPropertySymbols",
function(h){return function(f){e.unused=Object.getOwnPropertyNames(f);M.push.apply(h(f));return M}})}};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(M){return $jscomp.SYMBOL_PREFIX+M+$jscomp.symbolCounter_++};$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();$jscomp.global.Symbol.iterator||($jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));$jscomp.initSymbolIterator=function(){}};
(function(M){"object"===typeof exports&&"undefined"!==typeof module?module.exports=M():"function"===typeof define&&define.amd?define([],M):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).XMPP=M()})(function(){return function e(h,f,a){function d(c,l){if(!f[c]){if(!h[c]){var m="function"==typeof require&&require;if(!l&&m)return m(c,!0);if(b)return b(c,!0);m=Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m;}m=f[c]={exports:{}};
h[c][0].call(m.exports,function(b){var a=h[c][1][b];return d(a?a:b)},m,m.exports,e,h,f,a)}return f[c].exports}for(var b="function"==typeof require&&require,c=0;c<a.length;c++)d(a[c]);return d}({"/stanza.io/index.js":[function(e,h,f){f.VERSION="8.0.0";f.JID=e("xmpp-jid").JID;f.Client=e("./lib/client");f.createClient=function(a){a=new f.Client(a);a.use(e("./lib/plugins"));return a}},{"./lib/client":"/stanza.io/lib/client.js","./lib/plugins":"/stanza.io/lib/plugins/index-browser.js","xmpp-jid":"/stanza.io/node_modules/xmpp-jid/index.js"}],
"/stanza.io/lib/client.js":[function(e,h,f){function a(b){var a=this;l.call(this);b=b||{};this._initConfig(b);this.stanzas=g.getGlobalJXT();this.jid=new p;this.stanzas=g.createRegistry();this.stanzas.use(e("jxt-xmpp-types"));this.stanzas.use(e("jxt-xmpp"));this.use(e("./plugins/features"));this.use(e("./plugins/sasl"));this.use(e("./plugins/smacks"));this.use(e("./plugins/bind"));this.use(e("./plugins/session"));this.sm=new n(this);this.transports={};this.use(e("./plugins/websocket"));this.use(e("./plugins/oldwebsocket"));
this.use(e("./plugins/bosh"));this.on("stream:data",function(b){var c=b.toJSON();"iq"===b._name&&(c._xmlChildCount=0,d(b.xml.childNodes,function(b){1===b.nodeType&&(c._xmlChildCount+=1)}));a.emit(b._eventname||b._name,c);if("message"===b._name||"presence"===b._name||"iq"===b._name)a.sm.handle(c),a.emit("stanza",c);else{if("smAck"===b._name)return a.sm.process(c);if("smRequest"===b._name)return a.sm.ack()}c.id&&(a.emit("id:"+c.id,c),a.emit(b._name+":id:"+c.id,c))});this.on("disconnected",function(){a.transport&&
(a.transport.off("*"),delete a.transport);a.releaseGroup("connection")});this.on("iq",function(b){var c=b.type,m=b._xmlChildCount;delete b._xmlChildCount;var d=Object.keys(b).filter(function(b){return"id"!==b&&"to"!==b&&"from"!==b&&"lang"!==b&&"type"!==b&&"errorReply"!==b&&"resultReply"!==b});if("get"===b.type||"set"===b.type){if(1!==m)return a.sendIq(b.errorReply({error:{type:"modify",condition:"bad-request"}}));if(!d.length)return a.sendIq(b.errorReply({error:{type:"cancel",condition:"feature-not-implemented"}}));
c="iq:"+c+":"+d[0];a.callbacks[c]?a.emit(c,b):a.sendIq(b.errorReply({error:{type:"cancel",condition:"feature-not-implemented"}}))}});this.on("message",function(b){Object.keys(b.$body||{}).length&&("chat"===b.type||"normal"===b.type?a.emit("chat",b):"groupchat"===b.type&&a.emit("groupchat",b));"error"===b.type&&a.emit("message:error",b)});this.on("presence",function(b){var c=b.type||"available";"error"===c&&(c="presence:error");a.emit(c,b)})}var d=e("lodash.foreach"),b=e("lodash.assign"),c=e("lodash.isarray"),
g=e("jxt"),l=e("wildemitter");f=e("util");var m=e("bluebird"),k=e("uuid"),p=e("xmpp-jid").JID,n=e("./sm"),q=e("hostmeta"),u=e("saslmechanisms"),t={external:e("sasl-external"),"scram-sha-1":e("sasl-scram-sha-1"),"digest-md5":e("alt-sasl-digest-md5"),"x-oauth2":e("sasl-x-oauth2"),plain:e("sasl-plain"),anonymous:e("sasl-anonymous")};f.inherits(a,l);Object.defineProperty(a.prototype,"stream",{get:function(){return this.transport?this.transport.stream:void 0}});a.prototype._initConfig=function(a){var m=
this;this.config=b({useStreamManagement:!0,transports:["websocket","bosh"],sasl:["external","scram-sha-1","digest-md5","plain","anonymous"]},this.config||{},a);c(this.config.sasl)||(this.config.sasl=[this.config.sasl]);this.SASLFactory=new u;this.config.sasl.forEach(function(b){"string"===typeof b?(b=t[b.toLowerCase()])&&m.SASLFactory.use(b):m.SASLFactory.use(b)});this.config.jid=new p(this.config.jid);this.config.server||(this.config.server=this.config.jid.domain);this.config.password&&(this.config.credentials=
this.config.credentials||{},this.config.credentials.password=this.config.password,delete this.config.password);this.config.transport&&(this.config.transports=[this.config.transport]);c(this.config.transports)||(this.config.transports=[this.config.transports])};a.prototype.use=function(b){b(this,this.stanzas,this.config)};a.prototype.nextId=function(){return k.v4()};a.prototype.discoverBindings=function(b,a){q(b,function(b,c){if(b)return a(b,[]);var m={websocket:[],bosh:[]};(c.links||[]).forEach(function(b){b.href&&
"urn:xmpp:alt-connections:websocket"===b.rel&&m.websocket.push(b.href);b.href&&"urn:xmpp:altconnect:websocket"===b.rel&&m.websocket.push(b.href);b.href&&"urn:xmpp:alt-connections:xbosh"===b.rel&&m.bosh.push(b.href);b.href&&"urn:xmpp:altconnect:bosh"===b.rel&&m.bosh.push(b.href)});a(!1,m)})};a.prototype._getConfiguredCredentials=function(){var a=this.config.credentials||{},c=new p(this.config.jid),m=a.server||c.domain;return b({username:a.username||c.local,password:this.config.password,server:m,host:m,
realm:m,serviceType:"xmpp",serviceName:m},a)};a.prototype.getCredentials=function(b){return b(null,this._getConfiguredCredentials())};a.prototype.connect=function(b,a){var c=this;this._initConfig(b);if(a&&a.name&&a.url){var m=c.transport=new c.transports[a.name](c.sm,c.stanzas);m.on("*",function(b,a){c.emit(b,a)});return m.connect(c.config)}if(!a&&1===c.config.transports.length){a={};a.name=c.config.transports[0];if("websocket"===a.name||"old-websocket"===a.name)a.url=c.config.wsURL;"bosh"===a.name&&
(a.url=c.config.boshURL);if(a.name&&a.url)return c.connect(null,a)}return c.discoverBindings(c.config.server,function(b,a){if(b)return console.error("Could not find https://"+c.config.server+"/.well-known/host-meta file to discover connection endpoints for the requested transports."),c.disconnect();for(var m=0,d=c.config.transports.length;m<d;m++){var k=c.config.transports[m];console.log("Checking for %s endpoints",k);for(var g=0,l=(a[k]||[]).length;g<l;g++){var p=a[k][g];if(0===p.indexOf("wss://")||
0===p.indexOf("https://"))return"websocket"===k?c.config.wsURL=p:c.config.boshURL=p,console.log("Using %s endpoint: %s",k,p),c.connect(null,{name:k,url:p});console.warn("Discovered unencrypted %s endpoint (%s). Ignoring",k,p)}}console.error("No endpoints found for the requested transports.");return c.disconnect()})};a.prototype.disconnect=function(){this.sessionStarted&&(this.releaseGroup("session"),this.sm.started||this.emit("session:end"));this.sessionStarted=!1;this.releaseGroup("connection");
this.transport?this.transport.disconnect():this.emit("disconnected")};a.prototype.send=function(b){this.sm.track(b);this.transport&&this.transport.send(b)};a.prototype.sendMessage=function(b){b=b||{};b.id||(b.id=this.nextId());var a=new (this.stanzas.getMessage())(b);this.emit("message:sent",a.toJSON());this.send(a);return b.id};a.prototype.sendPresence=function(b){b=b||{};b.id||(b.id=this.nextId());var a=this.stanzas.getPresence();this.send(new a(b));return b.id};a.prototype.sendIq=function(b,a){var c,
d,k,g=this;b=b||{};b.id||(b.id=this.nextId());var l=this.stanzas.getIq(),l=b.toJSON?b:new l(b);if("error"===b.type||"result"===b.type)this.send(l);else return c=new p(b.to),k={"":!0},k[c.full]=!0,k[c.bare]=!0,k[c.domain]=!0,k[g.jid.bare]=!0,k[g.jid.domain]=!0,d="iq:id:"+b.id,c=new m(function(b,a){var c=function(m){!k[m.from.full]||"result"!==m.type&&"error"!==m.type||(g.off(d,c),m.error?a(m):b(m))};g.on(d,"session",c)}),this.send(l),c.timeout(1E3*g.config.timeout||15E3)["catch"](m.TimeoutError,function(){throw{id:b.id,
type:"error",error:{condition:"timeout"}};}).nodeify(a)};a.prototype.sendStreamError=function(b){b=b||{};b=new (this.stanzas.getStreamError())(b);this.emit("stream:error",b.toJSON());this.send(b);this.disconnect()};h.exports=a},{"./plugins/bind":"/stanza.io/lib/plugins/bind.js","./plugins/bosh":"/stanza.io/lib/plugins/bosh.js","./plugins/features":"/stanza.io/lib/plugins/features.js","./plugins/oldwebsocket":"/stanza.io/lib/plugins/oldwebsocket.js","./plugins/sasl":"/stanza.io/lib/plugins/sasl.js",
"./plugins/session":"/stanza.io/lib/plugins/session.js","./plugins/smacks":"/stanza.io/lib/plugins/smacks.js","./plugins/websocket":"/stanza.io/lib/plugins/websocket.js","./sm":"/stanza.io/lib/sm.js","alt-sasl-digest-md5":"/stanza.io/node_modules/alt-sasl-digest-md5/index.js",bluebird:"/stanza.io/node_modules/bluebird/js/browser/bluebird.js",hostmeta:"/stanza.io/node_modules/hostmeta/index.js",jxt:"/stanza.io/node_modules/jxt/index.js","jxt-xmpp":"/stanza.io/node_modules/jxt-xmpp/lib/index.js","jxt-xmpp-types":"/stanza.io/node_modules/jxt-xmpp-types/lib/index.js",
"lodash.assign":"/stanza.io/node_modules/lodash.assign/index.js","lodash.foreach":"/stanza.io/node_modules/lodash.foreach/index.js","lodash.isarray":"/stanza.io/node_modules/lodash.isarray/index.js","sasl-anonymous":"/stanza.io/node_modules/sasl-anonymous/main.js","sasl-external":"/stanza.io/node_modules/sasl-external/main.js","sasl-plain":"/stanza.io/node_modules/sasl-plain/main.js","sasl-scram-sha-1":"/stanza.io/node_modules/sasl-scram-sha-1/index.js","sasl-x-oauth2":"/stanza.io/node_modules/sasl-x-oauth2/main.js",
saslmechanisms:"/stanza.io/node_modules/saslmechanisms/main.js",util:"/stanza.io/node_modules/util/util.js",uuid:"/stanza.io/node_modules/uuid/uuid.js",wildemitter:"/stanza.io/node_modules/wildemitter/wildemitter.js","xmpp-jid":"/stanza.io/node_modules/xmpp-jid/index.js"}],"/stanza.io/lib/plugins/attention.js":[function(e,h,f){h.exports=function(a){a.disco.addFeature("urn:xmpp:attention:0");a.getAttention=function(d,b){b=b||{};b.to=d;b.type="headline";b.attention=!0;a.sendMessage(b)};a.on("message",
function(d){d.attention&&a.emit("attention",d)})}},{}],"/stanza.io/lib/plugins/avatar.js":[function(e,h,f){h.exports=function(a){a.disco.addFeature("urn:xmpp:avatar:metadata+notify");a.on("pubsub:event",function(d){d.event.updated&&"urn:xmpp:avatar:metadata"===d.event.updated.node&&a.emit("avatar",{jid:d.from,source:"pubsub",avatars:d.event.updated.published[0].avatars})});a.on("presence",function(d){d.avatarId&&a.emit("avatar",{jid:d.from,source:"vcard",avatars:[{id:d.avatarId}]})});a.publishAvatar=
function(a,b,c){return this.publish("","urn:xmpp:avatar:data",{id:a,avatarData:b},c)};a.useAvatars=function(a,b){return this.publish("","urn:xmpp:avatar:metadata",{id:"current",avatars:a},b)};a.getAvatar=function(a,b,c){return this.getItem(a,"urn:xmpp:avatar:data",b,c)}}},{}],"/stanza.io/lib/plugins/bind.js":[function(e,h,f){var a=e("xmpp-jid").JID;h.exports=function(d,b,c){d.registerFeature("bind",300,function(b,d){var m=this;m.sendIq({type:"set",bind:{resource:c.resource}},function(c,p){if(c)return m.emit("session:error",
c),d("disconnect","JID binding failed");m.features.negotiated.bind=!0;m.jid=new a(p.bind.jid);m.emit("session:bound",m.jid);var n=!b.session||b.session&&b.session.optional;!m.sessionStarted&&n&&(m.sessionStarted=!0,m.emit("session:started",m.jid));return d()})});d.on("disconnected",function(){d.sessionStarted=!1;d.features.negotiated.bind=!1})}},{"xmpp-jid":"/stanza.io/node_modules/xmpp-jid/index.js"}],"/stanza.io/lib/plugins/blocking.js":[function(e,h,f){h.exports=function(a){a.disco.addFeature("urn:xmpp:blocking");
a.block=function(d,b){return a.sendIq({type:"set",block:{jids:[d]}},b)};a.unblock=function(d,b){return a.sendIq({type:"set",unblock:{jids:[d]}},b)};a.getBlocked=function(d){return a.sendIq({type:"get",blockList:!0},d)};a.on("iq:set:block",function(d){a.emit("block",{jids:d.block.jids||[]});a.sendIq(d.resultReply())});a.on("iq:set:unblock",function(d){a.emit("unblock",{jids:d.unblock.jids||[]});a.sendIq(d.resultReply())})}},{}],"/stanza.io/lib/plugins/bob.js":[function(e,h,f){h.exports=function(a){a.disco.addFeature("urn:xmpp:bob");
a.getBits=function(d,b,c){return a.sendIq({to:d,type:"get",bob:{cid:b}},c)}}},{}],"/stanza.io/lib/plugins/bookmarks.js":[function(e,h,f){var a=e("lodash.assign"),d=e("lodash.filter"),b=e("xmpp-jid").JID;h.exports=function(c){c.getBookmarks=function(b){return this.getPrivateData({bookmarks:!0},b)};c.setBookmarks=function(b,a){return this.setPrivateData({bookmarks:b},a)};c.addBookmark=function(g,l){g.jid=new b(g.jid);return this.getBookmarks().then(function(b){b=b.privateStorage.bookmarks.conferences||
[];var k=d(b,function(b){return b.jid.bare===g.jid.bare});k.length?a(k[0],g):b.push(g);return c.setBookmarks({conferences:b})}).nodeify(l)};c.removeBookmark=function(a,l){a=new b(a);return this.getBookmarks().then(function(b){b=b.privateStorage.bookmarks.conferences||[];b=d(b,function(b){return a.bare!==b.jid.bare});return c.setBookmarks({conferences:b})}).nodeify(l)}}},{"lodash.assign":"/stanza.io/node_modules/lodash.assign/index.js","lodash.filter":"/stanza.io/node_modules/lodash.filter/index.js",
"xmpp-jid":"/stanza.io/node_modules/xmpp-jid/index.js"}],"/stanza.io/lib/plugins/bosh.js":[function(e,h,f){var a=e("../transports/bosh");h.exports=function(d){d.transports.bosh=a}},{"../transports/bosh":"/stanza.io/lib/transports/bosh.js"}],"/stanza.io/lib/plugins/carbons.js":[function(e,h,f){h.exports=function(a){a.disco.addFeature("urn:xmpp:carbons:2");a.enableCarbons=function(a){return this.sendIq({type:"set",enableCarbons:!0},a)};a.disableCarbons=function(a){return this.sendIq({type:"set",disableCarbons:!0},
a)};a.on("message",function(d){if(d.carbonSent)return a.emit("carbon:sent",d);if(d.carbonReceived)return a.emit("carbon:received",d)});a.on("carbon:*",function(d,b){var c=d.split(":")[1];if(b.from.bare===a.jid.bare){var g;"received"===c?(c=b.carbonReceived.forwarded.message,g=b.carbonReceived.forwarded.delay):(c=b.carbonSent.forwarded.message,g=b.carbonSent.forwarded.delay);c.delay||(g?c.delay.stamp=g.stamp:c.delay={stamp:new Date(Date.now())});c.carbon=!0;c.from.bare===a.jid.bare?a.emit("message:sent",
c):a.emit("message",c)}})}},{}],"/stanza.io/lib/plugins/chatstates.js":[function(e,h,f){h.exports=function(a){a.disco.addFeature("http://jabber.org/protocol/chatstates");a.on("message",function(d){d.chatState&&(a.emit("chat:state",{to:d.to,from:d.from,chatState:d.chatState}),a.emit("chatState",{to:d.to,from:d.from,chatState:d.chatState}))})}},{}],"/stanza.io/lib/plugins/command.js":[function(e,h,f){h.exports=function(a){a.disco.addFeature("http://jabber.org/protocol/commands");a.disco.addItem({name:"Ad-Hoc Commands",
node:"http://jabber.org/protocol/commands"});a.getCommands=function(d,b){return a.getDiscoItems(d,"http://jabber.org/protocol/commands",b)}}},{}],"/stanza.io/lib/plugins/correction.js":[function(e,h,f){h.exports=function(a){a.disco.addFeature("urn:xmpp:message-correct:0");a.on("message",function(d){d.replace&&(a.emit("replace",d),a.emit("replace:"+d.id,d))})}},{}],"/stanza.io/lib/plugins/csi.js":[function(e,h,f){h.exports=function(a,d){var b=d.getDefinition("active","urn:xmpp:csi"),c=d.getDefinition("inactive",
"urn:xmpp:csi");a.registerFeature("clientStateIndication",400,function(b,a){this.features.negotiated.clientStateIndication=!0;a()});a.markActive=function(){this.features.negotiated.clientStateIndication&&this.send(new b)};a.markInactive=function(){this.features.negotiated.clientStateIndication&&this.send(new c)}}},{}],"/stanza.io/lib/plugins/dataforms.js":[function(e,h,f){h.exports=function(a){a.disco.addFeature("jabber:x:data");a.disco.addFeature("urn:xmpp:media-element");a.disco.addFeature("http://jabber.org/protocol/xdata-validate");
a.disco.addFeature("http://jabber.org/protocol/xdata-layout");a.on("message",function(d){d.form&&a.emit("dataform",d)})}},{}],"/stanza.io/lib/plugins/delayed.js":[function(e,h,f){h.exports=function(a){a.disco.addFeature("urn:xmpp:delay")}},{}],"/stanza.io/lib/plugins/disco.js":[function(e,h,f){(function(a){function d(b,c){var m="",d=b.features.sort(),e=[],f={},h=[];g(b.identities,function(b){e.push([b.category||"",b.type||"",b.lang||"",b.name||""].join("/"))});e.sort();var y=e.length,v=d.length,e=
l(e,!0),d=l(d,!0);if(v!==d.length||y!==e.length)return!1;var m=m+(e.join("<")+"<"),m=m+(d.join("<")+"<"),x=!1;g(b.extensions,function(b){for(var a=b.fields,c=0,m=a.length;c<m;c++)if("FORM_TYPE"===a[c].name&&"hidden"===a[c].type){a=a[c].value;if(f[a]){x=!0;break}f[a]=b;h.push(a);break}});if(x)return!1;h.sort();g(h,function(b){var a=f[b],c={},d=[];m+="<"+b;g(a.fields,function(b){var a=b.name;"FORM_TYPE"!==a&&(b=b.value||"","object"!==typeof b&&(b=b.split("\n")),c[a]=b.sort(),d.push(a))});d.sort();g(d,
function(b){m+="<"+b;g(c[b],function(b){m+="<"+b})})});d=k.createHash(c).update(new a(m,"utf8")).digest("base64");y=4-d.length%4;4===y&&(y=0);for(v=0;v<y;v++)d+="=";return d}function b(b,a,c){return(b=d(b,a))&&b===c}function c(){this.features={};this.identities={};this.extensions={};this.items={};this.caps={}}var g=e("lodash.foreach"),l=e("lodash.uniq"),m=e("xmpp-jid").JID,k=e("iana-hashes");c.prototype={constructor:{value:c},addFeature:function(b,a){a=a||"";this.features[a]||(this.features[a]=[]);
this.features[a].push(b)},addIdentity:function(b,a){a=a||"";this.identities[a]||(this.identities[a]=[]);this.identities[a].push(b)},addItem:function(b,a){a=a||"";this.items[a]||(this.items[a]=[]);this.items[a].push(b)},addExtension:function(b,a){a=a||"";this.extensions[a]||(this.extensions[a]=[]);this.extensions[a].push(b)}};h.exports=function(a){a.disco=new c(a);a.disco.addFeature("http://jabber.org/protocol/disco#info");a.disco.addFeature("http://jabber.org/protocol/disco#items");a.disco.addIdentity({category:"client",
type:"web"});a.registerFeature("caps",100,function(b,c){this.emit("disco:caps",{from:new m(a.jid.domain||a.config.server),caps:b.caps});this.features.negotiated.caps=!0;c()});a.getDiscoInfo=function(b,a,c){return this.sendIq({to:b,type:"get",discoInfo:{node:a}},c)};a.getDiscoItems=function(b,a,c){return this.sendIq({to:b,type:"get",discoItems:{node:a}},c)};a.updateCaps=function(){var b=this.config.capsNode||"https://stanza.io",c=JSON.parse(JSON.stringify({identities:this.disco.identities[""],features:this.disco.features[""],
extensions:this.disco.extensions[""]})),m=d(c,"sha-1");this.disco.caps={node:b,hash:"sha-1",ver:m};b=b+"#"+m;this.disco.features[b]=c.features;this.disco.identities[b]=c.identities;this.disco.extensions[b]=c.extensions;return a.getCurrentCaps()};a.getCurrentCaps=function(){var b=a.disco.caps;if(!b.ver)return{ver:null,discoInfo:null};var c=b.node+"#"+b.ver;return{ver:b.ver,discoInfo:{identities:a.disco.identities[c],features:a.disco.features[c],extensions:a.disco.extensions[c]}}};a.on("presence",function(b){b.caps&&
a.emit("disco:caps",b)});a.on("iq:get:discoInfo",function(b){var c=b.discoInfo.node||"",m=b.discoInfo.node||"";c===a.disco.caps.node+"#"+a.disco.caps.ver&&(m=c,c="");a.sendIq(b.resultReply({discoInfo:{node:m,identities:a.disco.identities[c]||[],features:a.disco.features[c]||[],extensions:a.disco.extensions[c]||[]}}))});a.on("iq:get:discoItems",function(b){var c=b.discoItems.node;a.sendIq(b.resultReply({discoItems:{node:c,items:a.disco.items[c]||[]}}))});a.verifyVerString=b;a.generateVerString=d;a.updateCaps()}}).call(this,
e("buffer").Buffer)},{buffer:"/stanza.io/node_modules/buffer/index.js","iana-hashes":"/stanza.io/node_modules/iana-hashes/index.js","lodash.foreach":"/stanza.io/node_modules/lodash.foreach/index.js","lodash.uniq":"/stanza.io/node_modules/lodash.uniq/index.js","xmpp-jid":"/stanza.io/node_modules/xmpp-jid/index.js"}],"/stanza.io/lib/plugins/escaping.js":[function(e,h,f){h.exports=function(a){a.disco.addFeature("jid\\20escaping")}},{}],"/stanza.io/lib/plugins/extdisco.js":[function(e,h,f){h.exports=
function(a){a.disco.addFeature("urn:xmpp:extdisco:1");a.getServices=function(a,b,c){return this.sendIq({type:"get",to:a,services:{type:b}},c)};a.getServiceCredentials=function(a,b,c){return this.sendIq({type:"get",to:a,credentials:{service:{host:b}}},c)}}},{}],"/stanza.io/lib/plugins/features.js":[function(e,h,f){var a=e("async");h.exports=function(d){d.features={negotiated:{},order:[],handlers:{}};d.registerFeature=function(b,a,g){this.features.order.push({priority:a,name:b});this.features.order.sort(function(b,
a){return b.priority<a.priority?-1:b.priority>a.priority?1:0});this.features.handlers[b]=g.bind(d)};d.on("streamFeatures",function(b){var c=[],g=d.features.negotiated,l=d.features.handlers;d.features.order.forEach(function(a){var d=a.name;b[d]&&l[d]&&!g[d]&&c.push(function(a){if(g[d])a();else l[d](b,a)})});a.series(c,function(b,a){"restart"===b?d.transport.restart():"disconnect"===b&&(d.emit("stream:error",{condition:"policy-violation",text:"Failed to negotiate stream features: "+a}),d.disconnect())})})}},
{async:"/stanza.io/node_modules/async/lib/async.js"}],"/stanza.io/lib/plugins/forwarding.js":[function(e,h,f){h.exports=function(a){a.disco.addFeature("urn:xmpp:forward:0")}},{}],"/stanza.io/lib/plugins/geoloc.js":[function(e,h,f){h.exports=function(a){a.disco.addFeature("http://jabber.org/protocol/geoloc");a.disco.addFeature("http://jabber.org/protocol/geoloc+notify");a.on("pubsub:event",function(d){d.event.updated&&"http://jabber.org/protocol/geoloc"===d.event.updated.node&&a.emit("geoloc",{jid:d.from,
geoloc:d.event.updated.published[0].geoloc})});a.publishGeoLoc=function(a,b){return this.publish("","http://jabber.org/protocol/geoloc",{geoloc:a},b)}}},{}],"/stanza.io/lib/plugins/hashes.js":[function(e,h,f){var a=e("iana-hashes");h.exports=function(d){d.disco.addFeature("urn:xmpp:hashes:1");a.getHashes().forEach(function(b){d.disco.addFeature("urn:xmpp:hash-function-text-names:"+b)})}},{"iana-hashes":"/stanza.io/node_modules/iana-hashes/index.js"}],"/stanza.io/lib/plugins/idle.js":[function(e,h,
f){h.exports=function(a){a.disco.addFeature("urn:xmpp:idle:1")}},{}],"/stanza.io/lib/plugins/index-browser.js":[function(e,h,f){h.exports=function(a){a.use(e("./disco"));a.use(e("./attention"));a.use(e("./avatar"));a.use(e("./blocking"));a.use(e("./bob"));a.use(e("./bookmarks"));a.use(e("./carbons"));a.use(e("./chatstates"));a.use(e("./command"));a.use(e("./correction"));a.use(e("./csi"));a.use(e("./dataforms"));a.use(e("./delayed"));a.use(e("./escaping"));a.use(e("./extdisco"));a.use(e("./forwarding"));
a.use(e("./geoloc"));a.use(e("./hashes"));a.use(e("./idle"));a.use(e("./invisible"));a.use(e("./jidprep"));a.use(e("./jingle"));a.use(e("./json"));a.use(e("./keepalive"));a.use(e("./logging"));a.use(e("./mam"));a.use(e("./muc"));a.use(e("./mood"));a.use(e("./nick"));a.use(e("./oob"));a.use(e("./ping"));a.use(e("./private"));a.use(e("./psa"));a.use(e("./pubsub"));a.use(e("./reach"));a.use(e("./receipts"));a.use(e("./register"));a.use(e("./roster"));a.use(e("./rtt"));a.use(e("./shim"));a.use(e("./time"));
a.use(e("./vcard"));a.use(e("./version"))}},{"./attention":"/stanza.io/lib/plugins/attention.js","./avatar":"/stanza.io/lib/plugins/avatar.js","./blocking":"/stanza.io/lib/plugins/blocking.js","./bob":"/stanza.io/lib/plugins/bob.js","./bookmarks":"/stanza.io/lib/plugins/bookmarks.js","./carbons":"/stanza.io/lib/plugins/carbons.js","./chatstates":"/stanza.io/lib/plugins/chatstates.js","./command":"/stanza.io/lib/plugins/command.js","./correction":"/stanza.io/lib/plugins/correction.js","./csi":"/stanza.io/lib/plugins/csi.js",
"./dataforms":"/stanza.io/lib/plugins/dataforms.js","./delayed":"/stanza.io/lib/plugins/delayed.js","./disco":"/stanza.io/lib/plugins/disco.js","./escaping":"/stanza.io/lib/plugins/escaping.js","./extdisco":"/stanza.io/lib/plugins/extdisco.js","./forwarding":"/stanza.io/lib/plugins/forwarding.js","./geoloc":"/stanza.io/lib/plugins/geoloc.js","./hashes":"/stanza.io/lib/plugins/hashes.js","./idle":"/stanza.io/lib/plugins/idle.js","./invisible":"/stanza.io/lib/plugins/invisible.js","./jidprep":"/stanza.io/lib/plugins/jidprep.js",
"./jingle":"/stanza.io/lib/plugins/jingle.js","./json":"/stanza.io/lib/plugins/json.js","./keepalive":"/stanza.io/lib/plugins/keepalive.js","./logging":"/stanza.io/lib/plugins/logging.js","./mam":"/stanza.io/lib/plugins/mam.js","./mood":"/stanza.io/lib/plugins/mood.js","./muc":"/stanza.io/lib/plugins/muc.js","./nick":"/stanza.io/lib/plugins/nick.js","./oob":"/stanza.io/lib/plugins/oob.js","./ping":"/stanza.io/lib/plugins/ping.js","./private":"/stanza.io/lib/plugins/private.js","./psa":"/stanza.io/lib/plugins/psa.js",
"./pubsub":"/stanza.io/lib/plugins/pubsub.js","./reach":"/stanza.io/lib/plugins/reach.js","./receipts":"/stanza.io/lib/plugins/receipts.js","./register":"/stanza.io/lib/plugins/register.js","./roster":"/stanza.io/lib/plugins/roster.js","./rtt":"/stanza.io/lib/plugins/rtt.js","./shim":"/stanza.io/lib/plugins/shim.js","./time":"/stanza.io/lib/plugins/time.js","./vcard":"/stanza.io/lib/plugins/vcard.js","./version":"/stanza.io/lib/plugins/version.js"}],"/stanza.io/lib/plugins/invisible.js":[function(e,
h,f){h.exports=function(a){a.goInvisible=function(a){return this.sendIq({type:"set",invisible:!0},a)};a.goVisible=function(a){return this.sendIq({type:"set",visible:!0},a)}}},{}],"/stanza.io/lib/plugins/jidprep.js":[function(e,h,f){h.exports=function(a){a.prepJID=function(d,b){return a.sendIq({to:a.jid.domain,type:"get",jidPrep:d},b)}}},{}],"/stanza.io/lib/plugins/jingle.js":[function(e,h,f){var a=e("jingle");h.exports=function(d){var b=d.jingle=new a;b.capabilities.forEach(function(b){d.disco.addFeature(b)});
"outgoing incoming accepted terminated ringing mute unmute hold resumed".split(" ").forEach(function(a){b.on(a,function(b,l){d.emit("jingle:"+a,b,l)})});b.on("createdSession",function(b){d.emit("jingle:created",b)});b.on("peerStreamAdded",function(b,a){d.emit("jingle:remotestream:added",b,a)});b.on("peerStreamRemoved",function(b,a){d.emit("jingle:remotestream:removed",b,a)});b.on("send",function(b){d.sendIq(b,function(b){b&&d.emit("jingle:error",b)})});d.on("session:bound",function(a){b.jid=a;b.selfID=
a.full});d.on("iq:set:jingle",function(a){b.process(a)});d.on("unavailable",function(a){b.endPeerSessions(a.from.full,!0)});d.discoverICEServers=function(b){return this.getServices(d.config.server).then(function(b){b=b.services.services;for(var a=[],c=0;c<b.length;c++){var k=b[c],p={};if("stun"===k.type||"stuns"===k.type)p.url=k.type+":"+k.host,k.port&&(p.url+=":"+k.port),a.push(p),d.jingle.addICEServer(p);else if("turn"===k.type||"turns"===k.type)p.url=k.type+":"+k.host,k.port&&(p.url+=":"+k.port),
k.transport&&"udp"!==k.transport&&(p.url+="?transport="+k.transport),k.username&&(p.username=k.username),k.password&&(p.credential=k.password),a.push(p),d.jingle.addICEServer(p)}return a}).nodeify(b)}}},{jingle:"/stanza.io/node_modules/jingle/index.js"}],"/stanza.io/lib/plugins/json.js":[function(e,h,f){h.exports=function(a){a.disco.addFeature("urn:xmpp:json:0")}},{}],"/stanza.io/lib/plugins/keepalive.js":[function(e,h,f){function a(b,a){return(new d(function(a,c){b.sm.started?(b.once("stream:management:ack",
a),b.sm.request()):b.ping().then(a)["catch"](function(b){b.error&&"timeout"!==b.error.condition?a():c()})})).timeout(1E3*a||15E3)}var d=e("bluebird");h.exports=function(b){b.enableKeepAlive=function(c){c=c||{};c.interval=c.interval||300;c.timeout=c.timeout||15;b._keepAliveInterval=setInterval(function(){b.sessionStarted&&a(b,c.timeout)["catch"](function(){b.emit("stream:error",{condition:"connection-timeout",text:"Server did not respond in "+c.timeout+" seconds"});b.transport.hasStream=!1;b.transport.disconnect()})},
1E3*c.interval)};b.disableKeepAlive=function(){b._keepAliveInterval&&(clearInterval(b._keepAliveInterval),delete b._keepAliveInterval)};b.on("disconnected",function(){b.disableKeepAlive()})}},{bluebird:"/stanza.io/node_modules/bluebird/js/browser/bluebird.js"}],"/stanza.io/lib/plugins/logging.js":[function(e,h,f){h.exports=function(a){a.disco.addFeature("","urn:xmpp:eventlog");a.sendLog=function(d,b){a.sendMessage({to:d,type:"normal",log:b})}}},{}],"/stanza.io/lib/plugins/mam.js":[function(e,h,f){var a=
e("bluebird"),d=e("xmpp-jid").JID;h.exports=function(b){b.disco.addFeature("urn:xmpp:mam:0");b.getHistorySearchForm=function(a,d){return b.sendIq({to:a,type:"get",mam:!0},d)};b.searchHistory=function(c,g){var l=this,m=this.nextId();c=c||{};c.queryid=m;var k=c.jid||c.to||"";delete c.jid;delete c.to;c.form||(c.form={});c.form.type="submit";var p=c.form.fields=c.form.fields||[];["FORM_TYPE","with","start","end"].forEach(function(b){if(c[b]||"FORM_TYPE"===b){var a=c[b];"start"!==b&&"end"!==b||"string"===
typeof a||(a=a.toISOString());"FORM_TYPE"===b&&(a="urn:xmpp:mam:0");for(var m=0,d=p.length;m<d;m++);p.push({name:b,value:a});delete c[b]}});var n=new d(k||b.jid.bare),e={"":!0};e[n.full]=!0;e[n.bare]=!0;e[n.domain]=!0;e[b.jid.bare]=!0;e[b.jid.domain]=!0;var u=[];this.on("mam:item:"+m,"session",function(b){e[b.from.full]&&u.push(b.mamItem)});n=new a(function(b){l.once("mam:result:"+m,"session",function(a){e[a.from.full]&&(a.mamResult.items=u,b(a))})});k=this.sendIq({type:"set",to:k,id:m,mam:c});return a.all([k,
n]).spread(function(b,a){return a}).timeout(1E3*l.config.timeout||15E3)["catch"](a.TimeoutError,function(){throw{id:m,type:"error",error:{condition:"timeout"}};})["finally"](function(){l.off("mam:item:"+m);l.off("mam:result:"+m)}).nodeify(g)};b.getHistoryPreferences=function(b){return this.sendIq({type:"get",mamPrefs:!0},b)};b.setHistoryPreferences=function(b,a){return this.sendIq({type:"set",mamPrefs:b},a)};b.on("message",function(a){a.mamItem&&b.emit("mam:item:"+a.mamItem.queryid,a);a.mamResult&&
b.emit("mam:result:"+a.mamResult.queryid,a)})}},{bluebird:"/stanza.io/node_modules/bluebird/js/browser/bluebird.js","xmpp-jid":"/stanza.io/node_modules/xmpp-jid/index.js"}],"/stanza.io/lib/plugins/mood.js":[function(e,h,f){h.exports=function(a){a.disco.addFeature("http://jabber.org/protocol/mood");a.disco.addFeature("http://jabber.org/protocol/mood+notify");a.on("pubsub:event",function(d){d.event.updated&&"http://jabber.org/protocol/mood"===d.event.updated.node&&a.emit("mood",{jid:d.from,mood:d.event.updated.published[0].mood})});
a.publishMood=function(a,b,c){return this.publish("","http://jabber.org/protocol/mood",{mood:{value:a,text:b}},c)}}},{}],"/stanza.io/lib/plugins/muc.js":[function(e,h,f){var a=e("lodash.foreach"),d=e("xmpp-jid").JID;h.exports=function(b){function c(){a(b.joinedRooms,function(a,c){b.joinedRooms[c]=!1;b.joinRoom(c,a)})}b.disco.addFeature("http://jabber.org/protocol/muc");b.disco.addFeature("jabber:x:conference");b.disco.addFeature("urn:xmpp:hats:0");b.joinedRooms={};b.on("session:started",c);b.on("stream:management:resumed",
c);b.on("message",function(a){a.muc?(a.muc.invite&&b.emit("muc:invite",{from:a.muc.invite.from,room:a.from,reason:a.muc.invite.reason,password:a.muc.password,thread:a.muc.invite.thread,type:"mediated"}),a.muc.destroyed&&b.emit("muc:destroyed",{room:a.from,newRoom:a.muc.destroyed.jid,reason:a.muc.destroyed.reason,password:a.muc.destroyed.password}),a.muc.decline&&b.emit("muc:declined",{room:a.from,from:a.muc.decline.from,reason:a.muc.decline.reason})):a.mucInvite&&b.emit("muc:invite",{from:a.from,
room:a.mucInvite.jid,reason:a.mucInvite.reason,password:a.mucInvite.password,thread:a.mucInvite.thread,type:"direct"});"groupchat"===a.type&&a.subject&&b.emit("muc:subject",a)});b.on("presence",function(a){if(a.joinMuc&&"error"===a.type)b.emit("muc:error",a);else if(a.muc){var c=a.muc.codes&&0<=a.muc.codes.indexOf("110");"error"===a.type?b.emit("muc:error",a):"unavailable"===a.type?(b.emit("muc:unavailable",a),c&&(b.emit("muc:leave",a),delete b.joinedRooms[a.from.bare])):(b.emit("muc:available",a),
c&&!b.joinedRooms[a.from.bare]&&(b.emit("muc:join",a),b.joinedRooms[a.from.bare]=a.from.resource))}});b.joinRoom=function(b,a,c){c=c||{};c.to=b+"/"+a;c.caps=this.disco.caps;c.joinMuc=c.joinMuc||{};this.sendPresence(c)};b.leaveRoom=function(b,a,c){c=c||{};c.to=b+"/"+a;c.type="unavailable";this.sendPresence(c)};b.ban=function(a,c,m,d){b.setRoomAffiliation(a,c,"outcast",m,d)};b.kick=function(a,c,m,d){b.setRoomRole(a,c,"none",m,d)};b.invite=function(a,c){b.sendMessage({to:a,muc:{invites:c}})};b.directInvite=
function(a,c){c.jid=a;b.sendMessage({to:c.to,mucInvite:c})};b.declineInvite=function(a,c,m){b.sendMessage({to:a,muc:{decline:{to:c,reason:m}}})};b.changeNick=function(a,c){b.sendPresence({to:(new d(a)).bare+"/"+c})};b.setSubject=function(a,c){b.sendMessage({to:a,type:"groupchat",subject:c})};b.discoverReservedNick=function(a,c){b.getDiscoInfo(a,"x-roomuser-item",function(b,a){if(b)return c(b);c(null,(a.discoInfo.identities[0]||{}).name)})};b.requestRoomVoice=function(a){b.sendMessage({to:a,form:{fields:[{name:"FORM_TYPE",
value:"http://jabber.org/protocol/muc#request"},{name:"muc#role",type:"text-single",value:"participant"}]}})};b.setRoomAffiliation=function(b,a,c,d,p){return this.sendIq({type:"set",to:b,mucAdmin:{jid:a,affiliation:c,reason:d}},p)};b.setRoomRole=function(b,a,c,d,p){return this.sendIq({type:"set",to:b,mucAdmin:{nick:a,role:c,reason:d}},p)};b.getRoomMembers=function(b,a,c){return this.sendIq({type:"get",to:b,mucAdmin:a},c)};b.getRoomConfig=function(b,a){return this.sendIq({to:b,type:"get",mucOwner:!0},
a)};b.configureRoom=function(b,a,c){a.type||(a.type="submit");return this.sendIq({to:b,type:"set",mucOwner:{form:a}},c)};b.destroyRoom=function(b,a,c){return this.sendIq({to:b,type:"set",mucOwner:{destroy:a}},c)};b.getUniqueRoomName=function(b,a){return this.sendIq({type:"get",to:b,mucUnique:!0},a)}}},{"lodash.foreach":"/stanza.io/node_modules/lodash.foreach/index.js","xmpp-jid":"/stanza.io/node_modules/xmpp-jid/index.js"}],"/stanza.io/lib/plugins/nick.js":[function(e,h,f){h.exports=function(a){a.disco.addFeature("http://jabber.org/protocol/nick");
a.disco.addFeature("http://jabber.org/protocol/nick+notify");a.on("pubsub:event",function(d){d.event.updated&&"http://jabber.org/protocol/nick"===d.event.updated.node&&a.emit("nick",{jid:d.from,nick:d.event.updated.published[0].nick})});a.publishNick=function(a,b){return this.publish("","http://jabber.org/protocol/nick",{nick:a},b)}}},{}],"/stanza.io/lib/plugins/oldwebsocket.js":[function(e,h,f){var a=e("../transports/old-websocket");h.exports=function(d){d.transports["old-websocket"]=a}},{"../transports/old-websocket":"/stanza.io/lib/transports/old-websocket.js"}],
"/stanza.io/lib/plugins/oob.js":[function(e,h,f){h.exports=function(a){a.disco.addFeature("jabber:x:oob")}},{}],"/stanza.io/lib/plugins/ping.js":[function(e,h,f){h.exports=function(a){a.disco.addFeature("urn:xmpp:ping");a.on("iq:get:ping",function(d){a.sendIq(d.resultReply())});a.ping=function(a,b){return this.sendIq({to:a,type:"get",ping:!0},b)}}},{}],"/stanza.io/lib/plugins/private.js":[function(e,h,f){h.exports=function(a){a.getPrivateData=function(a,b){return this.sendIq({type:"get",privateStorage:a},
b)};a.setPrivateData=function(a,b){return this.sendIq({type:"set",privateStorage:a},b)}}},{}],"/stanza.io/lib/plugins/psa.js":[function(e,h,f){h.exports=function(a){a.disco.addFeature("urn:xmpp:psa")}},{}],"/stanza.io/lib/plugins/pubsub.js":[function(e,h,f){h.exports=function(a){a.on("message",function(d){if(d.event){a.emit("pubsub:event",d);a.emit("pubsubEvent",d);if(d.event.updated){var b=d.event.updated.published,c=d.event.updated.retracted;b&&b.length&&a.emit("pubsub:published",d);c&&c.length&&
a.emit("pubsub:retracted",d)}d.event.purged&&a.emit("pubsub:purged",d);d.event.deleted&&a.emit("pubsub:deleted",d);d.event.subscriptionChanged&&a.emit("pubsub:subscription",d);d.event.configurationChanged&&a.emit("pubsub:config",d)}d.pubsub&&d.pubsub.affiliations&&a.emit("pubsub:affiliation",d)});a.subscribeToNode=function(d,b,c){"string"===typeof b&&(b={node:b});b.jid=b.jid||a.jid;return this.sendIq({type:"set",to:d,pubsub:{subscribe:b}},c)};a.unsubscribeFromNode=function(d,b,c){"string"===typeof b&&
(b={node:b});b.jid=b.jid||a.jid.bare;return this.sendIq({type:"set",to:d,pubsub:{unsubscribe:b}},c)};a.publish=function(a,b,c,g){return this.sendIq({type:"set",to:a,pubsub:{publish:{node:b,item:c}}},g)};a.getItem=function(a,b,c,g){return this.sendIq({type:"get",to:a,pubsub:{retrieve:{node:b,item:c}}},g)};a.getItems=function(a,b,c,g){c=c||{};c.node=b;return this.sendIq({type:"get",to:a,pubsub:{retrieve:{node:b,max:c.max},rsm:c.rsm}},g)};a.retract=function(a,b,c,g,l){return this.sendIq({type:"set",
to:a,pubsub:{retract:{node:b,notify:g,id:c}}},l)};a.purgeNode=function(a,b,c){return this.sendIq({type:"set",to:a,pubsubOwner:{purge:b}},c)};a.deleteNode=function(a,b,c){return this.sendIq({type:"set",to:a,pubsubOwner:{del:b}},c)};a.createNode=function(a,b,c,g){a={type:"set",to:a,pubsub:{create:b}};c&&(a.pubsub.config={form:c});return this.sendIq(a,g)};a.getSubscriptions=function(a,b,c){b=b||{};return this.sendIq({type:"get",to:a,pubsub:{subscriptions:b}},c)};a.getAffiliations=function(a,b,c){b=b||
{};return this.sendIq({type:"get",to:a,pubsub:{affiliations:b}},c)};a.getNodeSubscribers=function(a,b,c,g){c=c||{};c.node=b;return this.sendIq({type:"get",to:a,pubsubOwner:{subscriptions:c}},g)};a.updateNodeSubscriptions=function(a,b,c,g){return this.sendIq({type:"set",to:a,pubsubOwner:{subscriptions:{node:b,list:c}}},g)};a.getNodeAffiliations=function(a,b,c,g){c=c||{};c.node=b;return this.sendIq({type:"get",to:a,pubsubOwner:{affiliations:c}},g)};a.updateNodeAffiliations=function(a,b,c,g){return this.sendIq({type:"set",
to:a,pubsubOwner:{affiliations:{node:b,list:c}}},g)}}},{}],"/stanza.io/lib/plugins/reach.js":[function(e,h,f){h.exports=function(a){a.disco.addFeature("urn:xmpp:reach:0");a.disco.addFeature("urn:xmpp:reach:0+notify");a.on("pubsub:event",function(d){d.event.updated&&"urn:xmpp:reach:0"===d.event.updated.node&&a.emit("reachability",{jid:d.from,addresses:d.event.updated.published[0].reach})});a.on("presence",function(d){d.reach&&d.reach.length&&a.emit("reachability",{jid:d.from,addresses:d.reach})});
a.publishReachability=function(a,b){return this.publish("","urn:xmpp:reach:0",{reach:a},b)}}},{}],"/stanza.io/lib/plugins/receipts.js":[function(e,h,f){h.exports=function(a){a.disco.addFeature("urn:xmpp:receipts");a.on("message",function(d){({normal:!0,chat:!0,headline:!0})[d.type]&&d.requestReceipt&&!d.receipt&&a.sendMessage({to:d.from,type:d.type,receipt:d.id,id:d.id});d.receipt&&(a.emit("receipt",d),a.emit("receipt:"+d.receipt))})}},{}],"/stanza.io/lib/plugins/register.js":[function(e,h,f){h.exports=
function(a){a.getAccountInfo=function(a,b){return this.sendIq({type:"get",to:a,register:!0},b)};a.updateAccount=function(a,b,c){return this.sendIq({type:"set",to:a,register:b},c)};a.deleteAccount=function(a,b){return this.sendIq({type:"set",to:a,register:{remove:!0}},b)}}},{}],"/stanza.io/lib/plugins/roster.js":[function(e,h,f){h.exports=function(a){a.on("iq:set:roster",function(d){var b={"":!0};b[a.jid.bare]=!0;b[a.jid.domain]=!0;if(!b[d.from.full])return a.sendIq(d.errorReply({error:{type:"cancel",
condition:"service-unavailable"}}));a.emit("roster:update",d);a.sendIq({id:d.id,type:"result"})});a.getRoster=function(d){var b=this;d=d||function(){};return a.sendIq({type:"get",roster:{ver:b.config.rosterVer}}).then(function(a){if(a.roster){var d=a.roster.ver;d&&(b.config.rosterVer=d,b.emit("roster:ver",d))}return a}).nodeify(d)};a.updateRosterItem=function(d,b){return a.sendIq({type:"set",roster:{items:[d]}},b)};a.removeRosterItem=function(d,b){return a.updateRosterItem({jid:d,subscription:"remove"},
b)};a.subscribe=function(d){a.sendPresence({type:"subscribe",to:d})};a.unsubscribe=function(d){a.sendPresence({type:"unsubscribe",to:d})};a.acceptSubscription=function(d){a.sendPresence({type:"subscribed",to:d})};a.denySubscription=function(d){a.sendPresence({type:"unsubscribed",to:d})}}},{}],"/stanza.io/lib/plugins/rtt.js":[function(e,h,f){h.exports=function(a){a.disco.addFeature("urn:xmpp:rtt:0");a.on("message",function(d){d.rtt&&(a.emit("rtt",d),a.emit("rtt:"+d.rtt.event,d))})}},{}],"/stanza.io/lib/plugins/sasl.js":[function(e,
h,f){(function(a){h.exports=function(d,b){var c=b.getDefinition("auth","urn:ietf:params:xml:ns:xmpp-sasl"),g=b.getDefinition("response","urn:ietf:params:xml:ns:xmpp-sasl"),l=b.getDefinition("abort","urn:ietf:params:xml:ns:xmpp-sasl");d.registerFeature("sasl",100,function(b,d){var p=this,n=p.SASLFactory.create(b.sasl.mechanisms);if(!n)return p.releaseGroup("sasl"),p.emit("auth:failed"),d("disconnect","authentication failed");p.on("sasl:success","sasl",function(){p.features.negotiated.sasl=!0;p.releaseGroup("sasl");
p.emit("auth:success",p.config.credentials);d("restart")});p.on("sasl:challenge","sasl",function(b){n.challenge((new a(b.value,"base64")).toString());return p.getCredentials(function(b,c){if(b)return p.send(new l);var m=n.response(c);m||""===m?p.send(new g({value:(new a(m)).toString("base64")})):p.send(new g);n.cache&&(Object.keys(n.cache).forEach(function(b){n.cache[b]&&(p.config.credentials[b]=new a(n.cache[b]))}),p.emit("credentials:update",p.config.credentials))})});p.on("sasl:failure","sasl",
function(){p.releaseGroup("sasl");p.emit("auth:failed");d("disconnect","authentication failed")});p.on("sasl:abort","sasl",function(){p.releaseGroup("sasl");p.emit("auth:failed");d("disconnect","authentication failed")});var e={mechanism:n.name};if(n.clientFirst)return p.getCredentials(function(b,m){if(b)return p.send(new l);e.value=(new a(n.response(m))).toString("base64");p.send(new c(e))});p.send(new c(e))});d.on("disconnected",function(){d.features.negotiated.sasl=!1})}}).call(this,e("buffer").Buffer)},
{buffer:"/stanza.io/node_modules/buffer/index.js"}],"/stanza.io/lib/plugins/session.js":[function(e,h,f){h.exports=function(a){a.registerFeature("session",1E3,function(a,b){var c=this;if(a.session.optional||c.sessionStarted)return c.features.negotiated.session=!0,b();c.sendIq({type:"set",session:{}},function(a){if(a)return b("disconnect","session request failed");c.features.negotiated.session=!0;c.sessionStarted||(c.sessionStarted=!0,c.emit("session:started",c.jid));b()})});a.on("disconnected",function(){a.sessionStarted=
!1;a.features.negotiated.session=!1})}},{}],"/stanza.io/lib/plugins/shim.js":[function(e,h,f){h.exports=function(a){a.disco.addFeature("http://jabber.org/protocol/shim");a.disco.addFeature("http://jabber.org/protocol/shim#SubID","http://jabber.org/protocol/shim")}},{}],"/stanza.io/lib/plugins/smacks.js":[function(e,h,f){h.exports=function(a,d,b){d=function(a,d){var l=this;if(!b.useStreamManagement)return d();l.on("stream:management:enabled","sm",function(b){l.sm.enabled(b);l.features.negotiated.streamManagement=
!0;l.releaseGroup("sm");d()});l.on("stream:management:resumed","sm",function(b){l.sm.resumed(b);l.features.negotiated.streamManagement=!0;l.features.negotiated.bind=!0;l.sessionStarted=!0;l.releaseGroup("sm");d("break")});l.on("stream:management:failed","sm",function(){l.sm.failed();l.emit("session:end");l.releaseGroup("session");l.releaseGroup("sm");d()});l.sm.id?l.sm.id&&l.sm.allowResume?l.sm.resume():(l.releaseGroup("sm"),d()):l.features.negotiated.bind?l.sm.enable():(l.releaseGroup("sm"),d())};
a.on("disconnected",function(){a.features.negotiated.streamManagement=!1});a.registerFeature("streamManagement",200,d);a.registerFeature("streamManagement",500,d)}},{}],"/stanza.io/lib/plugins/time.js":[function(e,h,f){h.exports=function(a){a.disco.addFeature("urn:xmpp:time");a.getTime=function(a,b){return this.sendIq({to:a,type:"get",time:!0},b)};a.on("iq:get:time",function(d){var b=new Date;a.sendIq(d.resultReply({time:{utc:b,tzo:b.getTimezoneOffset()}}))})}},{}],"/stanza.io/lib/plugins/vcard.js":[function(e,
h,f){h.exports=function(a){a.disco.addFeature("vcard-temp");a.getVCard=function(a,b){return this.sendIq({to:a,type:"get",vCardTemp:!0},b)};a.publishVCard=function(a,b){return this.sendIq({type:"set",vCardTemp:a},b)}}},{}],"/stanza.io/lib/plugins/version.js":[function(e,h,f){h.exports=function(a){a.disco.addFeature("jabber:iq:version");a.on("iq:get:version",function(d){a.sendIq(d.resultReply({version:a.config.softwareVersion||{name:"stanza.io"}}))});a.getSoftwareVersion=function(a,b){return this.sendIq({to:a,
type:"get",version:!0},b)}}},{}],"/stanza.io/lib/plugins/websocket.js":[function(e,h,f){var a=e("../transports/websocket");h.exports=function(d){d.transports.websocket=a}},{"../transports/websocket":"/stanza.io/lib/transports/websocket.js"}],"/stanza.io/lib/sm.js":[function(e,h,f){function a(b){this.client=b;this.id=!1;this.allowResume=!0;this.outboundStarted=this.inboundStarted=this.started=!1;this.handled=this.lastAck=0;this.windowSize=1;this.unacked=[];this.pendingAck=!1;this.stanzas={Enable:b.stanzas.getDefinition("enable",
"urn:xmpp:sm:3"),Resume:b.stanzas.getDefinition("resume","urn:xmpp:sm:3"),Ack:b.stanzas.getDefinition("a","urn:xmpp:sm:3"),Request:b.stanzas.getDefinition("r","urn:xmpp:sm:3")}}var d=Math.pow(2,32);a.prototype={constructor:{value:a},enable:function(){var b=new this.stanzas.Enable;b.resume=this.allowResume;this.client.send(b);this.handled=0;this.outboundStarted=!0},resume:function(){var b=new this.stanzas.Resume({h:this.handled,previd:this.id});this.client.send(b);this.outboundStarted=!0},enabled:function(b){this.id=
b.id;this.handled=0;this.inboundStarted=!0},resumed:function(b){this.id=b.previd;b.h&&this.process(b,!0);this.inboundStarted=!0},failed:function(){this.id=this.outboundStarted=this.inboundStarted=!1;this.handled=this.lastAck=0;this.unacked=[]},ack:function(){this.client.send(new this.stanzas.Ack({h:this.handled}))},request:function(){this.pendingAck=!0;this.client.send(new this.stanzas.Request)},process:function(b,a){var g=this,l=((b.h-this.lastAck)%d+d)%d;this.pendingAck=!1;for(var m=0;m<l&&0<this.unacked.length;m++)this.client.emit("stanza:acked",
this.unacked.shift());this.lastAck=b.h;a&&(l=this.unacked,this.unacked=[],l.forEach(function(b){g.client.send(b)}));this.needAck()&&this.request()},track:function(b){var a=b._name,d={message:!0,presence:!0,iq:!0};this.outboundStarted&&d[a]&&(this.unacked.push(b),this.needAck()&&this.request())},handle:function(){this.inboundStarted&&(this.handled=((this.handled+1)%d+d)%d)},needAck:function(){return!this.pendingAck&&this.unacked.length>=this.windowSize}};Object.defineProperties(a.prototype,{started:{get:function(){return this.outboundStarted&&
this.inboundStarted},set:function(b){b||(this.inboundStarted=this.outboundStarted=!1)}}});h.exports=a},{}],"/stanza.io/lib/transports/bosh.js":[function(e,h,f){(function(a,d){function b(){}function c(a,m,d,k){k=k||0;return n(a).cancellable().timeout(1E3*(m||20)).spread(function(a,c){if(200>a.statusCode||400<=a.statusCode)throw new b("HTTP Status Error");return c})["catch"](p.TimeoutError,function(){throw new b("Dead Connection, exceeded timeout limit");})["catch"](function(){if(k<d)return p.delay(100).then(function(){return c(a,
m,d,k+1)});throw new b("Dead Connection, exceeded retry limit");})}function g(b,a){var c=this;q.call(this);c.sm=b;c.stanzas={BOSH:a.getDefinition("body","http://jabber.org/protocol/httpbind"),StreamError:a.getStreamError()};c.sendQueue=[];c.requests=[];c.maxRequests=2;c.sid="";c.on("raw:incoming",function(b){b=b.trim();if(""!==b){var m;try{m=a.parse(b,c.stanzas.BOSH)}catch(d){return b=new c.stanzas.StreamError({condition:"invalid-xml"}),c.emit("stream:error",b,d),c.send(b),c.disconnect()}c.hasStream||
(c.hasStream=!0,c.stream={id:m.sid,lang:m.lang||"en",version:m.version||"1.0",to:m.to,from:m.from},c.sid=m.sid,c.maxRequests=m.requests);m.payload.forEach(function(b){b.lang||(b.lang=c.stream.lang);c.emit("stream:data",b)});"terminate"===m.type&&(c.rid=void 0,c.sid=void 0,c.emit("bosh:terminate",m),c.emit("stream:end"),c.emit("disconnected",c))}})}var l=e("lodash.assign"),m=e("lodash.filter"),k=e("util"),p=e("bluebird"),n=p.promisify(e("request")),q=e("wildemitter");k.inherits(b,Error);k.inherits(g,
q);g.prototype.connect=function(b){this.config=l({rid:Math.ceil(9999999999*Math.random()),wait:30,maxRetries:5},b);this.hasStream=!1;this.sm.started=!1;this.url=b.boshURL;this.sid=this.config.sid;this.rid=this.config.rid;this.requests=[];this.rid++;this.request(new this.stanzas.BOSH({version:this.config.version||"1.0",to:this.config.server,lang:this.config.lang||"en",wait:this.config.wait,ver:"1.6",hold:1}))};g.prototype.disconnect=function(){this.hasStream?(this.rid++,this.request(new this.stanzas.BOSH({type:"terminate"}))):
(this.requests.forEach(function(b){b.request.cancel()}),this.rid=this.sid=this.stream=void 0,this.emit("disconnected",this))};g.prototype.restart=function(){this.rid++;this.request(new this.stanzas.BOSH({to:this.config.server,lang:this.config.lang||"en",restart:"true"}))};g.prototype.send=function(b){this.hasStream&&(this.sendQueue.push(b),a.nextTick(this.longPoll.bind(this)))};g.prototype.longPoll=function(){var b=0===this.requests.length,a=0<this.sendQueue.length&&this.requests.length<this.maxRequests;
this.sid&&(b||a)&&(b=this.sendQueue,this.sendQueue=[],this.rid++,this.request(new this.stanzas.BOSH({payload:b})))};g.prototype.request=function(k){var g=this,l={id:g.rid,request:null};k.rid=g.rid;k.sid=g.sid;var n=(new d(k.toString(),"utf8")).toString();g.emit("raw:outgoing",n);g.requests.push(l);n=c({uri:g.url,body:n,method:"POST",strictSSL:!0},1.5*g.config.wait,this.config.maxRetries);l.request=n;return n.then(function(b){g.emit("raw:incoming",(new d(b,"utf8")).toString())})["catch"](b,function(b){g.hasStream=
!1;var a=new g.stanzas.StreamError({condition:"connection-timeout"});g.emit("stream:error",a,b);g.disconnect()})["catch"](p.CancellationError,function(){})["finally"](function(){g.requests=m(g.requests,function(b){return b.id!==l.id});"terminate"!==k.type&&a.nextTick(function(){a.nextTick(g.longPoll.bind(g))})})};h.exports=g}).call(this,e("_process"),e("buffer").Buffer)},{_process:"/stanza.io/node_modules/browserify/node_modules/process/browser.js",bluebird:"/stanza.io/node_modules/bluebird/js/browser/bluebird.js",
buffer:"/stanza.io/node_modules/buffer/index.js","lodash.assign":"/stanza.io/node_modules/lodash.assign/index.js","lodash.filter":"/stanza.io/node_modules/lodash.filter/index.js",request:"/stanza.io/node_modules/xhr/index.js",util:"/stanza.io/node_modules/util/util.js",wildemitter:"/stanza.io/node_modules/wildemitter/wildemitter.js"}],"/stanza.io/lib/transports/old-websocket.js":[function(e,h,f){function a(a,g){b.call(this,a,g);var l=this;l.on("connected",function(){l.streamStart='<stream:stream xmlns:stream="http://etherx.jabber.org/streams">';
l.streamEnd="</stream:stream>"});l.off("raw:incoming");l.on("raw:incoming",function(b){var a,c;b=b.trim();b=b.replace(/^(\s*<\?.*\?>\s*)*/,"");if(""!==b){if(b.match(l.streamEnd))return l.disconnect();if(l.hasStream)try{a=g.parse([l.streamStart,b,l.streamEnd].join(""))}catch(n){return b=new this.stanzas.StreamError({condition:"invalid-xml"}),l.emit("stream:error",b,n),l.send(b),l.disconnect()}else{c=b.match(/^<(\S+:)?(\S+) /);l.streamStart=b;l.streamEnd="</"+(c[1]||"")+c[2]+">";c=!1;try{a=g.parse(b+
l.streamEnd)}catch(n){try{a=g.parse(b),c=!0}catch(e){return b=new this.stanzas.StreamError({condition:"invalid-xml"}),l.emit("stream:error",b,e),l.send(b),l.disconnect()}}l.hasStream=!0;l.stream=a;l.emit("stream:start",a)}d(a._extensions,function(b){!b.lang&&l.stream&&(b.lang=l.stream.lang);l.emit("stream:data",b)});c&&l.emit("stream:end")}})}var d=e("lodash.foreach"),b=e("./websocket");e("util").inherits(a,b);a.prototype.startHeader=function(){return['<stream:stream xmlns:stream="http://etherx.jabber.org/streams" xmlns="jabber:client"',
'version="'+(this.config.version||"1.0")+'"','xml:lang="'+(this.config.lang||"en")+'"','to="'+this.config.server+'">'].join(" ")};a.prototype.closeHeader=function(){return"</stream:stream>"};h.exports=a},{"./websocket":"/stanza.io/lib/transports/websocket.js","lodash.foreach":"/stanza.io/node_modules/lodash.foreach/index.js",util:"/stanza.io/node_modules/util/util.js"}],"/stanza.io/lib/transports/websocket.js":[function(e,h,f){(function(a){function d(b,d){var l=this;c.call(this);l.sm=b;l.closing=
!1;l.stanzas={Open:d.getDefinition("open","urn:ietf:params:xml:ns:xmpp-framing",!0),Close:d.getDefinition("close","urn:ietf:params:xml:ns:xmpp-framing",!0),StreamError:d.getStreamError()};l.sendQueue=g.queue(function(b,c){l.conn&&("string"!==typeof b&&(b=b.toString()),b=(new a(b,"utf8")).toString(),l.emit("raw:outgoing",b),1===l.conn.readyState&&l.conn.send(b));c()},1);l.on("connected",function(){l.send(l.startHeader())});l.on("raw:incoming",function(b){var a;b=b.trim();if(""!==b){try{a=d.parse(b)}catch(c){return b=
new this.stanzas.StreamError({condition:"invalid-xml"}),l.emit("stream:error",b,c),l.send(b),l.disconnect()}if("openStream"===a._name)return l.hasStream=!0,l.stream=a,l.emit("stream:start",a.toJSON());if("closeStream"===a._name)return l.emit("stream:end"),l.disconnect();!a.lang&&l.stream&&(a.lang=l.stream.lang);l.emit("stream:data",a)}})}var b=e("util"),c=e("wildemitter"),g=e("async"),l=e("faye-websocket")&&e("faye-websocket").Client?e("faye-websocket").Client:window.WebSocket;b.inherits(d,c);d.prototype.connect=
function(b){var c=this;c.config=b;c.hasStream=!1;c.closing=!1;c.conn=new l(b.wsURL,"xmpp");c.conn.onerror=function(b){b.preventDefault();c.emit("disconnected",c)};c.conn.onclose=function(){c.emit("disconnected",c)};c.conn.onopen=function(){c.sm.started=!1;c.emit("connected",c)};c.conn.onmessage=function(b){c.emit("raw:incoming",(new a(b.data,"utf8")).toString())}};d.prototype.startHeader=function(){return new this.stanzas.Open({version:this.config.version||"1.0",lang:this.config.lang||"en",to:this.config.server})};
d.prototype.closeHeader=function(){return new this.stanzas.Close};d.prototype.disconnect=function(){this.conn&&!this.closing&&this.hasStream?(this.closing=!0,this.send(this.closeHeader())):(this.hasStream=!1,this.stream=void 0,1===this.conn.readyState&&this.conn.close(),this.conn=void 0)};d.prototype.restart=function(){this.hasStream=!1;this.send(this.startHeader())};d.prototype.send=function(b){this.sendQueue.push(b)};h.exports=d}).call(this,e("buffer").Buffer)},{async:"/stanza.io/node_modules/async/lib/async.js",
buffer:"/stanza.io/node_modules/buffer/index.js","faye-websocket":"/stanza.io/node_modules/browser-resolve/empty.js",util:"/stanza.io/node_modules/util/util.js",wildemitter:"/stanza.io/node_modules/wildemitter/wildemitter.js"}],"/stanza.io/node_modules/alt-sasl-digest-md5/index.js":[function(e,h,f){function a(){return b(16).toString("hex")}function d(b){b=b||{};this._genNonce=b.genNonce||a}var b=e("randombytes"),c=e("create-hash");d.Mechanism=d;d.prototype.name="DIGEST-MD5";d.prototype.clientFirst=
!1;d.prototype.response=function(b){if(!this._completed){var a=b.serviceType+"/"+b.host;b.serviceName&&b.host!==b.serviceName&&(a+="/"+b.serviceName);var m=b.realm||this._realm||"",d=this._genNonce(),p;p=""+('username="'+b.username+'"');m&&(p+=',realm="'+m+'"');p+=',nonce="'+this._nonce+'"';p=p+(',cnonce="'+d+'"')+",nc=00000001,qop=auth";p+=',digest-uri="'+a+'"';m=c("md5").update(b.username).update(":").update(m).update(":").update(b.password).digest();m=c("md5").update(m).update(":").update(this._nonce).update(":").update(d);
b.authzid&&m.update(":").update(b.authzid);m=m.digest("hex");a=c("md5").update("AUTHENTICATE:").update(a);a=a.digest("hex");d=c("md5").update(m).update(":").update(this._nonce).update(":").update("00000001").update(":").update(d).update(":").update("auth").update(":").update(a).digest("hex");p+=",response="+d;"utf-8"===this._charset&&(p+=",charset=utf-8");b.authzid&&(p+='authzid="'+b.authzid+'"');return p}};d.prototype.challenge=function(b){var a={};b=b.split(/,(?=(?:[^"]|"[^"]*")*$)/);for(var c=
0,d=b.length;c<d;c++){var p=/(\w+)=["]?([^"]+)["]?$/.exec(b[c]);p&&(a[p[1]]=p[2])}this._completed=!!a.rspauth;this._realm=a.realm;this._nonce=a.nonce;this._qop=(a.qop||"auth").split(",");this._stale=a.stale;this._maxbuf=parseInt(a.maxbuf)||65536;this._charset=a.charset;this._algo=a.algorithm;(this._cipher=a.cipher)&&this._cipher.split(",");return this};h.exports=d},{"create-hash":"/stanza.io/node_modules/create-hash/browser.js",randombytes:"/stanza.io/node_modules/randombytes/browser.js"}],"/stanza.io/node_modules/async/lib/async.js":[function(e,
h,f){(function(a,d){(function(){function b(){}function c(b){return b}function g(b){return!!b}function l(b){return!b}function m(b){return function(){if(null===b)throw Error("Callback was already called.");b.apply(this,arguments);b=null}}function k(b){return function(){null!==b&&(b.apply(this,arguments),b=null)}}function p(b){return P(b)||"number"===typeof b.length&&0<=b.length&&0===b.length%1}function n(b,a){for(var c=-1,d=b.length;++c<d;)a(b[c],c,b)}function e(b,a){for(var c=-1,d=b.length,m=Array(d);++c<
d;)m[c]=a(b[c],c,b);return m}function u(b){return e(Array(b),function(b,a){return a})}function f(b,a,c){n(b,function(b,d,m){c=a(c,b,d,m)});return c}function r(b,a){n(U(b),function(c){a(b[c],c)})}function w(b,a){for(var c=0;c<b.length;c++)if(b[c]===a)return c;return-1}function y(b){var a=-1,c,d;if(p(b))return c=b.length,function(){a++;return a<c?a:null};d=U(b);c=d.length;return function(){a++;return a<c?d[a]:null}}function v(b,a){a=null==a?b.length-1:+a;return function(){for(var c=Math.max(arguments.length-
a,0),d=Array(c),m=0;m<c;m++)d[m]=arguments[m+a];switch(a){case 0:return b.call(this,d);case 1:return b.call(this,arguments[0],d)}}}function x(b){return function(a,c,d){return b(a,d)}}function A(a){return function(c,d,g){g=k(g||b);c=c||[];var l=y(c);if(0>=a)return g(null);var p=!1,n=0,e=!1;(function X(){if(p&&0>=n)return g(null);for(;n<a&&!e;){var b=l();if(null===b){p=!0;0>=n&&g(null);break}n+=1;d(c[b],b,m(function(b){--n;b?(g(b),e=!0):X()}))}})()}}function D(b){return function(a,c,d){return b(z.eachOf,
a,c,d)}}function C(b){return function(a,c,d,m){return b(A(c),a,d,m)}}function E(b){return function(a,c,d){return b(z.eachOfSeries,a,c,d)}}function B(a,c,d,m){m=k(m||b);c=c||[];var g=p(c)?[]:{};a(c,function(b,a,c){d(b,function(b,d){g[a]=d;c(b)})},function(b){m(b,g)})}function I(b,a,c,d){var m=[];b(a,function(b,a,d){c(b,function(c){c&&m.push({index:a,value:b});d()})},function(){d(e(m.sort(function(b,a){return b.index-a.index}),function(b){return b.value}))})}function J(b,a,c,d){I(b,a,function(b,a){c(b,
function(b){a(!b)})},d)}function F(b,a,c){return function(d,m,k,g){function l(){g&&g(c(!1,void 0))}function p(b,d,m){if(!g)return m();k(b,function(d){g&&a(d)&&(g(c(!0,b)),g=k=!1);m()})}3<arguments.length?b(d,m,p,l):(g=k,k=m,b(d,p,l))}}function K(b,a){return a}function G(a,c,d){d=d||b;var m=p(c)?[]:{};a(c,function(b,a,c){b(v(function(b,d){1>=d.length&&(d=d[0]);m[a]=d;c(b)}))},function(b){d(b,m)})}function L(b,a,c,d){var m=[];b(a,function(b,a,d){c(b,function(b,a){m=m.concat(a||[]);d(b)})},function(b){d(b,
m)})}function H(a,c,d){function k(a,c,d,m){if(null!=m&&"function"!==typeof m)throw Error("task callback must be a function");a.started=!0;P(c)||(c=[c]);if(0===c.length&&a.idle())return z.setImmediate(function(){a.drain()});n(c,function(c){c={data:c,callback:m||b};d?a.tasks.unshift(c):a.tasks.push(c);a.tasks.length===a.concurrency&&a.saturated()});z.setImmediate(a.process)}function g(b,a){return function(){--l;var c=!1,d=arguments;n(a,function(b){n(p,function(a,d){a!==b||c||(p.splice(d,1),c=!0)});
b.callback.apply(b,d)});0===b.tasks.length+l&&b.drain();b.process()}}if(null==c)c=1;else if(0===c)throw Error("Concurrency must not be zero");var l=0,p=[],H={tasks:[],concurrency:c,payload:d,saturated:b,empty:b,drain:b,started:!1,paused:!1,push:function(b,a){k(H,b,!1,a)},kill:function(){H.drain=b;H.tasks=[]},unshift:function(b,a){k(H,b,!0,a)},process:function(){for(;!H.paused&&l<H.concurrency&&H.tasks.length;){var b=H.payload?H.tasks.splice(0,H.payload):H.tasks.splice(0,H.tasks.length),c=e(b,function(b){return b.data});
0===H.tasks.length&&H.empty();l+=1;p.push(b[0]);b=m(g(H,b));a(c,b)}},length:function(){return H.tasks.length},running:function(){return l},workersList:function(){return p},idle:function(){return 0===H.tasks.length+l},pause:function(){H.paused=!0},resume:function(){if(!1!==H.paused){H.paused=!1;for(var b=Math.min(H.concurrency,H.tasks.length),a=1;a<=b;a++)z.setImmediate(H.process)}}};return H}function N(b){return v(function(a,c){a.apply(null,c.concat([v(function(a,c){"object"===typeof console&&(a?
console.error&&console.error(a):console[b]&&n(c,function(a){console[b](a)}))})]))})}function O(b){return function(a,c,d){b(u(a),c,d)}}function S(b){return v(function(a,c){var d=v(function(c){var d=this,m=c.pop();return b(a,function(b,a,m){b.apply(d,c.concat([m]))},m)});return c.length?d.apply(this,c):d})}function R(b){return v(function(a){var c=a.pop();a.push(function(){var b=arguments;d?z.setImmediate(function(){c.apply(null,b)}):c.apply(null,b)});var d=!0;b.apply(this,a);d=!1})}var z={},T,Q="object"===
typeof self&&self.self===self&&self||"object"===typeof d&&d.global===d&&d||this;null!=Q&&(T=Q.async);z.noConflict=function(){Q.async=T;return z};var Y=Object.prototype.toString,P=Array.isArray||function(b){return"[object Array]"===Y.call(b)},Z=function(b){var a=typeof b;return"function"===a||"object"===a&&!!b},U=Object.keys||function(b){var a=[],c;for(c in b)b.hasOwnProperty(c)&&a.push(c);return a},V="function"===typeof setImmediate&&setImmediate,W=V?function(b){V(b)}:function(b){setTimeout(b,0)};
z.nextTick="object"===typeof a&&"function"===typeof a.nextTick?a.nextTick:W;z.setImmediate=V?W:z.nextTick;z.forEach=z.each=function(b,a,c){return z.eachOf(b,x(a),c)};z.forEachSeries=z.eachSeries=function(b,a,c){return z.eachOfSeries(b,x(a),c)};z.forEachLimit=z.eachLimit=function(b,a,c,d){return A(a)(b,x(c),d)};z.forEachOf=z.eachOf=function(a,c,d){function g(b){n--;b?d(b):null===p&&0>=n&&d(null)}d=k(d||b);a=a||[];for(var l=y(a),p,n=0;null!=(p=l());)n+=1,c(a[p],p,m(g));0===n&&d(null)};z.forEachOfSeries=
z.eachOfSeries=function(a,c,d){function g(){var b=!0;if(null===p)return d(null);c(a[p],p,m(function(a){if(a)d(a);else{p=l();if(null===p)return d(null);b?z.setImmediate(g):g()}}));b=!1}d=k(d||b);a=a||[];var l=y(a),p=l();g()};z.forEachOfLimit=z.eachOfLimit=function(b,a,c,d){A(a)(b,c,d)};z.map=D(B);z.mapSeries=E(B);z.mapLimit=C(B);z.inject=z.foldl=z.reduce=function(b,a,c,d){z.eachOfSeries(b,function(b,d,m){c(a,b,function(b,c){a=c;m(b)})},function(b){d(b,a)})};z.foldr=z.reduceRight=function(b,a,d,m){b=
e(b,c).reverse();z.reduce(b,a,d,m)};z.transform=function(b,a,c,d){3===arguments.length&&(d=c,c=a,a=P(b)?[]:{});z.eachOf(b,function(b,d,m){c(a,b,d,m)},function(b){d(b,a)})};z.select=z.filter=D(I);z.selectLimit=z.filterLimit=C(I);z.selectSeries=z.filterSeries=E(I);z.reject=D(J);z.rejectLimit=C(J);z.rejectSeries=E(J);z.any=z.some=F(z.eachOf,g,c);z.someLimit=F(z.eachOfLimit,g,c);z.all=z.every=F(z.eachOf,l,l);z.everyLimit=F(z.eachOfLimit,l,l);z.detect=F(z.eachOf,c,K);z.detectSeries=F(z.eachOfSeries,c,
K);z.detectLimit=F(z.eachOfLimit,c,K);z.sortBy=function(b,a,c){function d(b,a){var c=b.criteria,m=a.criteria;return c<m?-1:c>m?1:0}z.map(b,function(b,c){a(b,function(a,d){a?c(a):c(null,{value:b,criteria:d})})},function(b,a){if(b)return c(b);c(null,e(a.sort(d),function(b){return b.value}))})};z.auto=function(a,c,d){function m(){l--;n(H.slice(0),function(b){b()})}"function"===typeof c&&(d=c,c=null);d=k(d||b);var g=U(a),l=g.length;if(!l)return d(null);c||(c=l);var p={},e=0,q=!1,H=[];H.unshift(function(){l||
d(null,p)});n(g,function(b){function k(){return e<c&&f(u,function(b,a){return b&&p.hasOwnProperty(a)},!0)&&!p.hasOwnProperty(b)}function g(){if(k()){e++;var b=w(H,g);0<=b&&H.splice(b,1);l[l.length-1](n,p)}}if(!q){for(var l=P(a[b])?a[b]:[a[b]],n=v(function(a,c){e--;1>=c.length&&(c=c[0]);if(a){var k={};r(p,function(b,a){k[a]=b});k[b]=c;q=!0;d(a,k)}else p[b]=c,z.setImmediate(m)}),u=l.slice(0,l.length-1),N=u.length,h;N--;){if(!(h=a[u[N]]))throw Error("Has nonexistent dependency in "+u.join(", "));if(P(h)&&
0<=w(h,b))throw Error("Has cyclic dependencies");}k()?(e++,l[l.length-1](n,p)):H.unshift(g)}})};z.retry=function(b,a,c){function d(b,a){if("number"===typeof a)b.times=parseInt(a,10)||5;else if("object"===typeof a)b.times=parseInt(a.times,10)||5,b.interval=parseInt(a.interval,10)||0;else throw Error("Unsupported argument type for 'times': "+typeof a);}function m(b,a){function c(b,d){return function(c){b(function(b,a){c(!b||d,{err:b,result:a})},a)}}function d(b){return function(a){setTimeout(function(){a(null)},
b)}}for(;g.times;){var l=!--g.times;k.push(c(g.task,l));!l&&0<g.interval&&k.push(d(g.interval))}z.series(k,function(a,c){c=c[c.length-1];(b||g.callback)(c.err,c.result)})}var k=[],g={times:5,interval:0},l=arguments.length;if(1>l||3<l)throw Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");2>=l&&"function"===typeof b&&(c=a,a=b);"function"!==typeof b&&d(g,b);g.callback=c;g.task=a;return g.callback?m():m};z.waterfall=function(a,c){function d(b){return v(function(a,
m){if(a)c.apply(null,[a].concat(m));else{var k=b.next();k?m.push(d(k)):m.push(c);R(b).apply(null,m)}})}c=k(c||b);if(!P(a))return c(Error("First argument to waterfall must be an array of functions"));if(!a.length)return c();d(z.iterator(a))()};z.parallel=function(b,a){G(z.eachOf,b,a)};z.parallelLimit=function(b,a,c){G(A(a),b,c)};z.series=function(b,a){G(z.eachOfSeries,b,a)};z.iterator=function(b){function a(c){function d(){b.length&&b[c].apply(null,arguments);return d.next()}d.next=function(){return c<
b.length-1?a(c+1):null};return d}return a(0)};z.apply=v(function(b,a){return v(function(c){return b.apply(null,a.concat(c))})});z.concat=D(L);z.concatSeries=E(L);z.whilst=function(a,c,d){d=d||b;if(a()){var m=v(function(b,k){b?d(b):a.apply(this,k)?c(m):d.apply(null,[null].concat(k))});c(m)}else d(null)};z.doWhilst=function(b,a,c){var d=0;return z.whilst(function(){return 1>=++d||a.apply(this,arguments)},b,c)};z.until=function(b,a,c){return z.whilst(function(){return!b.apply(this,arguments)},a,c)};
z.doUntil=function(b,a,c){return z.doWhilst(b,function(){return!a.apply(this,arguments)},c)};z.during=function(a,c,d){d=d||b;var m=v(function(b,c){b?d(b):(c.push(k),a.apply(this,c))}),k=function(b,a){b?d(b):a?c(m):d(null)};a(k)};z.doDuring=function(b,a,c){var d=0;z.during(function(b){1>d++?b(null,!0):a.apply(this,arguments)},b,c)};z.queue=function(b,a){return H(function(a,c){b(a[0],c)},a,1)};z.priorityQueue=function(a,c){function d(b,a){return b.priority-a.priority}function m(b,a,c){for(var d=-1,
k=b.length-1;d<k;){var g=d+(k-d+1>>>1);0<=c(a,b[g])?d=g:k=g-1}return d}function k(a,c,g,l){if(null!=l&&"function"!==typeof l)throw Error("task callback must be a function");a.started=!0;P(c)||(c=[c]);if(0===c.length)return z.setImmediate(function(){a.drain()});n(c,function(c){c={data:c,priority:g,callback:"function"===typeof l?l:b};a.tasks.splice(m(a.tasks,c,d)+1,0,c);a.tasks.length===a.concurrency&&a.saturated();z.setImmediate(a.process)})}var g=z.queue(a,c);g.push=function(b,a,c){k(g,b,a,c)};delete g.unshift;
return g};z.cargo=function(b,a){return H(b,1,a)};z.log=N("log");z.dir=N("dir");z.memoize=function(b,a){var d={},m={},k=Object.prototype.hasOwnProperty;a=a||c;var g=v(function(c){var g=c.pop(),l=a.apply(null,c);k.call(d,l)?z.setImmediate(function(){g.apply(null,d[l])}):k.call(m,l)?m[l].push(g):(m[l]=[g],b.apply(null,c.concat([v(function(b){d[l]=b;var a=m[l];delete m[l];for(var c=0,k=a.length;c<k;c++)a[c].apply(null,b)})])))});g.memo=d;g.unmemoized=b;return g};z.unmemoize=function(b){return function(){return(b.unmemoized||
b).apply(null,arguments)}};z.times=O(z.map);z.timesSeries=O(z.mapSeries);z.timesLimit=function(b,a,c,d){return z.mapLimit(u(b),a,c,d)};z.seq=function(){var a=arguments;return v(function(c){var d=this,m=c[c.length-1];"function"==typeof m?c.pop():m=b;z.reduce(a,c,function(b,a,c){a.apply(d,b.concat([v(function(b,a){c(b,a)})]))},function(b,a){m.apply(d,[b].concat(a))})})};z.compose=function(){return z.seq.apply(null,Array.prototype.reverse.call(arguments))};z.applyEach=S(z.eachOf);z.applyEachSeries=S(z.eachOfSeries);
z.forever=function(a,c){function d(b){if(b)return k(b);g(d)}var k=m(c||b),g=R(a);d()};z.ensureAsync=R;z.constant=v(function(b){var a=[null].concat(b);return function(b){return b.apply(this,a)}});z.wrapSync=z.asyncify=function(b){return v(function(a){var c=a.pop(),d;try{d=b.apply(this,a)}catch(m){return c(m)}if(Z(d)&&"function"===typeof d.then)d.then(function(b){c(null,b)})["catch"](function(b){c(b.message?b:Error(b))});else c(null,d)})};"object"===typeof h&&h.exports?h.exports=z:Q.async=z})()}).call(this,
e("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{_process:"/stanza.io/node_modules/browserify/node_modules/process/browser.js"}],"/stanza.io/node_modules/babel-runtime/core-js/object/assign.js":[function(e,h,f){h.exports={"default":e("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":"/stanza.io/node_modules/core-js/library/fn/object/assign.js"}],"/stanza.io/node_modules/babel-runtime/helpers/interop-require-default.js":[function(e,
h,f){f["default"]=function(a){return a&&a.__esModule?a:{"default":a}};f.__esModule=!0},{}],"/stanza.io/node_modules/base64-js/lib/b64.js":[function(e,h,f){(function(a){function d(b){b=b.charCodeAt(0);if(43===b||45===b)return 62;if(47===b||95===b)return 63;if(48>b)return-1;if(58>b)return b-48+52;if(91>b)return b-65;if(123>b)return b-97+26}var b="undefined"!==typeof Uint8Array?Uint8Array:Array;a.toByteArray=function(a){function g(b){n[e++]=b}var l,m,k,p,n;if(0<a.length%4)throw Error("Invalid string. Length must be a multiple of 4");
l=a.length;p="="===a.charAt(l-2)?2:"="===a.charAt(l-1)?1:0;n=new b(3*a.length/4-p);m=0<p?a.length-4:a.length;var e=0;for(l=0;l<m;l+=4)k=d(a.charAt(l))<<18|d(a.charAt(l+1))<<12|d(a.charAt(l+2))<<6|d(a.charAt(l+3)),g((k&16711680)>>16),g((k&65280)>>8),g(k&255);2===p?(k=d(a.charAt(l))<<2|d(a.charAt(l+1))>>4,g(k&255)):1===p&&(k=d(a.charAt(l))<<10|d(a.charAt(l+1))<<4|d(a.charAt(l+2))>>2,g(k>>8&255),g(k&255));return n};a.fromByteArray=function(b){var a,d=b.length%3,m="",k,p;a=0;for(p=b.length-d;a<p;a+=3)k=
(b[a]<<16)+(b[a+1]<<8)+b[a+2],k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(k>>18&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(k>>12&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(k>>6&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(k&63),m+=k;switch(d){case 1:k=b[b.length-1];m+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(k>>2);m+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(k<<
4&63);m+="==";break;case 2:k=(b[b.length-2]<<8)+b[b.length-1],m+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(k>>10),m+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(k>>4&63),m+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(k<<2&63),m+="="}return m}})("undefined"===typeof f?this.base64js={}:f)},{}],"/stanza.io/node_modules/bitwise-xor/index.js":[function(e,h,f){(function(a){h.exports=function(d,b){a.isBuffer(d)||
(d=new a(d));a.isBuffer(b)||(b=new a(b));var c=[];if(d.length>b.length)for(var g=0;g<b.length;g++)c.push(d[g]^b[g]);else for(g=0;g<d.length;g++)c.push(d[g]^b[g]);return new a(c)}}).call(this,e("buffer").Buffer)},{buffer:"/stanza.io/node_modules/buffer/index.js"}],"/stanza.io/node_modules/bluebird/js/browser/bluebird.js":[function(e,h,f){(function(a,d){!function(b){if("object"==typeof f&&"undefined"!=typeof h)h.exports=b();else{var a;"undefined"!=typeof window?a=window:"undefined"!=typeof d?a=d:"undefined"!=
typeof self&&(a=self);a.Promise=b()}}(function(){return function c(a,d,m){function k(n,e){if(!d[n]){if(!a[n]){var f="function"==typeof _dereq_&&_dereq_;if(!e&&f)return f(n,!0);if(p)return p(n,!0);f=Error("Cannot find module '"+n+"'");throw f.code="MODULE_NOT_FOUND",f;}f=d[n]={exports:{}};a[n][0].call(f.exports,function(c){var d=a[n][1][c];return k(d?d:c)},f,f.exports,c,a,d,m)}return d[n].exports}for(var p="function"==typeof _dereq_&&_dereq_,n=0;n<m.length;n++)k(m[n]);return k}({1:[function(a,d,l){d.exports=
function(a){function c(a){a=new d(a);var m=a.promise();a.setHowMany(1);a.setUnwrap();a.init();return m}var d=a._SomePromiseArray;a.any=function(a){return c(a)};a.prototype.any=function(){return c(this)}}},{}],2:[function(a,d,l){function m(){this._isTickUsed=!1;this._lateQueue=new f(16);this._normalQueue=new f(16);this._trampolineEnabled=!0;var a=this;this.drainQueues=function(){a._drainQueues()};this._schedule=q.isStatic?q(this.drainQueues):q}function k(a,c,d){this._lateQueue.push(a,c,d);this._queueTick()}
function p(a,c,d){this._normalQueue.push(a,c,d);this._queueTick()}function n(a){this._normalQueue._pushOne(a);this._queueTick()}try{throw Error();}catch(e){l=e}var q=a("./schedule.js"),f=a("./queue.js"),t=a("./util.js");m.prototype.disableTrampolineIfNecessary=function(){t.hasDevTools&&(this._trampolineEnabled=!1)};m.prototype.enableTrampoline=function(){this._trampolineEnabled||(this._trampolineEnabled=!0,this._schedule=function(a){setTimeout(a,0)})};m.prototype.haveItemsQueued=function(){return 0<
this._normalQueue.length()};m.prototype.throwLater=function(a,c){1===arguments.length&&(c=a,a=function(){throw c;});if("undefined"!==typeof setTimeout)setTimeout(function(){a(c)},0);else try{this._schedule(function(){a(c)})}catch(d){throw Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n");}};t.hasDevTools?(q.isStatic&&(q=function(a){setTimeout(a,0)}),m.prototype.invokeLater=function(a,c,d){this._trampolineEnabled?k.call(this,a,c,d):this._schedule(function(){setTimeout(function(){a.call(c,
d)},100)})},m.prototype.invoke=function(a,c,d){this._trampolineEnabled?p.call(this,a,c,d):this._schedule(function(){a.call(c,d)})},m.prototype.settlePromises=function(a){this._trampolineEnabled?n.call(this,a):this._schedule(function(){a._settlePromises()})}):(m.prototype.invokeLater=k,m.prototype.invoke=p,m.prototype.settlePromises=n);m.prototype.invokeFirst=function(a,c,d){this._normalQueue.unshift(a,c,d);this._queueTick()};m.prototype._drainQueue=function(a){for(;0<a.length();){var c=a.shift();
if("function"!==typeof c)c._settlePromises();else{var d=a.shift(),m=a.shift();c.call(d,m)}}};m.prototype._drainQueues=function(){this._drainQueue(this._normalQueue);this._reset();this._drainQueue(this._lateQueue)};m.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))};m.prototype._reset=function(){this._isTickUsed=!1};d.exports=new m;d.exports.firstLineError=l},{"./queue.js":28,"./schedule.js":31,"./util.js":38}],3:[function(a,d,l){d.exports=function(a,
c,d){var g=function(a,c){this._reject(c)},l=function(a,c){c.promiseRejectionQueued=!0;c.bindingPromise._then(g,g,null,this,a)},e=function(a,c){this._isPending()&&this._resolveCallback(c.target)},f=function(a,c){c.promiseRejectionQueued||this._reject(a)};a.prototype.bind=function(g){g=d(g);var n=new a(c);n._propagateFrom(this,1);var h=this._target();n._setBoundTo(g);if(g instanceof a){var v={promiseRejectionQueued:!1,promise:n,target:h,bindingPromise:g};h._then(c,l,n._progress,n,v);g._then(e,f,n._progress,
n,v)}else n._resolveCallback(h);return n};a.prototype._setBoundTo=function(a){void 0!==a?(this._bitField|=131072,this._boundTo=a):this._bitField&=-131073};a.prototype._isBound=function(){return 131072===(this._bitField&131072)};a.bind=function(g,l){var n=d(g),e=new a(c);e._setBoundTo(n);n instanceof a?n._then(function(){e._resolveCallback(l)},e._reject,e._progress,e,null):e._resolveCallback(l);return e}}},{}],4:[function(a,d,l){var m;"undefined"!==typeof Promise&&(m=Promise);var k=a("./promise.js")();
k.noConflict=function(){try{Promise===k&&(Promise=m)}catch(a){}return k};d.exports=k},{"./promise.js":23}],5:[function(a,d,l){var m=Object.create;m&&(l=m(null),m=m(null),l[" size"]=m[" size"]=0);d.exports=function(d){function m(a){var c=this.pop(),g;null!=a&&(g=a[c]);if("function"!==typeof g)throw a="Object "+e.classString(a)+" has no method '"+e.toString(c)+"'",new d.TypeError(a);return g.apply(a,this)}function g(a){return a[this]}function l(a){var c=+this;0>c&&(c=Math.max(0,c+a.length));return a[c]}
var e=a("./util.js"),f=e.canEvaluate;d.prototype.call=function(a){for(var c=arguments.length,d=Array(c-1),k=1;k<c;++k)d[k-1]=arguments[k];d.push(a);return this._then(m,void 0,void 0,d,void 0)};d.prototype.get=function(a){var c;"number"!==typeof a?f?(c=(void 0)(a),c=null!==c?c:g):c=g:c=l;return this._then(c,void 0,void 0,a,void 0)}}},{"./util.js":38}],6:[function(a,d,l){d.exports=function(d){var k=a("./errors.js"),g=a("./async.js"),l=k.CancellationError;d.prototype._cancel=function(a){if(!this.isCancellable())return this;
for(var c,d=this;void 0!==(c=d._cancellationParent)&&c.isCancellable();)d=c;this._unsetCancellable();d._target()._rejectCallback(a,!1,!0)};d.prototype.cancel=function(a){if(!this.isCancellable())return this;void 0===a&&(a=new l);g.invokeLater(this._cancel,this,a);return this};d.prototype.cancellable=function(){if(this._cancellable())return this;g.enableTrampoline();this._setCancellable();this._cancellationParent=void 0;return this};d.prototype.uncancellable=function(){var a=this.then();a._unsetCancellable();
return a};d.prototype.fork=function(a,c,d){a=this._then(a,c,d,void 0,void 0);a._setCancellable();a._cancellationParent=void 0;return a}}},{"./async.js":2,"./errors.js":13}],7:[function(c,d,l){d.exports=function(){function d(a){this._parent=a;a=this._length=1+(void 0===a?0:a._length);C(this,d);32<a&&this.uncycle()}function k(a,c){for(var d=0;d<c.length-1;++d)c[d].push("From previous event:"),c[d]=c[d].join("\n");d<c.length&&(c[d]=c[d].join("\n"));return a+"\n"+c.join("\n")}function g(a){for(var c=
[],d=0;d<a.length;++d){var m=a[d],k=w.test(m)||"    (No stack trace)"===m,l=k&&A(m);k&&!l&&(v&&" "!==m.charAt(0)&&(m="    "+m),c.push(m))}return c}function l(a){var c;if("function"===typeof a)c="[function "+(a.name||"anonymous")+"]";else{c=a.toString();if(/\[object [a-zA-Z0-9$_]+\]/.test(c))try{c=JSON.stringify(a)}catch(d){}0===c.length&&(c="(empty array)")}a=41>c.length?c:c.substr(0,38)+"...";return"(<"+a+">, no stack trace)"}function e(a){if(a=a.match(D))return{fileName:a[1],line:parseInt(a[2],
10)}}var f=c("./async.js"),t=c("./util.js"),h=/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/,w=null,y=null,v=!1,x;t.inherits(d,Error);d.prototype.uncycle=function(){var a=this._length;if(!(2>a)){for(var c=[],d={},m=0,a=this;void 0!==a;++m)c.push(a),a=a._parent;a=this._length=m;for(m=a-1;0<=m;--m){var k=c[m].stack;void 0===d[k]&&(d[k]=m)}for(m=0;m<a;++m)if(k=d[c[m].stack],void 0!==k&&k!==m){0<k&&(c[k-1]._parent=void 0,c[k-1]._length=1);c[m]._parent=void 0;c[m]._length=1;d=0<m?c[m-1]:
this;k<a-1?(d._parent=c[k+1],d._parent.uncycle(),d._length=d._parent._length+1):(d._parent=void 0,d._length=1);a=d._length+1;for(m-=2;0<=m;--m)c[m]._length=a,a++;break}}};d.prototype.parent=function(){return this._parent};d.prototype.hasParent=function(){return void 0!==this._parent};d.prototype.attachExtraTrace=function(a){if(!a.__stackCleaned__){this.uncycle();for(var c=d.parseStackAndMessage(a),l=c.message,c=[c.stack],n=this;void 0!==n;)c.push(g(n.stack.split("\n"))),n=n._parent;for(var n=c[0],
e=1;e<c.length;++e){for(var q=c[e],H=n.length-1,f=n[H],u=-1,h=q.length-1;0<=h;--h)if(q[h]===f){u=h;break}for(h=u;0<=h;--h)if(n[H]===q[h])n.pop(),H--;else break;n=q}for(n=0;n<c.length;++n)if(0===c[n].length||n+1<c.length&&c[n][0]===c[n+1][0])c.splice(n,1),n--;t.notEnumerableProp(a,"stack",k(l,c));t.notEnumerableProp(a,"__stackCleaned__",!0)}};d.parseStackAndMessage=function(a){var c=a.stack,d=a.toString();if("string"===typeof c&&0<c.length){a=a.stack.replace(/\s+$/g,"").split("\n");for(c=0;c<a.length;++c){var m=
a[c];if("    (No stack trace)"===m||w.test(m))break}0<c&&(a=a.slice(c))}else a=["    (No stack trace)"];return{message:d,stack:g(a)}};d.formatAndLogError=function(a,c){if("undefined"!==typeof console){var d;d="object"===typeof a||"function"===typeof a?c+y(a.stack,a):c+String(a);"function"===typeof x?x(d):"function"!==typeof console.log&&"object"!==typeof console.log||console.log(d)}};d.unhandledRejection=function(a){d.formatAndLogError(a,"^--- With additional stack trace: ")};d.isSupported=function(){return"function"===
typeof C};d.fireRejectionEvent=function(a,c,k,g){var l=!1;try{"function"===typeof c&&(l=!0,"rejectionHandled"===a?c(g):c(k,g))}catch(n){f.throwLater(n)}c=!1;try{c=B(a,k,g)}catch(n){c=!0,f.throwLater(n)}var p=!1;if(E)try{p=E(a.toLowerCase(),{reason:k,promise:g})}catch(n){p=!0,f.throwLater(n)}c||l||p||"unhandledRejection"!==a||d.formatAndLogError(k,"Unhandled rejection ")};var A=function(){return!1},D=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;d.setBounds=function(a,c){if(d.isSupported()){for(var k=a.stack.split("\n"),
g=c.stack.split("\n"),l=-1,n=-1,p,f,u=0;u<k.length;++u){var t=e(k[u]);if(t){p=t.fileName;l=t.line;break}}for(u=0;u<g.length;++u)if(t=e(g[u])){f=t.fileName;n=t.line;break}0>l||0>n||!p||!f||p!==f||l>=n||(A=function(a){return h.test(a)?!0:(a=e(a))&&a.fileName===p&&l<=a.line&&a.line<=n?!0:!1})}};var C=function(){var a=/^\s*at\s*/,c=function(a,c){return"string"===typeof a?a:void 0!==c.name&&void 0!==c.message?c.toString():l(c)};if("number"===typeof Error.stackTraceLimit&&"function"===typeof Error.captureStackTrace){Error.stackTraceLimit+=
6;w=a;y=c;var d=Error.captureStackTrace;A=function(a){return h.test(a)};return function(a,c){Error.stackTraceLimit+=6;d(a,c);Error.stackTraceLimit-=6}}var m=Error();if("string"===typeof m.stack&&0<=m.stack.split("\n")[0].indexOf("stackDetection@"))return w=/@/,y=c,v=!0,function(a){a.stack=Error().stack};var k;try{throw Error();}catch(g){k="stack"in g}if(!("stack"in m)&&k&&"number"===typeof Error.stackTraceLimit)return w=a,y=c,function(a){Error.stackTraceLimit+=6;try{throw Error();}catch(c){a.stack=
c.stack}Error.stackTraceLimit-=6};y=function(a,c){return"string"===typeof a?a:"object"!==typeof c&&"function"!==typeof c||void 0===c.name||void 0===c.message?l(c):c.toString()};return null}([]),E,B=function(){if(t.isNode)return function(c,d,m){return"rejectionHandled"===c?a.emit(c,m):a.emit(c,d,m)};var c=!1,d=!0;try{c=new self.CustomEvent("test")instanceof CustomEvent}catch(m){}if(!c)try{var k=document.createEvent("CustomEvent");k.initCustomEvent("testingtheevent",!1,!0,{});self.dispatchEvent(k)}catch(m){d=
!1}d&&(E=function(a,d){var m;c?m=new self.CustomEvent(a,{detail:d,bubbles:!1,cancelable:!0}):self.dispatchEvent&&(m=document.createEvent("CustomEvent"),m.initCustomEvent(a,!1,!0,d));return m?!self.dispatchEvent(m):!1});var g={unhandledRejection:"onunhandledrejection",rejectionHandled:"onrejectionhandled"};return function(a,c,d){var m=self[g[a]];if(!m)return!1;"rejectionHandled"===a?m.call(self,d):m.call(self,c,d);return!0}}();"undefined"!==typeof console&&"undefined"!==typeof console.warn&&(x=function(a){console.warn(a)},
t.isNode&&a.stderr.isTTY?x=function(c){a.stderr.write("\u001b[31m"+c+"\u001b[39m\n")}:t.isNode||"string"!==typeof Error().stack||(x=function(a){console.warn("%c"+a,"color: red")}));return d}},{"./async.js":2,"./util.js":38}],8:[function(a,d,l){d.exports=function(d){function k(a,c,d){this._instances=a;this._callback=c;this._promise=d}var g=a("./util.js"),l=a("./errors.js"),e=g.tryCatch,f=g.errorObj,t=a("./es5.js").keys,h=l.TypeError;k.prototype.doFilter=function(a){for(var c=this._callback,k=this._promise._boundValue(),
g=0,l=this._instances.length;g<l;++g){var n=this._instances[g],p=n===Error||null!=n&&n.prototype instanceof Error;if(p&&a instanceof n)return a=e(c).call(k,a),a===f?(d.e=a.e,d):a;if("function"===typeof n&&!p){var E=a,p={},n=e(n).call(p,E);n!==f&&t(p).length&&(f.e=new h("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"),n=f);if(n===f){a=f.e;break}else if(n)return a=e(c).call(k,a),a===f?(d.e=a.e,d):a}}d.e=a;return d};return k}},{"./errors.js":13,
"./es5.js":14,"./util.js":38}],9:[function(a,d,l){d.exports=function(a,c,d){function g(){this._trace=new c(l())}function l(){var a=e.length-1;if(0<=a)return e[a]}var e=[];g.prototype._pushContext=function(){d()&&void 0!==this._trace&&e.push(this._trace)};g.prototype._popContext=function(){d()&&void 0!==this._trace&&e.pop()};a.prototype._peekContext=l;a.prototype._pushContext=g.prototype._pushContext;a.prototype._popContext=g.prototype._popContext;return function(){if(d())return new g}}},{}],10:[function(c,
d,l){d.exports=function(d,k){var g=d._getDomain,l=c("./async.js"),e=c("./errors.js").Warning,f=c("./util.js"),t=f.canAttachTrace,h,w,y=f.isNode&&(!!a.env.BLUEBIRD_DEBUG||"development"===a.env.NODE_ENV);f.isNode&&0==a.env.BLUEBIRD_DEBUG&&(y=!1);y&&l.disableTrampolineIfNecessary();d.prototype._ignoreRejections=function(){this._unsetRejectionIsUnhandled();this._bitField|=16777216};d.prototype._ensurePossibleRejectionHandled=function(){0===(this._bitField&16777216)&&(this._setRejectionIsUnhandled(),l.invokeLater(this._notifyUnhandledRejection,
this,void 0))};d.prototype._notifyUnhandledRejectionIsHandled=function(){k.fireRejectionEvent("rejectionHandled",h,void 0,this)};d.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var a=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified();k.fireRejectionEvent("unhandledRejection",w,a,this)}};d.prototype._setUnhandledRejectionIsNotified=function(){this._bitField|=524288};d.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField&=
-524289};d.prototype._isUnhandledRejectionNotified=function(){return 0<(this._bitField&524288)};d.prototype._setRejectionIsUnhandled=function(){this._bitField|=2097152};d.prototype._unsetRejectionIsUnhandled=function(){this._bitField&=-2097153;this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())};d.prototype._isRejectionUnhandled=function(){return 0<(this._bitField&2097152)};d.prototype._setCarriedStackTrace=function(a){this._bitField|=
1048576;this._fulfillmentHandler0=a};d.prototype._isCarryingStackTrace=function(){return 0<(this._bitField&1048576)};d.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0};d.prototype._captureStackTrace=function(){y&&(this._trace=new k(this._peekContext()));return this};d.prototype._attachExtraTrace=function(a,c){if(y&&t(a)){var d=this._trace;void 0!==d&&c&&(d=d._parent);void 0!==d?d.attachExtraTrace(a):a.__stackCleaned__||(d=k.parseStackAndMessage(a),
f.notEnumerableProp(a,"stack",d.message+"\n"+d.stack.join("\n")),f.notEnumerableProp(a,"__stackCleaned__",!0))}};d.prototype._warn=function(a){a=new e(a);var c=this._peekContext();c?c.attachExtraTrace(a):(c=k.parseStackAndMessage(a),a.stack=c.message+"\n"+c.stack.join("\n"));k.formatAndLogError(a,"")};d.onPossiblyUnhandledRejection=function(a){var c=g();w="function"===typeof a?null===c?a:c.bind(a):void 0};d.onUnhandledRejectionHandled=function(a){var c=g();h="function"===typeof a?null===c?a:c.bind(a):
void 0};d.longStackTraces=function(){if(l.haveItemsQueued()&&!1===y)throw Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/DT1qyG\n");(y=k.isSupported())&&l.disableTrampolineIfNecessary()};d.hasLongStackTraces=function(){return y&&k.isSupported()};k.isSupported()||(d.longStackTraces=function(){},y=!1);return function(){return y}}},{"./async.js":2,"./errors.js":13,"./util.js":38}],11:[function(a,d,l){var m=a("./util.js").isPrimitive;d.exports=function(a){var c=
function(){return this},d=function(){throw this;},g=function(){},l=function(){throw void 0;},e=function(a,c){if(1===c)return function(){throw a;};if(2===c)return function(){return a}};a.prototype["return"]=a.prototype.thenReturn=function(d){if(void 0===d)return this.then(g);if(m(d))return this._then(e(d,2),void 0,void 0,void 0,void 0);d instanceof a&&d._ignoreRejections();return this._then(c,void 0,void 0,d,void 0)};a.prototype["throw"]=a.prototype.thenThrow=function(a){return void 0===a?this.then(l):
m(a)?this._then(e(a,1),void 0,void 0,void 0,void 0):this._then(d,void 0,void 0,a,void 0)}}},{"./util.js":38}],12:[function(a,d,l){d.exports=function(a,c){var d=a.reduce;a.prototype.each=function(a){return d(this,a,null,c)};a.each=function(a,m){return d(a,m,null,c)}}},{}],13:[function(a,d,l){function m(a,c){function d(m){if(!(this instanceof d))return new d(m);e(this,"message","string"===typeof m?m:c);e(this,"name",a);Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}
n(d,Error);return d}function k(a){if(!(this instanceof k))return new k(a);e(this,"name","OperationalError");e(this,"message",a);this.cause=a;this.isOperational=!0;a instanceof Error?(e(this,"message",a.message),e(this,"stack",a.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}var p=a("./es5.js");l=p.freeze;a=a("./util.js");var n=a.inherits,e=a.notEnumerableProp,f,t;a=m("Warning","warning");var h=m("CancellationError","cancellation error"),w=m("TimeoutError","timeout error"),
y=m("AggregateError","aggregate error");try{f=TypeError,t=RangeError}catch(D){f=m("TypeError","type error"),t=m("RangeError","range error")}for(var v="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),x=0;x<v.length;++x)"function"===typeof Array.prototype[v[x]]&&(y.prototype[v[x]]=Array.prototype[v[x]]);p.defineProperty(y.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0});y.prototype.isOperational=!0;
var A=0;y.prototype.toString=function(){var a=Array(4*A+1).join(" "),c="\n"+a+"AggregateError of:\n";A++;for(var a=Array(4*A+1).join(" "),d=0;d<this.length;++d){for(var m=this[d]===this?"[Circular AggregateError]":this[d]+"",m=m.split("\n"),k=0;k<m.length;++k)m[k]=a+m[k];m=m.join("\n");c+=m+"\n"}A--;return c};n(k,Error);p=Error.__BluebirdErrorTypes__;p||(p=l({CancellationError:h,TimeoutError:w,OperationalError:k,RejectionError:k,AggregateError:y}),e(Error,"__BluebirdErrorTypes__",p));d.exports={Error:Error,
TypeError:f,RangeError:t,CancellationError:p.CancellationError,OperationalError:p.OperationalError,TimeoutError:p.TimeoutError,AggregateError:p.AggregateError,Warning:a}},{"./es5.js":14,"./util.js":38}],14:[function(a,d,l){if(a=function(){return void 0===this}())d.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:a,propertyIsWritable:function(a,
c){var d=Object.getOwnPropertyDescriptor(a,c);return!(d&&!d.writable&&!d.set)}};else{var m={}.hasOwnProperty,k={}.toString,p={}.constructor.prototype;l=function(a){var c=[],d;for(d in a)m.call(a,d)&&c.push(d);return c};d.exports={isArray:function(a){try{return"[object Array]"===k.call(a)}catch(c){return!1}},keys:l,names:l,defineProperty:function(a,c,d){a[c]=d.value;return a},getDescriptor:function(a,c){return{value:a[c]}},freeze:function(a){return a},getPrototypeOf:function(a){try{return Object(a).constructor.prototype}catch(c){return p}},
isES5:a,propertyIsWritable:function(){return!0}}}},{}],15:[function(a,d,l){d.exports=function(a,c){var d=a.map;a.prototype.filter=function(a,m){return d(this,a,m,c)};a.filter=function(a,m,g){return d(a,m,g,c)}}},{}],16:[function(a,d,l){d.exports=function(d,k,g){function l(){return this}function e(){throw this;}function f(a){return function(){return a}}function t(a){return function(){throw a;}}function h(a,c,d){d=x(c)?d?f(c):t(c):d?l:e;return a._then(d,A,void 0,c,void 0)}function w(a){var c=this.promise,
l=this.handler,l=c._isBound()?l.call(c._boundValue()):l();return void 0!==l&&(l=g(l,c),l instanceof d)?(l=l._target(),h(l,a,c.isFulfilled())):c.isRejected()?(k.e=a,k):a}function y(a){var c=this.promise,k=this.handler,k=c._isBound()?k.call(c._boundValue(),a):k(a);return void 0!==k&&(c=g(k,c),c instanceof d)?(c=c._target(),h(c,a,!0)):a}var v=a("./util.js"),x=v.isPrimitive,A=v.thrower;d.prototype._passThroughHandler=function(a,c){return"function"!==typeof a?this.then():this._then(c?w:y,c?w:void 0,void 0,
{promise:this,handler:a},void 0)};d.prototype.lastly=d.prototype["finally"]=function(a){return this._passThroughHandler(a,!0)};d.prototype.tap=function(a){return this._passThroughHandler(a,!1)}}},{"./util.js":38}],17:[function(a,d,l){d.exports=function(d,k,g,l){function e(a,c,k,l){(this._promise=new d(g))._captureStackTrace();this._stack=l;this._generatorFunction=a;this._receiver=c;this._generator=void 0;this._yieldHandlers="function"===typeof k?[k].concat(y):y}var f=a("./errors.js").TypeError,t=
a("./util.js"),h=t.errorObj,w=t.tryCatch,y=[];e.prototype.promise=function(){return this._promise};e.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver);this._receiver=this._generatorFunction=void 0;this._next(void 0)};e.prototype._continue=function(a){if(a===h)return this._promise._rejectCallback(a.e,!1,!0);var c=a.value;if(!0===a.done)this._promise._resolveCallback(c);else{a=l(c,this._promise);if(!(a instanceof d)){a:{var k=a,g=this._yieldHandlers;a=this._promise;
for(var p=0;p<g.length;++p){a._pushContext();var e=w(g[p])(k);a._popContext();if(e===h){a._pushContext();k=d.reject(h.e);a._popContext();a=k;break a}e=l(e,a);if(e instanceof d){a=e;break a}}a=null}if(null===a){this._throw(new f("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/4Y4pDk\n\n".replace("%s",c)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));return}}a._then(this._next,this._throw,void 0,this,null)}};e.prototype._throw=function(a){this._promise._attachExtraTrace(a);
this._promise._pushContext();a=w(this._generator["throw"]).call(this._generator,a);this._promise._popContext();this._continue(a)};e.prototype._next=function(a){this._promise._pushContext();a=w(this._generator.next).call(this._generator,a);this._promise._popContext();this._continue(a)};d.coroutine=function(a,c){if("function"!==typeof a)throw new f("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var d=Object(c).yieldHandler,m=Error().stack;return function(){var c=a.apply(this,
arguments),k=new e(void 0,void 0,d,m);k._generator=c;k._next(void 0);return k.promise()}};d.coroutine.addYieldHandler=function(a){if("function"!==typeof a)throw new f("fn must be a function\n\n    See http://goo.gl/916lJJ\n");y.push(a)};d.spawn=function(a){if("function"!==typeof a)return k("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");a=new e(a,this);var c=a.promise();a._run(d.spawn);return c}}},{"./errors.js":13,"./util.js":38}],18:[function(a,d,l){d.exports=function(d,
k,g,l){a("./util.js");d.join=function(){var a;a=arguments.length-1;var c;0<a&&"function"===typeof arguments[a]&&(c=arguments[a]);a=arguments.length;for(var d=Array(a),m=0;m<a;++m)d[m]=arguments[m];c&&d.pop();a=(new k(d)).promise();return void 0!==c?a.spread(c):a}}},{"./util.js":38}],19:[function(a,d,l){d.exports=function(d,k,g,l,e){function f(a,c,d,m){this.constructor$(a);this._promise._captureStackTrace();a=w();this._callback=null===a?c:a.bind(c);this._preservedValues=m===e?Array(this.length()):
null;this._limit=d;this._inFlight=0;this._queue=1<=d?[]:C;y.invoke(h,this,void 0)}function h(){this._init$(void 0,-2)}function r(a,c,d,m){d="object"===typeof d&&null!==d?d.concurrency:0;d="number"===typeof d&&isFinite(d)&&1<=d?d:0;return new f(a,c,d,m)}var w=d._getDomain,y=a("./async.js"),v=a("./util.js"),x=v.tryCatch,A=v.errorObj,D={},C=[];v.inherits(f,k);f.prototype._init=function(){};f.prototype._promiseFulfilled=function(a,c){var k=this._values,g=this.length(),p=this._preservedValues,e=this._limit;
if(k[c]===D){if(k[c]=a,1<=e&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(1<=e&&this._inFlight>=e){k[c]=a;this._queue.push(c);return}null!==p&&(p[c]=a);var f=this._callback,q=this._promise._boundValue();this._promise._pushContext();f=x(f).call(q,a,c,g);this._promise._popContext();if(f===A)return this._reject(f.e);q=l(f,this._promise);if(q instanceof d){q=q._target();if(q._isPending())return 1<=e&&this._inFlight++,k[c]=D,q._proxyPromiseArray(this,c);if(q._isFulfilled())f=
q._value();else return this._reject(q._reason())}k[c]=f}++this._totalResolved>=g&&(null!==p?this._filter(k,p):this._resolve(k))};f.prototype._drainQueue=function(){for(var a=this._queue,c=this._limit,d=this._values;0<a.length&&this._inFlight<c&&!this._isResolved();){var m=a.pop();this._promiseFulfilled(d[m],m)}};f.prototype._filter=function(a,c){for(var d=c.length,m=Array(d),k=0,g=0;g<d;++g)a[g]&&(m[k++]=c[g]);m.length=k;this._resolve(m)};f.prototype.preservedValues=function(){return this._preservedValues};
d.prototype.map=function(a,c){return"function"!==typeof a?g("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):r(this,a,c,null).promise()};d.map=function(a,c,d,m){return"function"!==typeof c?g("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):r(a,c,d,m).promise()}}},{"./async.js":2,"./util.js":38}],20:[function(a,d,l){d.exports=function(d,k,g,l){var e=a("./util.js"),f=e.tryCatch;d.method=function(a){if("function"!==typeof a)throw new d.TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");
return function(){var c=new d(k);c._captureStackTrace();c._pushContext();var g=f(a).apply(this,arguments);c._popContext();c._resolveFromSyncValue(g);return c}};d.attempt=d["try"]=function(a,c,g){if("function"!==typeof a)return l("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var p=new d(k);p._captureStackTrace();p._pushContext();a=e.isArray(c)?f(a).apply(g,c):f(a).call(g,c);p._popContext();p._resolveFromSyncValue(a);return p};d.prototype._resolveFromSyncValue=function(a){a===e.errorObj?
this._rejectCallback(a.e,!1,!0):this._resolveCallback(a,!0)}}},{"./util.js":38}],21:[function(a,d,l){d.exports=function(d){function k(a,c){if(!e.isArray(a))return g.call(this,a,c);var d=h(c).apply(this._boundValue(),[null].concat(a));d===r&&f.throwLater(d.e)}function g(a,c){var d=this._boundValue(),d=void 0===a?h(c).call(d,null):h(c).call(d,null,a);d===r&&f.throwLater(d.e)}function l(a,c){if(!a){var d=this._target()._getCarriedStackTrace();d.cause=a;a=d}d=h(c).call(this._boundValue(),a);d===r&&f.throwLater(d.e)}
var e=a("./util.js"),f=a("./async.js"),h=e.tryCatch,r=e.errorObj;d.prototype.asCallback=d.prototype.nodeify=function(a,c){if("function"==typeof a){var d=g;void 0!==c&&Object(c).spread&&(d=k);this._then(d,l,void 0,this,a)}return this}}},{"./async.js":2,"./util.js":38}],22:[function(a,d,l){d.exports=function(d,k){var g=a("./util.js"),l=a("./async.js"),e=g.tryCatch,f=g.errorObj;d.prototype.progressed=function(a){return this._then(void 0,void 0,a,void 0,void 0)};d.prototype._progress=function(a){this._isFollowingOrFulfilledOrRejected()||
this._target()._progressUnchecked(a)};d.prototype._progressHandlerAt=function(a){return 0===a?this._progressHandler0:this[(a<<2)+a-5+2]};d.prototype._doProgressWith=function(a){var c=a.value,k=a.promise,l=a.receiver;a=e(a.handler).call(l,c);a===f?null!=a.e&&"StopProgressPropagation"!==a.e.name&&(c=g.canAttachTrace(a.e)?a.e:Error(g.toString(a.e)),k._attachExtraTrace(c),k._progress(a.e)):a instanceof d?a._then(k._progress,null,null,k,void 0):k._progress(a)};d.prototype._progressUnchecked=function(a){for(var c=
this._length(),g=this._progress,p=0;p<c;p++){var e=this._progressHandlerAt(p),f=this._promiseAt(p);if(f instanceof d)"function"===typeof e?l.invoke(this._doProgressWith,this,{handler:e,promise:f,receiver:this._receiverAt(p),value:a}):l.invoke(g,f,a);else{var q=this._receiverAt(p);"function"===typeof e?e.call(q,a,f):q instanceof k&&!q._isResolved()&&q._promiseProgressed(a,f)}}}}},{"./async.js":2,"./util.js":38}],23:[function(c,d,l){d.exports=function(){function d(a){if("function"!==typeof a)throw new v("the promise constructor requires a resolver function\n\n    See http://goo.gl/EC22Yn\n");
if(this.constructor!==d)throw new v("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/KsIlge\n");this._bitField=0;this._settledValue=this._receiver0=this._promise0=this._progressHandler0=this._rejectionHandler0=this._fulfillmentHandler0=void 0;a!==x&&this._resolveFromResolver(a)}function k(a){var c=new d(x);c._fulfillmentHandler0=a;c._rejectionHandler0=a;c._progressHandler0=a;c._promise0=a;c._receiver0=a;c._settledValue=a}var g=function(){return new v("circular promise resolution chain\n\n    See http://goo.gl/LhFpo0\n")},
l=function(){return new d.PromiseInspection(this._target())},e=function(a){return d.reject(new v(a))},f=c("./util.js"),h;h=f.isNode?function(){var c=a.domain;void 0===c&&(c=null);return c}:function(){return null};f.notEnumerableProp(d,"_getDomain",h);var r={},w=c("./async.js"),y=c("./errors.js"),v=d.TypeError=y.TypeError;d.RangeError=y.RangeError;d.CancellationError=y.CancellationError;d.TimeoutError=y.TimeoutError;d.OperationalError=y.OperationalError;d.RejectionError=y.OperationalError;d.AggregateError=
y.AggregateError;var x=function(){},A={},D={e:null},C=c("./thenables.js")(d,x),E=c("./promise_array.js")(d,x,C,e),B=c("./captured_trace.js")(),I=c("./debuggability.js")(d,B),y=c("./context.js")(d,B,I),J=c("./catch_filter.js")(D),F=c("./promise_resolver.js"),K=F._nodebackForPromise,G=f.errorObj,L=f.tryCatch;d.prototype.toString=function(){return"[object Promise]"};d.prototype.caught=d.prototype["catch"]=function(a){var c=arguments.length;if(1<c){var k=Array(c-1),g=0,l;for(l=0;l<c-1;++l){var p=arguments[l];
if("function"===typeof p)k[g++]=p;else return d.reject(new v("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"))}k.length=g;a=arguments[l];c=new J(k,a,this);return this._then(void 0,c.doFilter,void 0,c,void 0)}return this._then(void 0,a,void 0,void 0,void 0)};d.prototype.reflect=function(){return this._then(l,l,void 0,this,void 0)};d.prototype.then=function(a,c,d){if(I()&&0<arguments.length&&"function"!==typeof a&&"function"!==typeof c){var k=
".then() only accepts functions but was passed: "+f.classString(a);1<arguments.length&&(k+=", "+f.classString(c));this._warn(k)}return this._then(a,c,d,void 0,void 0)};d.prototype.done=function(a,c,d){this._then(a,c,d,void 0,void 0)._setIsFinal()};d.prototype.spread=function(a,c){return this.all()._then(a,c,void 0,A,void 0)};d.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()};d.prototype.toJSON=function(){var a={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,
rejectionReason:void 0};this.isFulfilled()?(a.fulfillmentValue=this.value(),a.isFulfilled=!0):this.isRejected()&&(a.rejectionReason=this.reason(),a.isRejected=!0);return a};d.prototype.all=function(){return(new E(this)).promise()};d.prototype.error=function(a){return this.caught(f.originatesFromRejection,a)};d.is=function(a){return a instanceof d};d.fromNode=function(a){var c=new d(x);a=L(a)(K(c));a===G&&c._rejectCallback(a.e,!0,!0);return c};d.all=function(a){return(new E(a)).promise()};d.defer=
d.pending=function(){var a=new d(x);return new F(a)};d.cast=function(a){a=C(a);if(!(a instanceof d)){var c=a;a=new d(x);a._fulfillUnchecked(c)}return a};d.resolve=d.fulfilled=d.cast;d.reject=d.rejected=function(a){var c=new d(x);c._captureStackTrace();c._rejectCallback(a,!0);return c};d.setScheduler=function(a){if("function"!==typeof a)throw new v("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var c=w._schedule;w._schedule=a;return c};d.prototype._then=function(a,c,k,g,l){var p=void 0!==
l;l=p?l:new d(x);p||(l._propagateFrom(this,5),l._captureStackTrace());var n=this._target();n!==this&&(void 0===g&&(g=this._boundTo),p||l._setIsMigrated());a=n._addCallbacks(a,c,k,l,g,h());n._isResolved()&&!n._isSettlePromisesQueued()&&w.invoke(n._settlePromiseAtPostResolution,n,a);return l};d.prototype._settlePromiseAtPostResolution=function(a){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled();this._settlePromiseAt(a)};d.prototype._length=function(){return this._bitField&131071};d.prototype._isFollowingOrFulfilledOrRejected=
function(){return 0<(this._bitField&939524096)};d.prototype._isFollowing=function(){return 536870912===(this._bitField&536870912)};d.prototype._setLength=function(a){this._bitField=this._bitField&-131072|a&131071};d.prototype._setFulfilled=function(){this._bitField|=268435456};d.prototype._setRejected=function(){this._bitField|=134217728};d.prototype._setFollowing=function(){this._bitField|=536870912};d.prototype._setIsFinal=function(){this._bitField|=33554432};d.prototype._isFinal=function(){return 0<
(this._bitField&33554432)};d.prototype._cancellable=function(){return 0<(this._bitField&67108864)};d.prototype._setCancellable=function(){this._bitField|=67108864};d.prototype._unsetCancellable=function(){this._bitField&=-67108865};d.prototype._setIsMigrated=function(){this._bitField|=4194304};d.prototype._unsetIsMigrated=function(){this._bitField&=-4194305};d.prototype._isMigrated=function(){return 0<(this._bitField&4194304)};d.prototype._receiverAt=function(a){a=0===a?this._receiver0:this[5*a-5+
4];return a===r?void 0:void 0===a&&this._isBound()?this._boundValue():a};d.prototype._promiseAt=function(a){return 0===a?this._promise0:this[5*a-5+3]};d.prototype._fulfillmentHandlerAt=function(a){return 0===a?this._fulfillmentHandler0:this[5*a-5+0]};d.prototype._rejectionHandlerAt=function(a){return 0===a?this._rejectionHandler0:this[5*a-5+1]};d.prototype._boundValue=function(){var a=this._boundTo;if(void 0!==a&&a instanceof d){if(a.isFulfilled())return a.value()}else return a};d.prototype._migrateCallbacks=
function(a,c){var k=a._fulfillmentHandlerAt(c),g=a._rejectionHandlerAt(c),l=a._progressHandlerAt(c),p=a._promiseAt(c),n=a._receiverAt(c);p instanceof d&&p._setIsMigrated();void 0===n&&(n=r);this._addCallbacks(k,g,l,p,n,null)};d.prototype._addCallbacks=function(a,c,d,k,m,g){var l=this._length();131066<=l&&(l=0,this._setLength(0));if(0===l)this._promise0=k,void 0!==m&&(this._receiver0=m),"function"!==typeof a||this._isCarryingStackTrace()||(this._fulfillmentHandler0=null===g?a:g.bind(a)),"function"===
typeof c&&(this._rejectionHandler0=null===g?c:g.bind(c)),"function"===typeof d&&(this._progressHandler0=null===g?d:g.bind(d));else{var p=5*l-5;this[p+3]=k;this[p+4]=m;"function"===typeof a&&(this[p+0]=null===g?a:g.bind(a));"function"===typeof c&&(this[p+1]=null===g?c:g.bind(c));"function"===typeof d&&(this[p+2]=null===g?d:g.bind(d))}this._setLength(l+1);return l};d.prototype._setProxyHandlers=function(a,c){var d=this._length();131066<=d&&(d=0,this._setLength(0));if(0===d)this._promise0=c,this._receiver0=
a;else{var k=5*d-5;this[k+3]=c;this[k+4]=a}this._setLength(d+1)};d.prototype._proxyPromiseArray=function(a,c){this._setProxyHandlers(a,c)};d.prototype._resolveCallback=function(a,c){if(!this._isFollowingOrFulfilledOrRejected()){if(a===this)return this._rejectCallback(g(),!1,!0);var k=C(a,this);if(!(k instanceof d))return this._fulfill(a);this._propagateFrom(k,1|(c?4:0));k=k._target();if(k._isPending()){for(var l=this._length(),n=0;n<l;++n)k._migrateCallbacks(this,n);this._setFollowing();this._setLength(0);
this._setFollowee(k)}else k._isFulfilled()?this._fulfillUnchecked(k._value()):this._rejectUnchecked(k._reason(),k._getCarriedStackTrace())}};d.prototype._rejectCallback=function(a,c,d){d||f.markAsOriginatingFromRejection(a);d=f.ensureErrorObject(a);var k=d===a;this._attachExtraTrace(d,c?k:!1);this._reject(a,k?void 0:d)};d.prototype._resolveFromResolver=function(a){var c=this;this._captureStackTrace();this._pushContext();var d=!0;a=L(a)(function(a){null!==c&&(c._resolveCallback(a),c=null)},function(a){null!==
c&&(c._rejectCallback(a,d),c=null)});d=!1;this._popContext();void 0!==a&&a===G&&null!==c&&(c._rejectCallback(a.e,!0,!0),c=null)};d.prototype._settlePromiseFromHandler=function(a,c,d,k){k._isRejected()||(k._pushContext(),a=c!==A||this._isRejected()?L(a).call(c,d):L(a).apply(this._boundValue(),d),k._popContext(),a===G||a===k||a===D?(a=a===k?g():a.e,k._rejectCallback(a,!1,!0)):k._resolveCallback(a))};d.prototype._target=function(){for(var a=this;a._isFollowing();)a=a._followee();return a};d.prototype._followee=
function(){return this._rejectionHandler0};d.prototype._setFollowee=function(a){this._rejectionHandler0=a};d.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)};d.prototype._propagateFrom=function(a,c){0<(c&1)&&a._cancellable()&&(this._setCancellable(),this._cancellationParent=a);0<(c&4)&&a._isBound()&&this._setBoundTo(a._boundTo)};d.prototype._fulfill=function(a){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(a)};d.prototype._reject=function(a,
c){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(a,c)};d.prototype._settlePromiseAt=function(a){var c=this._promiseAt(a),k=c instanceof d;if(k&&c._isMigrated())return c._unsetIsMigrated(),w.invoke(this._settlePromiseAt,this,a);var g=this._isFulfilled()?this._fulfillmentHandlerAt(a):this._rejectionHandlerAt(a),l=this._isCarryingStackTrace()?this._getCarriedStackTrace():void 0,p=this._settledValue,n=this._receiverAt(a);this._clearCallbackDataAtIndex(a);"function"===typeof g?k?this._settlePromiseFromHandler(g,
n,p,c):g.call(n,p,c):n instanceof E?n._isResolved()||(this._isFulfilled()?n._promiseFulfilled(p,c):n._promiseRejected(p,c)):k&&(this._isFulfilled()?c._fulfill(p):c._reject(p,l));4<=a&&4===(a&31)&&w.invokeLater(this._setLength,this,0)};d.prototype._clearCallbackDataAtIndex=function(a){0===a?(this._isCarryingStackTrace()||(this._fulfillmentHandler0=void 0),this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=void 0):(a=5*a-5,this[a+3]=this[a+4]=this[a+0]=this[a+1]=this[a+2]=
void 0)};d.prototype._isSettlePromisesQueued=function(){return-1073741824===(this._bitField&-1073741824)};d.prototype._setSettlePromisesQueued=function(){this._bitField|=-1073741824};d.prototype._unsetSettlePromisesQueued=function(){this._bitField&=1073741823};d.prototype._queueSettlePromises=function(){w.settlePromises(this);this._setSettlePromisesQueued()};d.prototype._fulfillUnchecked=function(a){if(a===this)return a=g(),this._attachExtraTrace(a),this._rejectUnchecked(a,void 0);this._setFulfilled();
this._settledValue=a;this._cleanValues();0<this._length()&&this._queueSettlePromises()};d.prototype._rejectUncheckedCheckError=function(a){var c=f.ensureErrorObject(a);this._rejectUnchecked(a,c===a?void 0:c)};d.prototype._rejectUnchecked=function(a,c){if(a===this){var d=g();this._attachExtraTrace(d);return this._rejectUnchecked(d)}this._setRejected();this._settledValue=a;this._cleanValues();this._isFinal()?w.throwLater(function(a){"stack"in a&&w.invokeFirst(B.unhandledRejection,void 0,a);throw a;
},void 0===c?a:c):(void 0!==c&&c!==a&&this._setCarriedStackTrace(c),0<this._length()?this._queueSettlePromises():this._ensurePossibleRejectionHandled())};d.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();for(var a=this._length(),c=0;c<a;c++)this._settlePromiseAt(c)};f.notEnumerableProp(d,"_makeSelfResolutionError",g);c("./progress.js")(d,E);c("./method.js")(d,x,C,e);c("./bind.js")(d,x,C);c("./finally.js")(d,D,C);c("./direct_resolve.js")(d);c("./synchronous_inspection.js")(d);
c("./join.js")(d,E,C,x);d.Promise=d;c("./map.js")(d,E,e,C,x);c("./cancel.js")(d);c("./using.js")(d,e,C,y);c("./generators.js")(d,e,x,C);c("./nodeify.js")(d);c("./call_get.js")(d);c("./props.js")(d,E,C,e);c("./race.js")(d,x,C,e);c("./reduce.js")(d,E,e,C,x);c("./settle.js")(d,E);c("./some.js")(d,E,e);c("./promisify.js")(d,x);c("./any.js")(d);c("./each.js")(d,x);c("./timers.js")(d,x);c("./filter.js")(d,x);f.toFastProperties(d);f.toFastProperties(d.prototype);k({a:1});k({b:2});k({c:3});k(1);k(function(){});
k(void 0);k(!1);k(new d(x));B.setBounds(w.firstLineError,f.lastLineError);return d}},{"./any.js":1,"./async.js":2,"./bind.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./context.js":9,"./debuggability.js":10,"./direct_resolve.js":11,"./each.js":12,"./errors.js":13,"./filter.js":15,"./finally.js":16,"./generators.js":17,"./join.js":18,"./map.js":19,"./method.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":26,
"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":33,"./synchronous_inspection.js":34,"./thenables.js":35,"./timers.js":36,"./using.js":37,"./util.js":38}],24:[function(a,d,l){d.exports=function(d,k,g,l){function e(a){switch(a){case -2:return[];case -3:return{}}}function f(a){var c=this._promise=new d(k);a instanceof d&&c._propagateFrom(a,5);this._values=a;this._totalResolved=this._length=0;this._init(void 0,-2)}var h=a("./util.js").isArray;f.prototype.length=function(){return this._length};
f.prototype.promise=function(){return this._promise};f.prototype._init=function w(a,c){var k=g(this._values,this._promise);if(k instanceof d)if(this._values=k=k._target(),k._isFulfilled()){if(k=k._value(),!h(k)){k=new d.TypeError("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");this.__hardReject__(k);return}}else{k._isPending()?k._then(w,this._reject,void 0,this,c):this._reject(k._reason());return}else if(!h(k)){this._promise._reject(l("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")._reason());
return}if(0===k.length)-5===c?this._resolveEmptyArray():this._resolve(e(c));else{var f=this.getActualLength(k.length);this._length=f;this._values=this.shouldCopyValues()?Array(f):this._values;for(var u=this._promise,C=0;C<f;++C){var E=this._isResolved(),B=g(k[C],u);B instanceof d?(B=B._target(),E?B._ignoreRejections():B._isPending()?B._proxyPromiseArray(this,C):B._isFulfilled()?this._promiseFulfilled(B._value(),C):this._promiseRejected(B._reason(),C)):E||this._promiseFulfilled(B,C)}}};f.prototype._isResolved=
function(){return null===this._values};f.prototype._resolve=function(a){this._values=null;this._promise._fulfill(a)};f.prototype.__hardReject__=f.prototype._reject=function(a){this._values=null;this._promise._rejectCallback(a,!1,!0)};f.prototype._promiseProgressed=function(a,c){this._promise._progress({index:c,value:a})};f.prototype._promiseFulfilled=function(a,c){this._values[c]=a;++this._totalResolved>=this._length&&this._resolve(this._values)};f.prototype._promiseRejected=function(a,c){this._totalResolved++;
this._reject(a)};f.prototype.shouldCopyValues=function(){return!0};f.prototype.getActualLength=function(a){return a};return f}},{"./util.js":38}],25:[function(a,d,l){function m(a){return function(c,d){if(null!==a){if(c){var m;m=p(c);var g;if(m instanceof Error&&f.getPrototypeOf(m)===Error.prototype){g=new e(m);g.name=m.name;g.message=m.message;g.stack=m.stack;for(var l=f.keys(m),n=0;n<l.length;++n){var r=l[n];h.test(r)||(g[r]=m[r])}m=g}else k.markAsOriginatingFromRejection(m);a._attachExtraTrace(m);
a._reject(m)}else if(2<arguments.length){m=arguments.length;g=Array(m-1);for(l=1;l<m;++l)g[l-1]=arguments[l];a._fulfill(g)}else a._fulfill(d);a=null}}}var k=a("./util.js"),p=k.maybeWrapAsError;l=a("./errors.js");var n=l.TimeoutError,e=l.OperationalError;l=k.haveGetters;var f=a("./es5.js"),h=/^(?:name|message|stack|cause)$/,r;r=l?function(a){this.promise=a}:function(a){this.promise=a;this.callback=this.asCallback=m(a)};l&&(a={get:function(){return m(this.promise)}},f.defineProperty(r.prototype,"asCallback",
a),f.defineProperty(r.prototype,"callback",a));r._nodebackForPromise=m;r.prototype.toString=function(){return"[object PromiseResolver]"};r.prototype.resolve=r.prototype.fulfill=function(a){if(!(this instanceof r))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._resolveCallback(a)};r.prototype.reject=function(a){if(!(this instanceof r))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");
this.promise._rejectCallback(a)};r.prototype.progress=function(a){if(!(this instanceof r))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._progress(a)};r.prototype.cancel=function(a){this.promise.cancel(a)};r.prototype.timeout=function(){this.reject(new n("timeout"))};r.prototype.isResolved=function(){return this.promise.isResolved()};r.prototype.toJSON=
function(){return this.promise.toJSON()};d.exports=r},{"./errors.js":13,"./es5.js":14,"./util.js":38}],26:[function(a,d,l){d.exports=function(d,k){function g(a){return!E.test(a)}function l(a){try{return!0===a.__isPromisified__}catch(c){return!1}}function e(a,c,d,k){for(var m=w.inheritedDataKeys(a),g=[],p=0;p<m.length;++p){var f=m[p],q=a[f],u=k===B?!0:B(f,q,a),h;if(h="function"===typeof q&&!l(q))h=w.getDataPropertyOrDefault(a,f+c,C),h=!(h&&l(h));h&&k(f,q,a,u)&&g.push(f,q)}for(a=0;a<g.length;a+=2)if(k=
g[a],d.test(k))for(k=k.replace(d,""),m=0;m<g.length;m+=2)if(g[m]===k)throw new D("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/iWrZbw\n".replace("%s",c));return g}function f(a,c,g,l){function p(){var g=c;c===r&&(g=this);var l=new d(k);l._captureStackTrace();var f="string"===typeof e&&this!==n?this[e]:a,q=y(l);try{f.apply(g,v(arguments,q))}catch(u){l._rejectCallback(x(u),!0,!0)}return l}var n=function(){return this}(),e=a;"string"===typeof e&&(a=l);w.notEnumerableProp(p,
"__isPromisified__",!0);return p}function h(a,c,d,k){var m=new RegExp(c.replace(/([$])/,"\\$")+"$");d=e(a,c,m,d);for(var m=0,g=d.length;m<g;m+=2){var l=d[m],p=d[m+1],n=l+c;if(k===I)a[n]=I(l,r,l,p,c);else{var f=k(p,function(){return I(l,r,l,p,c)});w.notEnumerableProp(f,"__isPromisified__",!0);a[n]=f}}w.toFastProperties(a);return a}var r={},w=a("./util.js"),y=a("./promise_resolver.js")._nodebackForPromise,v=w.withAppended,x=w.maybeWrapAsError,A=w.canEvaluate,D=a("./errors").TypeError,C={__isPromisified__:!0},
E=/^(?:arity|length|name|arguments|caller|callee|prototype|__isPromisified__)$/,B=function(a){return w.isIdentifier(a)&&"_"!==a.charAt(0)&&"constructor"!==a},I=A?void 0:f;d.promisify=function(a,c){if("function"!==typeof a)throw new D("fn must be a function\n\n    See http://goo.gl/916lJJ\n");if(l(a))return a;var d=I(a,2>arguments.length?r:c,void 0,a);w.copyDescriptors(a,d,g);return d};d.promisifyAll=function(a,c){if("function"!==typeof a&&"object"!==typeof a)throw new D("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/9ITlV0\n");
c=Object(c);var d=c.suffix;"string"!==typeof d&&(d="Async");var k=c.filter;"function"!==typeof k&&(k=B);var m=c.promisifier;"function"!==typeof m&&(m=I);if(!w.isIdentifier(d))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/8FZo5V\n");for(var g=w.inheritedDataKeys(a),l=0;l<g.length;++l){var p=a[g[l]];"constructor"!==g[l]&&w.isClass(p)&&(h(p.prototype,d,k,m),h(p,d,k,m))}return h(a,d,k,m)}}},{"./errors":13,"./promise_resolver.js":25,"./util.js":38}],27:[function(a,d,
l){d.exports=function(d,k,g,l){function e(a){for(var c=w.keys(a),d=c.length,k=Array(2*d),m=0;m<d;++m){var g=c[m];k[m]=a[g];k[m+d]=g}this.constructor$(k)}function f(a){var c=g(a);if(r(c))a=c instanceof d?c._then(d.props,void 0,void 0,void 0,void 0):(new e(c)).promise();else return l("cannot await properties of a non-object\n\n    See http://goo.gl/OsFKC8\n");c instanceof d&&a._propagateFrom(c,4);return a}var h=a("./util.js"),r=h.isObject,w=a("./es5.js");h.inherits(e,k);e.prototype._init=function(){this._init$(void 0,
-3)};e.prototype._promiseFulfilled=function(a,c){this._values[c]=a;if(++this._totalResolved>=this._length){for(var d={},k=this.length(),m=0,g=this.length();m<g;++m)d[this._values[m+k]]=this._values[m];this._resolve(d)}};e.prototype._promiseProgressed=function(a,c){this._promise._progress({key:this._values[c+this.length()],value:a})};e.prototype.shouldCopyValues=function(){return!1};e.prototype.getActualLength=function(a){return a>>1};d.prototype.props=function(){return f(this)};d.props=function(a){return f(a)}}},
{"./es5.js":14,"./util.js":38}],28:[function(a,d,l){function m(a){this._capacity=a;this._front=this._length=0}m.prototype._willBeOverCapacity=function(a){return this._capacity<a};m.prototype._pushOne=function(a){var c=this.length();this._checkCapacity(c+1);this[this._front+c&this._capacity-1]=a;this._length=c+1};m.prototype._unshiftOne=function(a){var c=this._capacity;this._checkCapacity(this.length()+1);c=(this._front-1&c-1^c)-c;this[c]=a;this._front=c;this._length=this.length()+1};m.prototype.unshift=
function(a,c,d){this._unshiftOne(d);this._unshiftOne(c);this._unshiftOne(a)};m.prototype.push=function(a,c,d){var m=this.length()+3;if(this._willBeOverCapacity(m))this._pushOne(a),this._pushOne(c),this._pushOne(d);else{var g=this._front+m-3;this._checkCapacity(m);var l=this._capacity-1;this[g+0&l]=a;this[g+1&l]=c;this[g+2&l]=d;this._length=m}};m.prototype.shift=function(){var a=this._front,c=this[a];this[a]=void 0;this._front=a+1&this._capacity-1;this._length--;return c};m.prototype.length=function(){return this._length};
m.prototype._checkCapacity=function(a){this._capacity<a&&this._resizeTo(this._capacity<<1)};m.prototype._resizeTo=function(a){var c=this._capacity;this._capacity=a;a=this._front+this._length&c-1;for(var d=0;d<a;++d)this[d+c]=this[d+0],this[d+0]=void 0};d.exports=m},{}],29:[function(a,d,l){d.exports=function(d,k,g,l){function e(a,c){var q=g(a);if(q instanceof d)return h(q);if(!f(a))return l("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");q=new d(k);void 0!==c&&q._propagateFrom(c,
5);for(var v=q._fulfill,x=q._reject,A=0,D=a.length;A<D;++A){var C=a[A];(void 0!==C||A in a)&&d.cast(C)._then(v,x,void 0,q,null)}return q}var f=a("./util.js").isArray,h=function(a){return a.then(function(c){return e(c,a)})};d.race=function(a){return e(a,void 0)};d.prototype.race=function(){return e(this,void 0)}}},{"./util.js":38}],30:[function(a,d,l){d.exports=function(d,k,g,l,e){function f(a,c,k,g){this.constructor$(a);this._promise._captureStackTrace();this._preservedValues=g===e?[]:null;this._zerothIsAccum=
void 0===k;this._gotAccum=!1;this._reducingIndex=this._zerothIsAccum?1:0;this._valuesPhase=void 0;g=l(k,this._promise);a=!1;var p=g instanceof d;p&&(g=g._target(),g._isPending()?g._proxyPromiseArray(this,-1):g._isFulfilled()?(k=g._value(),this._gotAccum=!0):(this._reject(g._reason()),a=!0));p||this._zerothIsAccum||(this._gotAccum=!0);g=w();this._callback=null===g?c:g.bind(c);this._accum=k;a||y.invoke(h,this,void 0)}function h(){this._init$(void 0,-5)}function r(a,c,d,k){return"function"!==typeof c?
g("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):(new f(a,c,d,k)).promise()}var w=d._getDomain,y=a("./async.js"),v=a("./util.js"),x=v.tryCatch,A=v.errorObj;v.inherits(f,k);f.prototype._init=function(){};f.prototype._resolveEmptyArray=function(){(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)};f.prototype._promiseFulfilled=function(a,c){var k=this._values;k[c]=a;var g=this.length(),p=this._preservedValues,e=null!==p,f=this._gotAccum,q=this._valuesPhase,
u;if(!q)for(q=this._valuesPhase=Array(g),u=0;u<g;++u)q[u]=0;u=q[c];0===c&&this._zerothIsAccum?(this._accum=a,this._gotAccum=f=!0,q[c]=0===u?1:2):-1===c?(this._accum=a,this._gotAccum=f=!0):0===u?q[c]=1:(q[c]=2,this._accum=a);if(f){for(var f=this._callback,h=this._promise._boundValue(),H=this._reducingIndex;H<g;++H)if(u=q[H],2===u)this._reducingIndex=H+1;else{if(1!==u)return;a=k[H];this._promise._pushContext();e?(p.push(a),u=x(f).call(h,a,H,g)):u=x(f).call(h,this._accum,a,H,g);this._promise._popContext();
if(u===A)return this._reject(u.e);var t=l(u,this._promise);if(t instanceof d){t=t._target();if(t._isPending())return q[H]=4,t._proxyPromiseArray(this,H);if(t._isFulfilled())u=t._value();else return this._reject(t._reason())}this._reducingIndex=H+1;this._accum=u}this._resolve(e?p:this._accum)}};d.prototype.reduce=function(a,c){return r(this,a,c,null)};d.reduce=function(a,c,d,k){return r(a,c,d,k)}}},{"./async.js":2,"./util.js":38}],31:[function(c,g,l){c=c("./util");if(c.isNode&&"undefined"===typeof MutationObserver){var m=
d.setImmediate,k=a.nextTick;c=c.isRecentNode?function(a){m.call(d,a)}:function(c){k.call(a,c)}}else"undefined"===typeof MutationObserver||"undefined"!==typeof window&&window.navigator&&window.navigator.standalone?c="undefined"!==typeof setImmediate?function(a){setImmediate(a)}:"undefined"!==typeof setTimeout?function(a){setTimeout(a,0)}:function(){throw Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n");}:(c=function(a){var c=document.createElement("div");(new MutationObserver(a)).observe(c,
{attributes:!0});return function(){c.classList.toggle("foo")}},c.isStatic=!0);g.exports=c},{"./util":38}],32:[function(a,d,l){d.exports=function(d,k){function g(a){this.constructor$(a)}var l=d.PromiseInspection;a("./util.js").inherits(g,k);g.prototype._promiseResolved=function(a,c){this._values[a]=c;++this._totalResolved>=this._length&&this._resolve(this._values)};g.prototype._promiseFulfilled=function(a,c){var d=new l;d._bitField=268435456;d._settledValue=a;this._promiseResolved(c,d)};g.prototype._promiseRejected=
function(a,c){var d=new l;d._bitField=134217728;d._settledValue=a;this._promiseResolved(c,d)};d.settle=function(a){return(new g(a)).promise()};d.prototype.settle=function(){return(new g(this)).promise()}}},{"./util.js":38}],33:[function(a,d,l){d.exports=function(d,k,g){function l(a){this.constructor$(a);this._howMany=0;this._initialized=this._unwrap=!1}function e(a,c){if((c|0)!==c||0>c)return g("expecting a positive integer\n\n    See http://goo.gl/1wAmHx\n");var d=new l(a),k=d.promise();d.setHowMany(c);
d.init();return k}var f=a("./util.js"),h=a("./errors.js").RangeError,r=a("./errors.js").AggregateError,w=f.isArray;f.inherits(l,k);l.prototype._init=function(){if(this._initialized)if(0===this._howMany)this._resolve([]);else{this._init$(void 0,-5);var a=w(this._values);!this._isResolved()&&a&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}};l.prototype.init=function(){this._initialized=!0;this._init()};l.prototype.setUnwrap=function(){this._unwrap=!0};l.prototype.howMany=
function(){return this._howMany};l.prototype.setHowMany=function(a){this._howMany=a};l.prototype._promiseFulfilled=function(a){this._addFulfilled(a);this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values))};l.prototype._promiseRejected=function(a){this._addRejected(a);if(this.howMany()>this._canPossiblyFulfill()){a=new r;for(var c=this.length();c<this._values.length;++c)a.push(this._values[c]);
this._reject(a)}};l.prototype._fulfilled=function(){return this._totalResolved};l.prototype._rejected=function(){return this._values.length-this.length()};l.prototype._addRejected=function(a){this._values.push(a)};l.prototype._addFulfilled=function(a){this._values[this._totalResolved++]=a};l.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()};l.prototype._getRangeError=function(a){return new h("Input array must contain at least "+this._howMany+" items but contains only "+
a+" items")};l.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};d.some=function(a,c){return e(a,c)};d.prototype.some=function(a){return e(this,a)};d._SomePromiseArray=l}},{"./errors.js":13,"./util.js":38}],34:[function(a,d,l){d.exports=function(a){function c(a){void 0!==a?(a=a._target(),this._bitField=a._bitField,this._settledValue=a._settledValue):(this._bitField=0,this._settledValue=void 0)}c.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");
return this._settledValue};c.prototype.error=c.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return this._settledValue};c.prototype.isFulfilled=a.prototype._isFulfilled=function(){return 0<(this._bitField&268435456)};c.prototype.isRejected=a.prototype._isRejected=function(){return 0<(this._bitField&134217728)};c.prototype.isPending=a.prototype._isPending=function(){return 0===(this._bitField&
402653184)};c.prototype.isResolved=a.prototype._isResolved=function(){return 0<(this._bitField&402653184)};a.prototype.isPending=function(){return this._target()._isPending()};a.prototype.isRejected=function(){return this._target()._isRejected()};a.prototype.isFulfilled=function(){return this._target()._isFulfilled()};a.prototype.isResolved=function(){return this._target()._isResolved()};a.prototype._value=function(){return this._settledValue};a.prototype._reason=function(){this._unsetRejectionIsUnhandled();
return this._settledValue};a.prototype.value=function(){var a=this._target();if(!a.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return a._settledValue};a.prototype.reason=function(){var a=this._target();if(!a.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");a._unsetRejectionIsUnhandled();return a._settledValue};a.PromiseInspection=c}},{}],35:[function(a,
d,l){d.exports=function(d,k){function g(a){return a.then}function l(a,c,g){var p=new d(k),n=p;g&&g._pushContext();p._captureStackTrace();g&&g._popContext();var h=!0;a=e.tryCatch(c).call(a,function(a){p&&(p._resolveCallback(a),p=null)},function(a){p&&(p._rejectCallback(a,h,!0),p=null)},function(a){p&&"function"===typeof p._progress&&p._progress(a)});h=!1;p&&a===f&&(p._rejectCallback(a.e,!0,!0),p=null);return n}var e=a("./util.js"),f=e.errorObj,h=e.isObject,r={}.hasOwnProperty;return function(a,c){if(h(a)){if(a instanceof
d)return a;if(r.call(a,"_promise0")){var v=new d(k);a._then(v._fulfillUnchecked,v._rejectUncheckedCheckError,v._progressUnchecked,v,null);return v}v=e.tryCatch(g)(a);if(v===f)return c&&c._pushContext(),v=d.reject(v.e),c&&c._popContext(),v;if("function"===typeof v)return l(a,v,c)}return a}}},{"./util.js":38}],36:[function(a,d,l){d.exports=function(d,k){function g(a){var c=this;c instanceof Number&&(c=+c);clearTimeout(c);return a}function l(a){var c=this;c instanceof Number&&(c=+c);clearTimeout(c);
throw a;}var e=a("./util.js"),f=d.TimeoutError,h=function(a){return r(+this).thenReturn(a)},r=d.delay=function(a,c){if(void 0===c){c=a;a=void 0;var g=new d(k);setTimeout(function(){g._fulfill()},c);return g}c=+c;return d.resolve(a)._then(h,null,null,c,void 0)};d.prototype.delay=function(a){return r(this,a)};d.prototype.timeout=function(a,c){a=+a;var d=this.then().cancellable();d._cancellationParent=this;var k=setTimeout(function(){var a=c;d.isPending()&&(!e.isPrimitive(a)&&a instanceof Error||("string"!==
typeof a&&(a="operation timed out"),a=new f(a)),e.markAsOriginatingFromRejection(a),d._attachExtraTrace(a),d._cancel(a))},a);return d._then(g,l,void 0,k,void 0)}}},{"./util.js":38}],37:[function(a,d,l){d.exports=function(d,k,g,l){function e(a){for(var c=a.length,k=0;k<c;++k){var g=a[k];if(g.isRejected())return d.reject(g.error());a[k]=g._settledValue}return a}function f(a){setTimeout(function(){throw a;},0)}function h(a,c){function k(){if(l>=n)return e.resolve();var q;q=a[l++];var h=g(q);h!==q&&"function"===
typeof q._isDisposable&&"function"===typeof q._getDisposer&&q._isDisposable()&&h._setDisposable(q._getDisposer());q=h;if(q instanceof d&&q._isDisposable()){try{q=g(q._getDisposer().tryDispose(c),a.promise)}catch(H){return f(H)}if(q instanceof d)return q._then(k,f,null,null,null)}k()}var l=0,n=a.length,e=d.defer();k();return e.promise}function r(a){var c=new C;c._settledValue=a;c._bitField=268435456;return h(this,c).thenReturn(a)}function w(a){var c=new C;c._settledValue=a;c._bitField=134217728;return h(this,
c).thenThrow(a)}function y(a,c,d){this._data=a;this._promise=c;this._context=d}function v(a,c,d){this.constructor$(a,c,d)}function x(a){return y.isDisposer(a)?(this.resources[this.index]._setDisposable(a),a.promise()):a}var A=a("./errors.js").TypeError,D=a("./util.js").inherits,C=d.PromiseInspection;y.prototype.data=function(){return this._data};y.prototype.promise=function(){return this._promise};y.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null};y.prototype.tryDispose=
function(a){var c=this.resource(),d=this._context;void 0!==d&&d._pushContext();a=null!==c?this.doDispose(c,a):null;void 0!==d&&d._popContext();this._promise._unsetDisposable();this._data=null;return a};y.isDisposer=function(a){return null!=a&&"function"===typeof a.resource&&"function"===typeof a.tryDispose};D(v,y);v.prototype.doDispose=function(a,c){return this.data().call(a,a,c)};d.using=function(){var a=arguments.length;if(2>a)return k("you must pass at least 2 arguments to Promise.using");var c=
arguments[a-1];if("function"!==typeof c)return k("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var l,n=!0;2===a&&Array.isArray(arguments[0])?(l=arguments[0],a=l.length,n=!1):(l=arguments,a--);for(var f=Array(a),u=0;u<a;++u){var h=l[u];if(y.isDisposer(h)){var t=h,h=h.promise();h._setDisposable(t)}else t=g(h),t instanceof d&&(h=t._then(x,null,null,{resources:f,index:u},void 0));f[u]=h}var H=d.settle(f).then(e).then(function(a){H._pushContext();var d;try{d=n?c.apply(void 0,a):c.call(void 0,
a)}finally{H._popContext()}return d})._then(r,w,void 0,f,void 0);return f.promise=H};d.prototype._setDisposable=function(a){this._bitField|=262144;this._disposer=a};d.prototype._isDisposable=function(){return 0<(this._bitField&262144)};d.prototype._getDisposer=function(){return this._disposer};d.prototype._unsetDisposable=function(){this._bitField&=-262145;this._disposer=void 0};d.prototype.disposer=function(a){if("function"===typeof a)return new v(a,this,l());throw new A;}}},{"./errors.js":13,"./util.js":38}],
38:[function(c,d,l){function m(){try{var a=r;r=null;return a.apply(this,arguments)}catch(c){return h.e=c,h}}function k(a){return null==a||!0===a||!1===a||"string"===typeof a||"number"===typeof a}function p(a,c,d){if(k(a))return a;f.defineProperty(a,c,{value:d,configurable:!0,enumerable:!1,writable:!0});return a}function n(a){return a instanceof Error&&f.propertyIsWritable(a,"stack")}function e(a){return{}.toString.call(a)}var f=c("./es5.js");c="undefined"==typeof navigator;l=function(){try{var a=
{};f.defineProperty(a,"f",{get:function(){return 3}});return 3===a.f}catch(c){return!1}}();var h={e:{}},r,w=function(){var a=[Array.prototype,Object.prototype,Function.prototype],c=function(c){for(var d=0;d<a.length;++d)if(a[d]===c)return!0;return!1};if(f.isES5){var d=Object.getOwnPropertyNames;return function(a){for(var k=[],g=Object.create(null);null!=a&&!c(a);){var m;try{m=d(a)}catch(l){break}for(var p=0;p<m.length;++p){var n=m[p];if(!g[n]){g[n]=!0;var e=Object.getOwnPropertyDescriptor(a,n);null!=
e&&null==e.get&&null==e.set&&k.push(n)}}a=f.getPrototypeOf(a)}return k}}var k={}.hasOwnProperty;return function(d){if(c(d))return[];var g=[],m;a:for(m in d){if(!k.call(d,m))for(var l=0;l<a.length;++l)if(k.call(a[l],m))continue a;g.push(m)}return g}}(),y=/this\s*\.\s*\S+\s*=/,v=/^[a-z$_][a-z$_0-9]*$/i,x=function(){return"stack"in Error()?function(a){return n(a)?a:Error(a+"")}:function(a){if(n(a))return a;try{throw Error(a+"");}catch(c){return c}}}();c={isClass:function(a){try{if("function"===typeof a){var c=
f.names(a.prototype),d=f.isES5&&1<c.length,k=0<c.length&&!(1===c.length&&"constructor"===c[0]),g=y.test(a+"")&&0<f.names(a).length;if(d||k||g)return!0}return!1}catch(m){return!1}},isIdentifier:function(a){return v.test(a)},inheritedDataKeys:w,getDataPropertyOrDefault:function(a,c,d){if(f.isES5){if(a=Object.getOwnPropertyDescriptor(a,c),null!=a)return null==a.get&&null==a.set?a.value:d}else return{}.hasOwnProperty.call(a,c)?a[c]:void 0},thrower:function(a){throw a;},isArray:f.isArray,haveGetters:l,
notEnumerableProp:p,isPrimitive:k,isObject:function(a){return!k(a)},canEvaluate:c,errorObj:h,tryCatch:function(a){r=a;return m},inherits:function(a,c){function d(){this.constructor=a;this.constructor$=c;for(var g in c.prototype)k.call(c.prototype,g)&&"$"!==g.charAt(g.length-1)&&(this[g+"$"]=c.prototype[g])}var k={}.hasOwnProperty;d.prototype=c.prototype;a.prototype=new d;return a.prototype},withAppended:function(a,c){var d=a.length,k=Array(d+1),g;for(g=0;g<d;++g)k[g]=a[g];k[g]=c;return k},maybeWrapAsError:function(a){return k(a)?
Error(a+""):a},toFastProperties:function(a){function c(){}c.prototype=a;for(var d=8;d--;)new c;return a},filledRange:function(a,c,d){for(var k=Array(a),g=0;g<a;++g)k[g]=c+g+d;return k},toString:function(a){return a+""},canAttachTrace:n,ensureErrorObject:x,originatesFromRejection:function(a){return null==a?!1:a instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===a.isOperational},markAsOriginatingFromRejection:function(a){try{p(a,"isOperational",!0)}catch(c){}},classString:e,copyDescriptors:function(a,
c,d){for(var k=f.names(a),g=0;g<k.length;++g){var m=k[g];if(d(m))try{f.defineProperty(c,m,f.getDescriptor(a,m))}catch(l){}}},hasDevTools:"undefined"!==typeof chrome&&chrome&&"function"===typeof chrome.loadTimes,isNode:"undefined"!==typeof a&&"[object process]"===e(a).toLowerCase()};c.isRecentNode=c.isNode&&function(){var c=a.versions.node.split(".").map(Number);return 0===c[0]&&10<c[1]||0<c[0]}();c.isNode&&c.toFastProperties(a);try{throw Error();}catch(A){c.lastLineError=A}d.exports=c},{"./es5.js":14}]},
{},[4])(4)});"undefined"!==typeof window&&null!==window?window.P=window.Promise:"undefined"!==typeof self&&null!==self&&(self.P=self.Promise)}).call(this,e("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{_process:"/stanza.io/node_modules/browserify/node_modules/process/browser.js"}],"/stanza.io/node_modules/browser-resolve/empty.js":[function(e,h,f){},{}],"/stanza.io/node_modules/browserify/node_modules/process/browser.js":[function(e,
h,f){function a(){l=!1;m.length?g=m.concat(g):k=-1;g.length&&d()}function d(){if(!l){var b=setTimeout(a);l=!0;for(var c=g.length;c;){m=g;for(g=[];++k<c;)m&&m[k].run();k=-1;c=g.length}m=null;l=!1;clearTimeout(b)}}function b(a,b){this.fun=a;this.array=b}function c(){}e=h.exports={};var g=[],l=!1,m,k=-1;e.nextTick=function(a){var c=Array(arguments.length-1);if(1<arguments.length)for(var k=1;k<arguments.length;k++)c[k-1]=arguments[k];g.push(new b(a,c));1!==g.length||l||setTimeout(d,0)};b.prototype.run=
function(){this.fun.apply(null,this.array)};e.title="browser";e.browser=!0;e.env={};e.argv=[];e.version="";e.versions={};e.on=c;e.addListener=c;e.once=c;e.off=c;e.removeListener=c;e.removeAllListeners=c;e.emit=c;e.binding=function(a){throw Error("process.binding is not supported");};e.cwd=function(){return"/"};e.chdir=function(a){throw Error("process.chdir is not supported");};e.umask=function(){return 0}},{}],"/stanza.io/node_modules/buffer/index.js":[function(e,h,f){(function(a){function d(){function a(){}
try{var b=new Uint8Array(1);b.foo=function(){return 42};b.constructor=a;return 42===b.foo()&&b.constructor===a&&"function"===typeof b.subarray&&0===b.subarray(1,1).byteLength}catch(c){return!1}}function b(a){if(!(this instanceof b))return 1<arguments.length?new b(a,arguments[1]):new b(a);b.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0);if("number"===typeof a){var d;d=l(this,0>a?0:m(a)|0);if(!b.TYPED_ARRAY_SUPPORT)for(var k=0;k<a;k++)d[k]=0;return d}if("string"===typeof a){d=this;k=1<arguments.length?
arguments[1]:"utf8";if("string"!==typeof k||""===k)k="utf8";var g=p(a,k)|0;d=l(d,g);d.write(a,k);return d}return c(this,a)}function c(a,c){if(b.isBuffer(c)){var d=a,k=m(c.length)|0,d=l(d,k);c.copy(d,0,0,k);return d}if(J(c)){for(var d=a,k=m(c.length)|0,d=l(d,k),p=0;p<k;p+=1)d[p]=c[p]&255;return d}if(null==c)throw new TypeError("must start with number, buffer, array or string");if("undefined"!==typeof ArrayBuffer){if(c.buffer instanceof ArrayBuffer)return g(a,c);if(c instanceof ArrayBuffer)return d=
a,b.TYPED_ARRAY_SUPPORT?(c.byteLength,d=b._augment(new Uint8Array(c))):d=g(d,new Uint8Array(c)),d}if(c.length){d=a;k=m(c.length)|0;d=l(d,k);for(p=0;p<k;p+=1)d[p]=c[p]&255;return d}d=a;p=0;"Buffer"===c.type&&J(c.data)&&(k=c.data,p=m(k.length)|0);for(var d=l(d,p),e=0;e<p;e+=1)d[e]=k[e]&255;return d}function g(a,b){var c=m(b.length)|0;a=l(a,c);for(var d=0;d<c;d+=1)a[d]=b[d]&255;return a}function l(a,c){b.TYPED_ARRAY_SUPPORT?(a=b._augment(new Uint8Array(c)),a.__proto__=b.prototype):(a.length=c,a._isBuffer=
!0);0!==c&&c<=b.poolSize>>>1&&(a.parent=F);return a}function m(a){if(a>=(b.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(b.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return a|0}function k(a,c){if(!(this instanceof k))return new k(a,c);var d=new b(a,c);delete d.parent;return d}function p(a,b){"string"!==typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case "ascii":case "binary":case "raw":case "raws":return c;
case "utf8":case "utf-8":return D(a).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*c;case "hex":return c>>>1;case "base64":return B.toByteArray(A(a)).length;default:if(d)return D(a).length;b=(""+b).toLowerCase();d=!0}}function n(a,b,c){var d=!1;b|=0;c=void 0===c||Infinity===c?this.length:c|0;a||(a="utf8");0>b&&(b=0);c>this.length&&(c=this.length);if(c<=b)return"";for(;;)switch(a){case "hex":a=b;b=c;c=this.length;if(!a||0>a)a=0;if(!b||0>b||b>c)b=c;d="";for(c=a;c<b;c++)a=d,
d=this[c],d=16>d?"0"+d.toString(16):d.toString(16),d=a+d;return d;case "utf8":case "utf-8":return q(this,b,c);case "ascii":a="";for(c=Math.min(this.length,c);b<c;b++)a+=String.fromCharCode(this[b]&127);return a;case "binary":a="";for(c=Math.min(this.length,c);b<c;b++)a+=String.fromCharCode(this[b]);return a;case "base64":return b=0===b&&c===this.length?B.fromByteArray(this):B.fromByteArray(this.slice(b,c)),b;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":b=this.slice(b,c);c="";for(a=0;a<
b.length;a+=2)c+=String.fromCharCode(b[a]+256*b[a+1]);return c;default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase();d=!0}}function q(a,b,c){c=Math.min(a.length,c);for(var d=[];b<c;){var k=a[b],g=null,m=239<k?4:223<k?3:191<k?2:1;if(b+m<=c){var l,p,e;switch(m){case 1:128>k&&(g=k);break;case 2:l=a[b+1];128===(l&192)&&(k=(k&31)<<6|l&63,127<k&&(g=k));break;case 3:l=a[b+1];p=a[b+2];128===(l&192)&&128===(p&192)&&(k=(k&15)<<12|(l&63)<<6|p&63,2047<k&&(55296>k||57343<k)&&(g=k));break;
case 4:l=a[b+1],p=a[b+2],e=a[b+3],128===(l&192)&&128===(p&192)&&128===(e&192)&&(k=(k&15)<<18|(l&63)<<12|(p&63)<<6|e&63,65535<k&&1114112>k&&(g=k))}}null===g?(g=65533,m=1):65535<g&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|g&1023);d.push(g);b+=m}a=d.length;if(a<=K)d=String.fromCharCode.apply(String,d);else{c="";for(b=0;b<a;)c+=String.fromCharCode.apply(String,d.slice(b,b+=K));d=c}return d}function u(a,b,c){if(0!==a%1||0>a)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length");
}function h(a,c,d,k,g,m){if(!b.isBuffer(a))throw new TypeError("buffer must be a Buffer instance");if(c>g||c<m)throw new RangeError("value is out of bounds");if(d+k>a.length)throw new RangeError("index out of range");}function r(a,b,c,d){0>b&&(b=65535+b+1);for(var k=0,g=Math.min(a.length-c,2);k<g;k++)a[c+k]=(b&255<<8*(d?k:1-k))>>>8*(d?k:1-k)}function w(a,b,c,d){0>b&&(b=4294967295+b+1);for(var k=0,g=Math.min(a.length-c,4);k<g;k++)a[c+k]=b>>>8*(d?k:3-k)&255}function y(a,b,c,d,k,g){if(b>k||b<g)throw new RangeError("value is out of bounds");
if(c+d>a.length)throw new RangeError("index out of range");if(0>c)throw new RangeError("index out of range");}function v(a,b,c,d,k){k||y(a,b,c,4,3.4028234663852886E38,-3.4028234663852886E38);I.write(a,b,c,d,23,4);return c+4}function x(a,b,c,d,k){k||y(a,b,c,8,1.7976931348623157E308,-1.7976931348623157E308);I.write(a,b,c,d,52,8);return c+8}function A(a){a=a.trim?a.trim():a.replace(/^\s+|\s+$/g,"");a=a.replace(L,"");if(2>a.length)return"";for(;0!==a.length%4;)a+="=";return a}function D(a,b){b=b||Infinity;
for(var c,d=a.length,k=null,g=[],m=0;m<d;m++){c=a.charCodeAt(m);if(55295<c&&57344>c){if(!k){if(56319<c){-1<(b-=3)&&g.push(239,191,189);continue}else if(m+1===d){-1<(b-=3)&&g.push(239,191,189);continue}k=c;continue}if(56320>c){-1<(b-=3)&&g.push(239,191,189);k=c;continue}c=(k-55296<<10|c-56320)+65536}else k&&-1<(b-=3)&&g.push(239,191,189);k=null;if(128>c){if(0>--b)break;g.push(c)}else if(2048>c){if(0>(b-=2))break;g.push(c>>6|192,c&63|128)}else if(65536>c){if(0>(b-=3))break;g.push(c>>12|224,c>>6&63|
128,c&63|128)}else if(1114112>c){if(0>(b-=4))break;g.push(c>>18|240,c>>12&63|128,c>>6&63|128,c&63|128)}else throw Error("Invalid code point");}return g}function C(a){for(var b=[],c=0;c<a.length;c++)b.push(a.charCodeAt(c)&255);return b}function E(a,b,c,d){for(var k=0;k<d&&!(k+c>=b.length||k>=a.length);k++)b[k+c]=a[k];return k}var B=e("base64-js"),I=e("ieee754"),J=e("isarray");f.Buffer=b;f.SlowBuffer=k;f.INSPECT_MAX_BYTES=50;b.poolSize=8192;var F={};b.TYPED_ARRAY_SUPPORT=void 0!==a.TYPED_ARRAY_SUPPORT?
a.TYPED_ARRAY_SUPPORT:d();b.TYPED_ARRAY_SUPPORT?(b.prototype.__proto__=Uint8Array.prototype,b.__proto__=Uint8Array):(b.prototype.length=void 0,b.prototype.parent=void 0);b.isBuffer=function(a){return!(null==a||!a._isBuffer)};b.compare=function(a,c){if(!b.isBuffer(a)||!b.isBuffer(c))throw new TypeError("Arguments must be Buffers");if(a===c)return 0;for(var d=a.length,k=c.length,g=0,m=Math.min(d,k);g<m&&a[g]===c[g];)++g;g!==m&&(d=a[g],k=c[g]);return d<k?-1:k<d?1:0};b.isEncoding=function(a){switch(String(a).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "raw":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;
default:return!1}};b.concat=function(a,c){if(!J(a))throw new TypeError("list argument must be an Array of Buffers.");if(0===a.length)return new b(0);var d;if(void 0===c)for(d=c=0;d<a.length;d++)c+=a[d].length;var k=new b(c),g=0;for(d=0;d<a.length;d++){var m=a[d];m.copy(k,g);g+=m.length}return k};b.byteLength=p;b.prototype.toString=function(){var a=this.length|0;return 0===a?"":0===arguments.length?q(this,0,a):n.apply(this,arguments)};b.prototype.equals=function(a){if(!b.isBuffer(a))throw new TypeError("Argument must be a Buffer");
return this===a?!0:0===b.compare(this,a)};b.prototype.inspect=function(){var a="",b=f.INSPECT_MAX_BYTES;0<this.length&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... "));return"<Buffer "+a+">"};b.prototype.compare=function(a){if(!b.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?0:b.compare(this,a)};b.prototype.indexOf=function(a,c){function d(a,b,c){for(var k=-1,g=0;c+g<a.length;g++)if(a[c+g]===b[-1===k?0:g-k]){if(-1===k&&(k=g),g-k+1===
b.length)return c+k}else k=-1;return-1}2147483647<c?c=2147483647:-2147483648>c&&(c=-2147483648);c>>=0;if(0===this.length||c>=this.length)return-1;0>c&&(c=Math.max(this.length+c,0));if("string"===typeof a)return 0===a.length?-1:String.prototype.indexOf.call(this,a,c);if(b.isBuffer(a))return d(this,a,c);if("number"===typeof a)return b.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,a,c):d(this,[a],c);throw new TypeError("val must be string, number or Buffer");
};b.prototype.get=function(a){console.log(".get() is deprecated. Access using array indexes instead.");return this.readUInt8(a)};b.prototype.set=function(a,b){console.log(".set() is deprecated. Access using array indexes instead.");return this.writeUInt8(a,b)};b.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"===typeof b)d=b,c=this.length,b=0;else if(isFinite(b))b|=0,isFinite(c)?(c|=0,void 0===d&&(d="utf8")):(d=c,c=void 0);else{var k=d;d=b;b=
c|0;c=k}k=this.length-b;if(void 0===c||c>k)c=k;if(0<a.length&&(0>c||0>b)||b>this.length)throw new RangeError("attempt to write outside buffer bounds");d||(d="utf8");for(k=!1;;)switch(d){case "hex":b=Number(b)||0;d=this.length-b;c?(c=Number(c),c>d&&(c=d)):c=d;d=a.length;if(0!==d%2)throw Error("Invalid hex string");c>d/2&&(c=d/2);for(d=0;d<c;d++){k=parseInt(a.substr(2*d,2),16);if(isNaN(k))throw Error("Invalid hex string");this[b+d]=k}return d;case "utf8":case "utf-8":return E(D(a,this.length-b),this,
b,c);case "ascii":return E(C(a),this,b,c);case "binary":return E(C(a),this,b,c);case "base64":return E(B.toByteArray(A(a)),this,b,c);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":d=this.length-b;for(var g,m=[],l=0;l<a.length&&!(0>(d-=2));l++)g=a.charCodeAt(l),k=g>>8,g%=256,m.push(g),m.push(k);return E(m,this,b,c);default:if(k)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase();k=!0}};b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||
this,0)}};var K=4096;b.prototype.slice=function(a,c){var d=this.length;a=~~a;c=void 0===c?d:~~c;0>a?(a+=d,0>a&&(a=0)):a>d&&(a=d);0>c?(c+=d,0>c&&(c=0)):c>d&&(c=d);c<a&&(c=a);if(b.TYPED_ARRAY_SUPPORT)d=b._augment(this.subarray(a,c));else for(var k=c-a,d=new b(k,void 0),g=0;g<k;g++)d[g]=this[g+a];d.length&&(d.parent=this.parent||this);return d};b.prototype.readUIntLE=function(a,b,c){a|=0;b|=0;c||u(a,b,this.length);c=this[a];for(var d=1,k=0;++k<b&&(d*=256);)c+=this[a+k]*d;return c};b.prototype.readUIntBE=
function(a,b,c){a|=0;b|=0;c||u(a,b,this.length);c=this[a+--b];for(var d=1;0<b&&(d*=256);)c+=this[a+--b]*d;return c};b.prototype.readUInt8=function(a,b){b||u(a,1,this.length);return this[a]};b.prototype.readUInt16LE=function(a,b){b||u(a,2,this.length);return this[a]|this[a+1]<<8};b.prototype.readUInt16BE=function(a,b){b||u(a,2,this.length);return this[a]<<8|this[a+1]};b.prototype.readUInt32LE=function(a,b){b||u(a,4,this.length);return(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]};b.prototype.readUInt32BE=
function(a,b){b||u(a,4,this.length);return 16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])};b.prototype.readIntLE=function(a,b,c){a|=0;b|=0;c||u(a,b,this.length);c=this[a];for(var d=1,k=0;++k<b&&(d*=256);)c+=this[a+k]*d;c>=128*d&&(c-=Math.pow(2,8*b));return c};b.prototype.readIntBE=function(a,b,c){a|=0;b|=0;c||u(a,b,this.length);c=b;for(var d=1,k=this[a+--c];0<c&&(d*=256);)k+=this[a+--c]*d;k>=128*d&&(k-=Math.pow(2,8*b));return k};b.prototype.readInt8=function(a,b){b||u(a,1,this.length);return this[a]&
128?-1*(255-this[a]+1):this[a]};b.prototype.readInt16LE=function(a,b){b||u(a,2,this.length);var c=this[a]|this[a+1]<<8;return c&32768?c|4294901760:c};b.prototype.readInt16BE=function(a,b){b||u(a,2,this.length);var c=this[a+1]|this[a]<<8;return c&32768?c|4294901760:c};b.prototype.readInt32LE=function(a,b){b||u(a,4,this.length);return this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24};b.prototype.readInt32BE=function(a,b){b||u(a,4,this.length);return this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]};
b.prototype.readFloatLE=function(a,b){b||u(a,4,this.length);return I.read(this,a,!0,23,4)};b.prototype.readFloatBE=function(a,b){b||u(a,4,this.length);return I.read(this,a,!1,23,4)};b.prototype.readDoubleLE=function(a,b){b||u(a,8,this.length);return I.read(this,a,!0,52,8)};b.prototype.readDoubleBE=function(a,b){b||u(a,8,this.length);return I.read(this,a,!1,52,8)};b.prototype.writeUIntLE=function(a,b,c,d){a=+a;b|=0;c|=0;d||h(this,a,b,c,Math.pow(2,8*c),0);d=1;var k=0;for(this[b]=a&255;++k<c&&(d*=256);)this[b+
k]=a/d&255;return b+c};b.prototype.writeUIntBE=function(a,b,c,d){a=+a;b|=0;c|=0;d||h(this,a,b,c,Math.pow(2,8*c),0);d=c-1;var k=1;for(this[b+d]=a&255;0<=--d&&(k*=256);)this[b+d]=a/k&255;return b+c};b.prototype.writeUInt8=function(a,c,d){a=+a;c|=0;d||h(this,a,c,1,255,0);b.TYPED_ARRAY_SUPPORT||(a=Math.floor(a));this[c]=a&255;return c+1};b.prototype.writeUInt16LE=function(a,c,d){a=+a;c|=0;d||h(this,a,c,2,65535,0);b.TYPED_ARRAY_SUPPORT?(this[c]=a&255,this[c+1]=a>>>8):r(this,a,c,!0);return c+2};b.prototype.writeUInt16BE=
function(a,c,d){a=+a;c|=0;d||h(this,a,c,2,65535,0);b.TYPED_ARRAY_SUPPORT?(this[c]=a>>>8,this[c+1]=a&255):r(this,a,c,!1);return c+2};b.prototype.writeUInt32LE=function(a,c,d){a=+a;c|=0;d||h(this,a,c,4,4294967295,0);b.TYPED_ARRAY_SUPPORT?(this[c+3]=a>>>24,this[c+2]=a>>>16,this[c+1]=a>>>8,this[c]=a&255):w(this,a,c,!0);return c+4};b.prototype.writeUInt32BE=function(a,c,d){a=+a;c|=0;d||h(this,a,c,4,4294967295,0);b.TYPED_ARRAY_SUPPORT?(this[c]=a>>>24,this[c+1]=a>>>16,this[c+2]=a>>>8,this[c+3]=a&255):w(this,
a,c,!1);return c+4};b.prototype.writeIntLE=function(a,b,c,d){a=+a;b|=0;d||(d=Math.pow(2,8*c-1),h(this,a,b,c,d-1,-d));d=0;var k=1,g=0>a?1:0;for(this[b]=a&255;++d<c&&(k*=256);)this[b+d]=(a/k>>0)-g&255;return b+c};b.prototype.writeIntBE=function(a,b,c,d){a=+a;b|=0;d||(d=Math.pow(2,8*c-1),h(this,a,b,c,d-1,-d));d=c-1;var k=1,g=0>a?1:0;for(this[b+d]=a&255;0<=--d&&(k*=256);)this[b+d]=(a/k>>0)-g&255;return b+c};b.prototype.writeInt8=function(a,c,d){a=+a;c|=0;d||h(this,a,c,1,127,-128);b.TYPED_ARRAY_SUPPORT||
(a=Math.floor(a));0>a&&(a=255+a+1);this[c]=a&255;return c+1};b.prototype.writeInt16LE=function(a,c,d){a=+a;c|=0;d||h(this,a,c,2,32767,-32768);b.TYPED_ARRAY_SUPPORT?(this[c]=a&255,this[c+1]=a>>>8):r(this,a,c,!0);return c+2};b.prototype.writeInt16BE=function(a,c,d){a=+a;c|=0;d||h(this,a,c,2,32767,-32768);b.TYPED_ARRAY_SUPPORT?(this[c]=a>>>8,this[c+1]=a&255):r(this,a,c,!1);return c+2};b.prototype.writeInt32LE=function(a,c,d){a=+a;c|=0;d||h(this,a,c,4,2147483647,-2147483648);b.TYPED_ARRAY_SUPPORT?(this[c]=
a&255,this[c+1]=a>>>8,this[c+2]=a>>>16,this[c+3]=a>>>24):w(this,a,c,!0);return c+4};b.prototype.writeInt32BE=function(a,c,d){a=+a;c|=0;d||h(this,a,c,4,2147483647,-2147483648);0>a&&(a=4294967295+a+1);b.TYPED_ARRAY_SUPPORT?(this[c]=a>>>24,this[c+1]=a>>>16,this[c+2]=a>>>8,this[c+3]=a&255):w(this,a,c,!1);return c+4};b.prototype.writeFloatLE=function(a,b,c){return v(this,a,b,!0,c)};b.prototype.writeFloatBE=function(a,b,c){return v(this,a,b,!1,c)};b.prototype.writeDoubleLE=function(a,b,c){return x(this,
a,b,!0,c)};b.prototype.writeDoubleBE=function(a,b,c){return x(this,a,b,!1,c)};b.prototype.copy=function(a,c,d,k){d||(d=0);k||0===k||(k=this.length);c>=a.length&&(c=a.length);c||(c=0);0<k&&k<d&&(k=d);if(k===d||0===a.length||0===this.length)return 0;if(0>c)throw new RangeError("targetStart out of bounds");if(0>d||d>=this.length)throw new RangeError("sourceStart out of bounds");if(0>k)throw new RangeError("sourceEnd out of bounds");k>this.length&&(k=this.length);a.length-c<k-d&&(k=a.length-c+d);var g=
k-d;if(this===a&&d<c&&c<k)for(k=g-1;0<=k;k--)a[k+c]=this[k+d];else if(1E3>g||!b.TYPED_ARRAY_SUPPORT)for(k=0;k<g;k++)a[k+c]=this[k+d];else a._set(this.subarray(d,d+g),c);return g};b.prototype.fill=function(a,b,c){a||(a=0);b||(b=0);c||(c=this.length);if(c<b)throw new RangeError("end < start");if(c!==b&&0!==this.length){if(0>b||b>=this.length)throw new RangeError("start out of bounds");if(0>c||c>this.length)throw new RangeError("end out of bounds");if("number"===typeof a)for(;b<c;b++)this[b]=a;else{a=
D(a.toString());for(var d=a.length;b<c;b++)this[b]=a[b%d]}return this}};b.prototype.toArrayBuffer=function(){if("undefined"!==typeof Uint8Array){if(b.TYPED_ARRAY_SUPPORT)return(new b(this)).buffer;for(var a=new Uint8Array(this.length),c=0,d=a.length;c<d;c+=1)a[c]=this[c];return a.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser");};var G=b.prototype;b._augment=function(a){a.constructor=b;a._isBuffer=!0;a._set=a.set;a.get=G.get;a.set=G.set;a.write=G.write;a.toString=G.toString;
a.toLocaleString=G.toString;a.toJSON=G.toJSON;a.equals=G.equals;a.compare=G.compare;a.indexOf=G.indexOf;a.copy=G.copy;a.slice=G.slice;a.readUIntLE=G.readUIntLE;a.readUIntBE=G.readUIntBE;a.readUInt8=G.readUInt8;a.readUInt16LE=G.readUInt16LE;a.readUInt16BE=G.readUInt16BE;a.readUInt32LE=G.readUInt32LE;a.readUInt32BE=G.readUInt32BE;a.readIntLE=G.readIntLE;a.readIntBE=G.readIntBE;a.readInt8=G.readInt8;a.readInt16LE=G.readInt16LE;a.readInt16BE=G.readInt16BE;a.readInt32LE=G.readInt32LE;a.readInt32BE=G.readInt32BE;
a.readFloatLE=G.readFloatLE;a.readFloatBE=G.readFloatBE;a.readDoubleLE=G.readDoubleLE;a.readDoubleBE=G.readDoubleBE;a.writeUInt8=G.writeUInt8;a.writeUIntLE=G.writeUIntLE;a.writeUIntBE=G.writeUIntBE;a.writeUInt16LE=G.writeUInt16LE;a.writeUInt16BE=G.writeUInt16BE;a.writeUInt32LE=G.writeUInt32LE;a.writeUInt32BE=G.writeUInt32BE;a.writeIntLE=G.writeIntLE;a.writeIntBE=G.writeIntBE;a.writeInt8=G.writeInt8;a.writeInt16LE=G.writeInt16LE;a.writeInt16BE=G.writeInt16BE;a.writeInt32LE=G.writeInt32LE;a.writeInt32BE=
G.writeInt32BE;a.writeFloatLE=G.writeFloatLE;a.writeFloatBE=G.writeFloatBE;a.writeDoubleLE=G.writeDoubleLE;a.writeDoubleBE=G.writeDoubleBE;a.fill=G.fill;a.inspect=G.inspect;a.toArrayBuffer=G.toArrayBuffer;return a};var L=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"base64-js":"/stanza.io/node_modules/base64-js/lib/b64.js",ieee754:"/stanza.io/node_modules/ieee754/index.js",isarray:"/stanza.io/node_modules/buffer/node_modules/isarray/index.js"}],
"/stanza.io/node_modules/buffer/node_modules/isarray/index.js":[function(e,h,f){var a={}.toString;h.exports=Array.isArray||function(d){return"[object Array]"==a.call(d)}},{}],"/stanza.io/node_modules/cipher-base/index.js":[function(e,h,f){(function(a){function d(a){b.call(this);(this.hashMode="string"===typeof a)?this[a]=this._finalOrDigest:this["final"]=this._finalOrDigest;this._encoding=this._decoder=null}var b=e("stream").Transform,c=e("inherits"),g=e("string_decoder").StringDecoder;h.exports=
d;c(d,b);d.prototype.update=function(b,c,d){"string"===typeof b&&(b=new a(b,c));b=this._update(b);if(this.hashMode)return this;d&&(b=this._toString(b,d));return b};d.prototype.setAutoPadding=function(){};d.prototype.getAuthTag=function(){throw Error("trying to get auth tag in unsupported state");};d.prototype.setAuthTag=function(){throw Error("trying to set auth tag in unsupported state");};d.prototype.setAAD=function(){throw Error("trying to set aad in unsupported state");};d.prototype._transform=
function(a,b,c){var d;try{this.hashMode?this._update(a):this.push(this._update(a))}catch(g){d=g}finally{c(d)}};d.prototype._flush=function(a){var b;try{this.push(this._final())}catch(c){b=c}finally{a(b)}};d.prototype._finalOrDigest=function(b){var c=this._final()||new a("");b&&(c=this._toString(c,b,!0));return c};d.prototype._toString=function(a,b,c){this._decoder||(this._decoder=new g(b),this._encoding=b);if(this._encoding!==b)throw Error("can't switch encodings");a=this._decoder.write(a);c&&(a+=
this._decoder.end());return a}}).call(this,e("buffer").Buffer)},{buffer:"/stanza.io/node_modules/buffer/index.js",inherits:"/stanza.io/node_modules/inherits/inherits_browser.js",stream:"/stanza.io/node_modules/stream-browserify/index.js",string_decoder:"/stanza.io/node_modules/string_decoder/index.js"}],"/stanza.io/node_modules/core-js/library/fn/object/assign.js":[function(e,h,f){e("../../modules/es6.object.assign");h.exports=e("../../modules/$.core").Object.assign},{"../../modules/$.core":"/stanza.io/node_modules/core-js/library/modules/$.core.js",
"../../modules/es6.object.assign":"/stanza.io/node_modules/core-js/library/modules/es6.object.assign.js"}],"/stanza.io/node_modules/core-js/library/modules/$.a-function.js":[function(e,h,f){h.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},{}],"/stanza.io/node_modules/core-js/library/modules/$.cof.js":[function(e,h,f){var a={}.toString;h.exports=function(d){return a.call(d).slice(8,-1)}},{}],"/stanza.io/node_modules/core-js/library/modules/$.core.js":[function(e,
h,f){e=h.exports={version:"1.2.6"};"number"==typeof __e&&(__e=e)},{}],"/stanza.io/node_modules/core-js/library/modules/$.ctx.js":[function(e,h,f){var a=e("./$.a-function");h.exports=function(d,b,c){a(d);if(void 0===b)return d;switch(c){case 1:return function(a){return d.call(b,a)};case 2:return function(a,c){return d.call(b,a,c)};case 3:return function(a,c,m){return d.call(b,a,c,m)}}return function(){return d.apply(b,arguments)}}},{"./$.a-function":"/stanza.io/node_modules/core-js/library/modules/$.a-function.js"}],
"/stanza.io/node_modules/core-js/library/modules/$.defined.js":[function(e,h,f){h.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}},{}],"/stanza.io/node_modules/core-js/library/modules/$.export.js":[function(e,h,f){var a=e("./$.global"),d=e("./$.core"),b=e("./$.ctx"),c=function(g,l,m){var k=g&c.F,p=g&c.G,e=g&c.S,f=g&c.P,u=g&c.B;g&=c.W;var h=p?d:d[l]||(d[l]={}),e=p?a:e?a[l]:(a[l]||{}).prototype,r,w;p&&(m=l);for(r in m)l=!k&&e&&r in e,l&&r in h||(w=l?e[r]:m[r],
h[r]=p&&"function"!=typeof e[r]?m[r]:u&&l?b(w,a):g&&e[r]==w?function(a){var b=function(b){return this instanceof a?new a(b):a(b)};b.prototype=a.prototype;return b}(w):f&&"function"==typeof w?b(Function.call,w):w,f&&((h.prototype||(h.prototype={}))[r]=w))};c.F=1;c.G=2;c.S=4;c.P=8;c.B=16;c.W=32;h.exports=c},{"./$.core":"/stanza.io/node_modules/core-js/library/modules/$.core.js","./$.ctx":"/stanza.io/node_modules/core-js/library/modules/$.ctx.js","./$.global":"/stanza.io/node_modules/core-js/library/modules/$.global.js"}],
"/stanza.io/node_modules/core-js/library/modules/$.fails.js":[function(e,h,f){h.exports=function(a){try{return!!a()}catch(d){return!0}}},{}],"/stanza.io/node_modules/core-js/library/modules/$.global.js":[function(e,h,f){e=h.exports="undefined"!=typeof window&&Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},{}],"/stanza.io/node_modules/core-js/library/modules/$.iobject.js":[function(e,h,f){var a=e("./$.cof");h.exports=Object("z").propertyIsEnumerable(0)?
Object:function(d){return"String"==a(d)?d.split(""):Object(d)}},{"./$.cof":"/stanza.io/node_modules/core-js/library/modules/$.cof.js"}],"/stanza.io/node_modules/core-js/library/modules/$.js":[function(e,h,f){e=Object;h.exports={create:e.create,getProto:e.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:e.getOwnPropertyDescriptor,setDesc:e.defineProperty,setDescs:e.defineProperties,getKeys:e.keys,getNames:e.getOwnPropertyNames,getSymbols:e.getOwnPropertySymbols,each:[].forEach}},{}],"/stanza.io/node_modules/core-js/library/modules/$.object-assign.js":[function(e,
h,f){var a=e("./$"),d=e("./$.to-object"),b=e("./$.iobject");h.exports=e("./$.fails")(function(){$jscomp.initSymbol();var a=Object.assign,b={},d={},m=Symbol();b[m]=7;"abcdefghijklmnopqrst".split("").forEach(function(a){d[a]=a});return 7!=a({},b)[m]||"abcdefghijklmnopqrst"!=Object.keys(a({},d)).join("")})?function(c,g){for(var l=d(c),m=arguments,k=m.length,p=1,e=a.getKeys,f=a.getSymbols,u=a.isEnum;k>p;)for(var h=b(m[p++]),r=f?e(h).concat(f(h)):e(h),w=r.length,y=0,v;w>y;)u.call(h,v=r[y++])&&(l[v]=h[v]);
return l}:Object.assign},{"./$":"/stanza.io/node_modules/core-js/library/modules/$.js","./$.fails":"/stanza.io/node_modules/core-js/library/modules/$.fails.js","./$.iobject":"/stanza.io/node_modules/core-js/library/modules/$.iobject.js","./$.to-object":"/stanza.io/node_modules/core-js/library/modules/$.to-object.js"}],"/stanza.io/node_modules/core-js/library/modules/$.to-object.js":[function(e,h,f){var a=e("./$.defined");h.exports=function(d){return Object(a(d))}},{"./$.defined":"/stanza.io/node_modules/core-js/library/modules/$.defined.js"}],
"/stanza.io/node_modules/core-js/library/modules/es6.object.assign.js":[function(e,h,f){h=e("./$.export");h(h.S+h.F,"Object",{assign:e("./$.object-assign")})},{"./$.export":"/stanza.io/node_modules/core-js/library/modules/$.export.js","./$.object-assign":"/stanza.io/node_modules/core-js/library/modules/$.object-assign.js"}],"/stanza.io/node_modules/core-util-is/lib/util.js":[function(e,h,f){(function(a){f.isArray=function(a){return Array.isArray?Array.isArray(a):"[object Array]"===Object.prototype.toString.call(a)};
f.isBoolean=function(a){return"boolean"===typeof a};f.isNull=function(a){return null===a};f.isNullOrUndefined=function(a){return null==a};f.isNumber=function(a){return"number"===typeof a};f.isString=function(a){return"string"===typeof a};f.isSymbol=function(a){return"symbol"===typeof a};f.isUndefined=function(a){return void 0===a};f.isRegExp=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)};f.isObject=function(a){return"object"===typeof a&&null!==a};f.isDate=function(a){return"[object Date]"===
Object.prototype.toString.call(a)};f.isError=function(a){return"[object Error]"===Object.prototype.toString.call(a)||a instanceof Error};f.isFunction=function(a){return"function"===typeof a};f.isPrimitive=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a};f.isBuffer=a.isBuffer}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":"/stanza.io/node_modules/is-buffer/index.js"}],"/stanza.io/node_modules/create-hash/browser.js":[function(e,
h,f){(function(a){function d(a){k.call(this,"digest");this._hash=a;this.buffers=[]}function b(a){k.call(this,"digest");this._hash=a}var c=e("inherits"),g=e("./md5"),l=e("ripemd160"),m=e("sha.js"),k=e("cipher-base");c(d,k);d.prototype._update=function(a){this.buffers.push(a)};d.prototype._final=function(){var b=a.concat(this.buffers),b=this._hash(b);this.buffers=null;return b};c(b,k);b.prototype._update=function(a){this._hash.update(a)};b.prototype._final=function(){return this._hash.digest()};h.exports=
function(a){a=a.toLowerCase();return"md5"===a?new d(g):"rmd160"===a||"ripemd160"===a?new d(l):new b(m(a))}}).call(this,e("buffer").Buffer)},{"./md5":"/stanza.io/node_modules/create-hash/md5.js",buffer:"/stanza.io/node_modules/buffer/index.js","cipher-base":"/stanza.io/node_modules/cipher-base/index.js",inherits:"/stanza.io/node_modules/inherits/inherits_browser.js",ripemd160:"/stanza.io/node_modules/ripemd160/lib/ripemd160.js","sha.js":"/stanza.io/node_modules/sha.js/index.js"}],"/stanza.io/node_modules/create-hash/helpers.js":[function(e,
h,f){(function(a){var d=new a(4);d.fill(0);f.hash=function(b,c,g,l){a.isBuffer(b)||(b=new a(b));var m=b;0!==m.length%4&&(m=a.concat([m,d],m.length+(4-m.length%4)));for(var k=[],p=l?m.readInt32BE:m.readInt32LE,e=0;e<m.length;e+=4)k.push(p.call(m,e));b=c(k,8*b.length);g=new a(g);l=l?g.writeInt32BE:g.writeInt32LE;for(c=0;c<b.length;c++)l.call(g,b[c],4*c,!0);return g}}).call(this,e("buffer").Buffer)},{buffer:"/stanza.io/node_modules/buffer/index.js"}],"/stanza.io/node_modules/create-hash/md5.js":[function(e,
h,f){function a(a,m){a[m>>5]|=128<<m%32;a[(m+64>>>9<<4)+14]=m;for(var e=1732584193,f=-271733879,h=-1732584194,t=271733878,r=0;r<a.length;r+=16)var w=e,y=f,v=h,x=t,e=b(e,f,h,t,a[r+0],7,-680876936),t=b(t,e,f,h,a[r+1],12,-389564586),h=b(h,t,e,f,a[r+2],17,606105819),f=b(f,h,t,e,a[r+3],22,-1044525330),e=b(e,f,h,t,a[r+4],7,-176418897),t=b(t,e,f,h,a[r+5],12,1200080426),h=b(h,t,e,f,a[r+6],17,-1473231341),f=b(f,h,t,e,a[r+7],22,-45705983),e=b(e,f,h,t,a[r+8],7,1770035416),t=b(t,e,f,h,a[r+9],12,-1958414417),
h=b(h,t,e,f,a[r+10],17,-42063),f=b(f,h,t,e,a[r+11],22,-1990404162),e=b(e,f,h,t,a[r+12],7,1804603682),t=b(t,e,f,h,a[r+13],12,-40341101),h=b(h,t,e,f,a[r+14],17,-1502002290),f=b(f,h,t,e,a[r+15],22,1236535329),e=c(e,f,h,t,a[r+1],5,-165796510),t=c(t,e,f,h,a[r+6],9,-1069501632),h=c(h,t,e,f,a[r+11],14,643717713),f=c(f,h,t,e,a[r+0],20,-373897302),e=c(e,f,h,t,a[r+5],5,-701558691),t=c(t,e,f,h,a[r+10],9,38016083),h=c(h,t,e,f,a[r+15],14,-660478335),f=c(f,h,t,e,a[r+4],20,-405537848),e=c(e,f,h,t,a[r+9],5,568446438),
t=c(t,e,f,h,a[r+14],9,-1019803690),h=c(h,t,e,f,a[r+3],14,-187363961),f=c(f,h,t,e,a[r+8],20,1163531501),e=c(e,f,h,t,a[r+13],5,-1444681467),t=c(t,e,f,h,a[r+2],9,-51403784),h=c(h,t,e,f,a[r+7],14,1735328473),f=c(f,h,t,e,a[r+12],20,-1926607734),e=d(f^h^t,e,f,a[r+5],4,-378558),t=d(e^f^h,t,e,a[r+8],11,-2022574463),h=d(t^e^f,h,t,a[r+11],16,1839030562),f=d(h^t^e,f,h,a[r+14],23,-35309556),e=d(f^h^t,e,f,a[r+1],4,-1530992060),t=d(e^f^h,t,e,a[r+4],11,1272893353),h=d(t^e^f,h,t,a[r+7],16,-155497632),f=d(h^t^e,f,
h,a[r+10],23,-1094730640),e=d(f^h^t,e,f,a[r+13],4,681279174),t=d(e^f^h,t,e,a[r+0],11,-358537222),h=d(t^e^f,h,t,a[r+3],16,-722521979),f=d(h^t^e,f,h,a[r+6],23,76029189),e=d(f^h^t,e,f,a[r+9],4,-640364487),t=d(e^f^h,t,e,a[r+12],11,-421815835),h=d(t^e^f,h,t,a[r+15],16,530742520),f=d(h^t^e,f,h,a[r+2],23,-995338651),e=g(e,f,h,t,a[r+0],6,-198630844),t=g(t,e,f,h,a[r+7],10,1126891415),h=g(h,t,e,f,a[r+14],15,-1416354905),f=g(f,h,t,e,a[r+5],21,-57434055),e=g(e,f,h,t,a[r+12],6,1700485571),t=g(t,e,f,h,a[r+3],10,
-1894986606),h=g(h,t,e,f,a[r+10],15,-1051523),f=g(f,h,t,e,a[r+1],21,-2054922799),e=g(e,f,h,t,a[r+8],6,1873313359),t=g(t,e,f,h,a[r+15],10,-30611744),h=g(h,t,e,f,a[r+6],15,-1560198380),f=g(f,h,t,e,a[r+13],21,1309151649),e=g(e,f,h,t,a[r+4],6,-145523070),t=g(t,e,f,h,a[r+11],10,-1120210379),h=g(h,t,e,f,a[r+2],15,718787259),f=g(f,h,t,e,a[r+9],21,-343485551),e=l(e,w),f=l(f,y),h=l(h,v),t=l(t,x);return[e,f,h,t]}function d(a,b,c,d,g,m){a=l(l(b,a),l(d,m));return l(a<<g|a>>>32-g,c)}function b(a,b,c,g,m,l,e){return d(b&
c|~b&g,a,b,m,l,e)}function c(a,b,c,g,m,l,e){return d(b&g|c&~g,a,b,m,l,e)}function g(a,b,c,g,m,l,e){return d(c^(b|~g),a,b,m,l,e)}function l(a,b){var c=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(c>>16)<<16|c&65535}var m=e("./helpers");h.exports=function(b){return m.hash(b,a,16)}},{"./helpers":"/stanza.io/node_modules/create-hash/helpers.js"}],"/stanza.io/node_modules/create-hmac/browser.js":[function(e,h,f){(function(a){function d(c,d){g.call(this);c=c.toLowerCase();"string"===typeof d&&(d=new a(d));
var e="sha512"===c||"sha384"===c?128:64;this._alg=c;this._key=d;d.length>e?d=b(c).update(d).digest():d.length<e&&(d=a.concat([d,l],e));for(var f=this._ipad=new a(e),h=this._opad=new a(e),u=0;u<e;u++)f[u]=d[u]^54,h[u]=d[u]^92;this._hash=b(c).update(f)}var b=e("create-hash/browser"),c=e("inherits"),g=e("stream").Transform,l=new a(128);l.fill(0);c(d,g);d.prototype.update=function(a,b){this._hash.update(a,b);return this};d.prototype._transform=function(a,b,c){this._hash.update(a);c()};d.prototype._flush=
function(a){this.push(this.digest());a()};d.prototype.digest=function(a){var c=this._hash.digest();return b(this._alg).update(this._opad).update(c).digest(a)};h.exports=function(a,b){return new d(a,b)}}).call(this,e("buffer").Buffer)},{buffer:"/stanza.io/node_modules/buffer/index.js","create-hash/browser":"/stanza.io/node_modules/create-hash/browser.js",inherits:"/stanza.io/node_modules/inherits/inherits_browser.js",stream:"/stanza.io/node_modules/stream-browserify/index.js"}],"/stanza.io/node_modules/events/events.js":[function(e,
h,f){function a(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0}function d(a){return"function"===typeof a}function b(a){return"object"===typeof a&&null!==a}h.exports=a;a.EventEmitter=a;a.prototype._events=void 0;a.prototype._maxListeners=void 0;a.defaultMaxListeners=10;a.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||isNaN(a))throw TypeError("n must be a positive number");this._maxListeners=a;return this};a.prototype.emit=function(a){var g,l,m,k;this._events||
(this._events={});if("error"===a&&(!this._events.error||b(this._events.error)&&!this._events.error.length)){g=arguments[1];if(g instanceof Error)throw g;throw TypeError('Uncaught, unspecified "error" event.');}l=this._events[a];if(void 0===l)return!1;if(d(l))switch(arguments.length){case 1:l.call(this);break;case 2:l.call(this,arguments[1]);break;case 3:l.call(this,arguments[1],arguments[2]);break;default:g=arguments.length;m=Array(g-1);for(k=1;k<g;k++)m[k-1]=arguments[k];l.apply(this,m)}else if(b(l)){g=
arguments.length;m=Array(g-1);for(k=1;k<g;k++)m[k-1]=arguments[k];l=l.slice();g=l.length;for(k=0;k<g;k++)l[k].apply(this,m)}return!0};a.prototype.addListener=function(c,g){var l;if(!d(g))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",c,d(g.listener)?g.listener:g);this._events[c]?b(this._events[c])?this._events[c].push(g):this._events[c]=[this._events[c],g]:this._events[c]=g;b(this._events[c])&&!this._events[c].warned&&
(l=void 0!==this._maxListeners?this._maxListeners:a.defaultMaxListeners)&&0<l&&this._events[c].length>l&&(this._events[c].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[c].length),"function"===typeof console.trace&&console.trace());return this};a.prototype.on=a.prototype.addListener;a.prototype.once=function(a,b){function l(){this.removeListener(a,l);m||(m=!0,b.apply(this,arguments))}
if(!d(b))throw TypeError("listener must be a function");var m=!1;l.listener=b;this.on(a,l);return this};a.prototype.removeListener=function(a,g){var l,m,k;if(!d(g))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;l=this._events[a];k=l.length;m=-1;if(l===g||d(l.listener)&&l.listener===g)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,g);else if(b(l)){for(;0<k--;)if(l[k]===g||l[k].listener&&l[k].listener===g){m=k;break}if(0>
m)return this;1===l.length?(l.length=0,delete this._events[a]):l.splice(m,1);this._events.removeListener&&this.emit("removeListener",a,g)}return this};a.prototype.removeAllListeners=function(a){var b;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);this.removeAllListeners("removeListener");this._events=
{};return this}b=this._events[a];if(d(b))this.removeListener(a,b);else for(;b.length;)this.removeListener(a,b[b.length-1]);delete this._events[a];return this};a.prototype.listeners=function(a){return this._events&&this._events[a]?d(this._events[a])?[this._events[a]]:this._events[a].slice():[]};a.listenerCount=function(a,b){return a._events&&a._events[b]?d(a._events[b])?1:a._events[b].length:0}},{}],"/stanza.io/node_modules/extend-object/extend-object.js":[function(e,h,f){e=[];var a=e.forEach,d=e.slice;
h.exports=function(b){a.call(d.call(arguments,1),function(a){if(a)for(var d in a)b[d]=a[d]});return b}},{}],"/stanza.io/node_modules/filetransfer/filetransfer.js":[function(e,h,f){function a(a){b.call(this);a=a||{};this.config={chunksize:16384,pacing:0};for(var d in a)this.config[d]=a[d];this.channel=this.file=null}function d(){b.call(this);this.receiveBuffer=[];this.received=0;this.metadata={};this.channel=null}var b=e("wildemitter");e=e("util");e.inherits(a,b);a.prototype.send=function(a,b){var d=
this;this.file=a;this.channel=b;var m=function(b){var g=new window.FileReader;g.onload=function(){return function(g){d.channel.send(g.target.result);d.emit("progress",b,a.size,g.target.result);a.size>b+g.target.result.byteLength?window.setTimeout(m,d.config.pacing,b+d.config.chunksize):(d.emit("progress",a.size,a.size,null),d.emit("sentFile"))}}(a);var e=a.slice(b,b+d.config.chunksize);g.readAsArrayBuffer(e)};window.setTimeout(m,0,0)};e.inherits(d,b);d.prototype.receive=function(a,b){var d=this;a&&
(this.metadata=a);this.channel=b;b.binaryType="arraybuffer";this.channel.onmessage=function(a){d.received+=a.data.byteLength;d.receiveBuffer.push(a.data);d.emit("progress",d.received,d.metadata.size,a.data);d.received===d.metadata.size?(d.emit("receivedFile",new window.Blob(d.receiveBuffer),d.metadata),d.receiveBuffer=[]):d.received>d.metadata.size&&(console.error("received more than expected, discarding..."),d.receiveBuffer=[])}};h.exports={};h.exports.support="undefined"!==typeof window&&window&&
window.File&&window.FileReader&&window.Blob;h.exports.Sender=a;h.exports.Receiver=d},{util:"/stanza.io/node_modules/util/util.js",wildemitter:"/stanza.io/node_modules/wildemitter/wildemitter.js"}],"/stanza.io/node_modules/filetransfer/hashed.js":[function(e,h,f){function a(a){b.call(this);var d=this;this.base=new g.Sender(a);var k=a||{};k.hash||(k.hash="sha-1");this.hash=c.createHash(k.hash);this.base.on("progress",function(a,b,c){d.emit("progress",a,b,c);c&&d.hash.update(new Uint8Array(c))});this.base.on("sentFile",
function(){d.emit("sentFile",{hash:d.hash.digest("hex"),algo:k.hash})})}function d(a){b.call(this);var d=this;this.base=new g.Receiver(a);a=a||{};a.hash||(a.hash="sha-1");this.hash=c.createHash(a.hash);this.base.on("progress",function(a,b,c){d.emit("progress",a,b,c);c&&d.hash.update(new Uint8Array(c))});this.base.on("receivedFile",function(a,b){b.actualhash=d.hash.digest("hex");d.emit("receivedFile",a,b)})}var b=e("wildemitter");f=e("util");var c=e("iana-hashes"),g=e("./filetransfer");f.inherits(a,
b);a.prototype.send=function(){this.base.send.apply(this.base,arguments)};f.inherits(d,b);d.prototype.receive=function(){this.base.receive.apply(this.base,arguments)};Object.defineProperty(d.prototype,"metadata",{get:function(){return this.base.metadata},set:function(a){this.base.metadata=a}});h.exports={};h.exports.support=g.support;h.exports.Sender=a;h.exports.Receiver=d},{"./filetransfer":"/stanza.io/node_modules/filetransfer/filetransfer.js","iana-hashes":"/stanza.io/node_modules/iana-hashes/index.js",
util:"/stanza.io/node_modules/util/util.js",wildemitter:"/stanza.io/node_modules/wildemitter/wildemitter.js"}],"/stanza.io/node_modules/for-each/index.js":[function(e,h,f){var a=e("is-function");h.exports=function(c,g,l){if(!a(g))throw new TypeError("iterator must be a function");3>arguments.length&&(l=this);if("[object Array]"===d.call(c))for(var m=l,k=0,e=c.length;k<e;k++)b.call(c,k)&&g.call(m,c[k],k,c);else if("string"===typeof c)for(m=l,k=0,e=c.length;k<e;k++)g.call(m,c.charAt(k),k,c);else for(k in m=
l,c)b.call(c,k)&&g.call(m,c[k],k,c)};var d=Object.prototype.toString,b=Object.prototype.hasOwnProperty},{"is-function":"/stanza.io/node_modules/is-function/index.js"}],"/stanza.io/node_modules/global/window.js":[function(e,h,f){e="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};h.exports="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{}},{}],"/stanza.io/node_modules/hostmeta/index.js":[function(e,h,
f){var a=e("async"),d=e("request"),b=e("jxt").createRegistry();b.use(e("./lib/xrd"));h.exports=function(c,g){"string"===typeof c&&(c={host:c});var l={ssl:!0,json:!0,xrd:!0},m;for(m in c)l[m]=c[m];var k=l.ssl?"https://":"http://";a.parallel([function(a){d(k+l.host+"/.well-known/host-meta.json",function(b,c,d){if(b)return a(null);var k;try{k=JSON.parse(d)}catch(g){k=null}return a(k)})},function(a){d(k+l.host+"/.well-known/host-meta",function(c,d,k){if(c)return a(null);c=b.parse(k);return a(c.toJSON())})}],
function(a){a?g(null,a):g("no-host-meta")})}},{"./lib/xrd":"/stanza.io/node_modules/hostmeta/lib/xrd.js",async:"/stanza.io/node_modules/async/lib/async.js",jxt:"/stanza.io/node_modules/jxt/index.js",request:"/stanza.io/node_modules/xhr/index.js"}],"/stanza.io/node_modules/hostmeta/lib/xrd.js":[function(e,h,f){var a=e("jxt");h.exports=function(d){var b={get:function(){for(var b={},c=a.find(this.xml,"http://docs.oasis-open.org/ns/xri/xrd-1.0","Property"),d=0,k=c.length;d<k;d++){var e=c[d],f=a.getAttribute(e,
"type");b[f]=e.textContent}return b}},c=d.define({name:"xrd",namespace:"http://docs.oasis-open.org/ns/xri/xrd-1.0",element:"XRD",fields:{subject:a.subText("http://docs.oasis-open.org/ns/xri/xrd-1.0","Subject"),expires:a.dateSub("http://docs.oasis-open.org/ns/xri/xrd-1.0","Expires"),aliases:a.multiSubText("http://docs.oasis-open.org/ns/xri/xrd-1.0","Alias"),properties:b}}),b=d.define({name:"_xrdlink",namespace:"http://docs.oasis-open.org/ns/xri/xrd-1.0",element:"Link",fields:{rel:a.attribute("rel"),
href:a.attribute("href"),type:a.attribute("type"),template:a.attribute("template"),titles:a.subLangText("http://docs.oasis-open.org/ns/xri/xrd-1.0","Title","default"),properties:b}});d.extend(c,b,"links");return c}},{jxt:"/stanza.io/node_modules/jxt/index.js"}],"/stanza.io/node_modules/iana-hashes/index.js":[function(e,h,f){var a=e("create-hash"),d=e("create-hmac"),b=e("./lib/get-hashes"),c={md2:"md2",md5:"md5","sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512"},
g=Object.keys(c);f.getHashes=function(){for(var a=[],d=b(),k=0,e=g.length;k<e;k++)0<=d.indexOf(c[g[k]])&&a.push(g[k]);return a};f.createHash=function(b){b=b.toLowerCase();c[b]&&(b=c[b]);return a(b)};f.createHmac=function(a,b){a=a.toLowerCase();c[a]&&(a=c[a]);return d(a,b)}},{"./lib/get-hashes":"/stanza.io/node_modules/iana-hashes/lib/get-hashes-browser.js","create-hash":"/stanza.io/node_modules/create-hash/browser.js","create-hmac":"/stanza.io/node_modules/create-hmac/browser.js"}],"/stanza.io/node_modules/iana-hashes/lib/get-hashes-browser.js":[function(e,
h,f){h.exports=function(){return"sha1 sha224 sha256 sha384 sha512 md5 rmd160".split(" ")}},{}],"/stanza.io/node_modules/ieee754/index.js":[function(e,h,f){f.read=function(a,d,b,c,g){var l;l=8*g-c-1;var m=(1<<l)-1,k=m>>1,e=-7;g=b?g-1:0;var f=b?-1:1,h=a[d+g];g+=f;b=h&(1<<-e)-1;h>>=-e;for(e+=l;0<e;b=256*b+a[d+g],g+=f,e-=8);l=b&(1<<-e)-1;b>>=-e;for(e+=c;0<e;l=256*l+a[d+g],g+=f,e-=8);if(0===b)b=1-k;else{if(b===m)return l?NaN:Infinity*(h?-1:1);l+=Math.pow(2,c);b-=k}return(h?-1:1)*l*Math.pow(2,b-c)};f.write=
function(a,d,b,c,g,l){var m,k=8*l-g-1,e=(1<<k)-1,f=e>>1,h=23===g?Math.pow(2,-24)-Math.pow(2,-77):0;l=c?0:l-1;var u=c?1:-1,t=0>d||0===d&&0>1/d?1:0;d=Math.abs(d);isNaN(d)||Infinity===d?(d=isNaN(d)?1:0,c=e):(c=Math.floor(Math.log(d)/Math.LN2),1>d*(m=Math.pow(2,-c))&&(c--,m*=2),d=1<=c+f?d+h/m:d+h*Math.pow(2,1-f),2<=d*m&&(c++,m/=2),c+f>=e?(d=0,c=e):1<=c+f?(d=(d*m-1)*Math.pow(2,g),c+=f):(d=d*Math.pow(2,f-1)*Math.pow(2,g),c=0));for(;8<=g;a[b+l]=d&255,l+=u,d/=256,g-=8);c=c<<g|d;for(k+=g;0<k;a[b+l]=c&255,
l+=u,c/=256,k-=8);a[b+l-u]|=128*t}},{}],"/stanza.io/node_modules/inherits/inherits_browser.js":[function(e,h,f){h.exports="function"===typeof Object.create?function(a,d){a.super_=d;a.prototype=Object.create(d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:function(a,d){a.super_=d;var b=function(){};b.prototype=d.prototype;a.prototype=new b;a.prototype.constructor=a}},{}],"/stanza.io/node_modules/intersect/index.js":[function(e,h,f){function a(a,b){for(var c=[],g=0;g<
a.length;g++){var l;a:{for(l=0;l<b.length;l++)if(b[l]===a[g])break a;l=-1}-1<l&&c.push(a[g])}return c}h.exports=a;a.big=function(a,b){for(var c=[],g={},l=0;l<b.length;l++)g[b[l]]=!0;for(l=0;l<a.length;l++)g[a[l]]&&c.push(a[l]);return c}},{}],"/stanza.io/node_modules/is-buffer/index.js":[function(e,h,f){h.exports=function(a){return!(null==a||!(a._isBuffer||a.constructor&&"function"===typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)))}},{}],"/stanza.io/node_modules/is-function/index.js":[function(e,
h,f){h.exports=function(d){var b=a.call(d);return"[object Function]"===b||"function"===typeof d&&"[object RegExp]"!==b||"undefined"!==typeof window&&(d===window.setTimeout||d===window.alert||d===window.confirm||d===window.prompt)};var a=Object.prototype.toString},{}],"/stanza.io/node_modules/jingle-filetransfer-session/index.js":[function(e,h,f){function a(a){b.call(this,a);this.pc=new c({iceServers:a.iceServers||[],useJingle:!0},a.constraints||{});this.pc.on("ice",this.onIceCandidate.bind(this));
this.pc.on("iceConnectionStateChange",this.onIceStateChange.bind(this));this.pc.on("addChannel",this.onChannelAdded.bind(this));this.receiver=this.sender=null}f=e("util");var d=e("extend-object"),b=e("jingle-session"),c=e("rtcpeerconnection"),g=e("filetransfer/hashed");f.inherits(a,b);a.prototype=d(a.prototype,{start:function(a){var b=this;this.state="pending";this.pc.isInitiator=!0;this.sender=new g.Sender;this.sender.on("progress",function(a,c){b._log("info","Send progress "+a+"/"+c)});this.sender.on("sentFile",
function(a){b._log("info","Sent file",a.name);var c=b.pc.localDescription.contents[0];delete c.transport;c.application={applicationType:"filetransfer",offer:{hash:{algo:a.algo,value:a.hash}}};b.send("description-info",{contents:[c]});b.emit("sentFile",b,a)});var c=this.pc.createDataChannel("filetransfer");c.onopen=function(){b.sender.send(a,c)};this.pc.offer({mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}},function(c,d){if(c)return b._log("error","Could not create WebRTC offer",c),b.end("failed-application",
!0);d.jingle.contents[0].application={applicationType:"filetransfer",offer:{date:a.lastModifiedDate,name:a.name,size:a.size,hash:{algo:"sha-1",value:""}}};b.send("session-initiate",d.jingle)})},accept:function(){var a=this;this._log("info","Accepted incoming session");this.state="active";this.pc.answer(function(b,c){if(b)return a._log("error","Could not create WebRTC answer",b),a.end("failed-application");a.send("session-accept",c.jingle)})},end:function(a,c){this.pc.close();b.prototype.end.call(this,
a,c)},maybeReceivedFile:function(){this.receiver.metadata.hash.value&&(this.receiver.metadata.hash.value===this.receiver.metadata.actualhash?(this._log("info","File hash matches"),this.emit("receivedFile",this,this.receivedFile,this.receiver.metadata),this.end("success")):(this._log("error","File hash does not match"),this.end("media-error")))},onIceCandidate:function(a){this._log("info","Discovered new ICE candidate",a.jingle);this.send("transport-info",a.jingle)},onIceStateChange:function(){switch(this.pc.iceConnectionState){case "checking":this.connectionState=
"connecting";break;case "completed":case "connected":this.connectionState="connected";break;case "disconnected":this.connectionState="stable"===this.pc.signalingState?"interrupted":"disconnected";break;case "failed":this.connectionState="failed";this.end("failed-transport");break;case "closed":this.connectionState="disconnected"}},onChannelAdded:function(a){this.receiver.receive(null,a)},onSessionInitiate:function(a,b){var c=this;this._log("info","Initiating incoming session");this.state="pending";
this.pc.isInitiator=!1;var d=a.contents[0].application;this.receiver=new g.Receiver({hash:d.offer.hash.algo});this.receiver.on("progress",function(a,b){c._log("info","Receive progress "+a+"/"+b)});this.receiver.on("receivedFile",function(a){c.receivedFile=a;c.maybeReceivedFile()});this.receiver.metadata=d.offer;a.contents[0].application={applicationType:"datachannel"};this.pc.handleOffer({type:"offer",jingle:a},function(a){if(a)return c._log("error","Could not create WebRTC answer"),b({condition:"general-error"});
b()})},onSessionAccept:function(a,b){var c=this;this.state="active";a.contents[0].application={applicationType:"datachannel"};this.pc.handleAnswer({type:"answer",jingle:a},function(a){if(a)return c._log("error","Could not process WebRTC answer"),b({condition:"general-error"});c.emit("accepted",c);b()})},onSessionTerminate:function(a,c){this._log("info","Terminating session");this.pc.close();b.prototype.end.call(this,a.reason,!0);c()},onDescriptionInfo:function(a,b){this.receiver.metadata.hash=a.contents[0].application.offer.hash;
this.receiver.metadata.actualhash&&this.maybeReceivedFile();b()},onTransportInfo:function(a,b){this.pc.processIce(a,function(){b()})}});h.exports=a},{"extend-object":"/stanza.io/node_modules/extend-object/extend-object.js","filetransfer/hashed":"/stanza.io/node_modules/filetransfer/hashed.js","jingle-session":"/stanza.io/node_modules/jingle-session/index.js",rtcpeerconnection:"/stanza.io/node_modules/rtcpeerconnection/rtcpeerconnection.js",util:"/stanza.io/node_modules/util/util.js"}],"/stanza.io/node_modules/jingle-media-session/index.js":[function(e,
h,f){function a(a,b){"rtp"===a.application.applicationType&&(delete a.transport,delete a.application.payloads,delete a.application.headerExtensions,a.application.mux=!1,a.application.sources&&(a.application.sources=a.application.sources.filter(function(a){return b.id===a.parameters[1].value.split(" ")[0]})),a.application.sourceGroups&&(a.application.sourceGroups=a.application.sourceGroups.filter(function(b){for(var c=!1,d=0;d<a.application.sources.length;d++)if(a.application.sources[d].ssrc===b.sources[0]){c=
!0;break}return c})))}function d(a){(a.application.sources||[]).forEach(function(a){a.parameters=a.parameters.filter(function(a){return!("mslabel"===a.key||"label"===a.key)})})}function b(a){g.call(this,a);this.pc=new l({iceServers:a.iceServers||[],useJingle:!0},a.constraints||{});this.pc.on("ice",this.onIceCandidate.bind(this,a));this.pc.on("endOfCandidates",this.onIceEndOfCandidates.bind(this,a));this.pc.on("iceConnectionStateChange",this.onIceStateChange.bind(this));this.pc.on("addStream",this.onAddStream.bind(this));
this.pc.on("removeStream",this.onRemoveStream.bind(this));this.pc.on("addChannel",this.onAddChannel.bind(this));a.stream&&this.addStream(a.stream);this._ringing=!1}f=e("util");var c=e("extend-object"),g=e("jingle-session"),l=e("rtcpeerconnection");f.inherits(b,g);Object.defineProperties(b.prototype,{ringing:{get:function(){return this._ringing},set:function(a){a!==this._ringing&&(this._ringing=a,this.emit("change:ringing",a))}},streams:{get:function(){return"closed"!==this.pc.signalingState?this.pc.getRemoteStreams():
[]}}});b.prototype=c(b.prototype,{start:function(a,b){var c=this;this.state="pending";b=b||function(){};this.pc.isInitiator=!0;this.pc.offer(a,function(g,l){if(g)return c._log("error","Could not create WebRTC offer",g),c.end("failed-application",!0);a&&a.mandatory&&l.jingle.contents.forEach(function(b){var c=b.application.media;b.description&&"rtp"===b.application.applicationType&&(a.mandatory.OfferToReceiveAudio||"audio"!==c||(b.senders="initiator"),a.mandatory.OfferToReceiveVideo||"video"!==c||
(b.senders="initiator"))});l.jingle.contents.forEach(d);c.send("session-initiate",l.jingle);b()})},accept:function(a,b){var c=this;1===arguments.length&&"function"===typeof a&&(b=a,a={});b=b||function(){};a=a||{};var g=a.constraints||{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}};this._log("info","Accepted incoming session");this.state="active";this.pc.answer(g,function(a,g){if(a)return c._log("error","Could not create WebRTC answer",a),c.end("failed-application");g.jingle.contents.forEach(d);
c.send("session-accept",g.jingle);b()})},end:function(a,b){var c=this;this.streams.forEach(function(a){c.onRemoveStream({stream:a})});this.pc.close();g.prototype.end.call(this,a,b)},ring:function(){this._log("info","Ringing on incoming session");this.ringing=!0;this.send("session-info",{ringing:!0})},mute:function(a,b){this._log("info","Muting",b);this.send("session-info",{mute:{creator:a,name:b}})},unmute:function(a,b){this._log("info","Unmuting",b);this.send("session-info",{unmute:{creator:a,name:b}})},
hold:function(){this._log("info","Placing on hold");this.send("session-info",{hold:!0})},resume:function(){this._log("info","Resuming from hold");this.send("session-info",{active:!0})},addStream:function(b,c,d){var g=this;d=d||function(){};this.pc.addStream(b);c&&this.pc.handleOffer({type:"offer",jingle:this.pc.remoteDescription},function(c){if(c)return g._log("error","Could not create offer for adding new stream"),d(c);g.pc.answer(function(c,k){if(c)return g._log("error","Could not create answer for adding new stream"),
d(c);k.jingle.contents.forEach(function(c){a(c,b)});k.jingle.contents=k.jingle.contents.filter(function(a){return"rtp"===a.application.applicationType&&a.application.sources&&a.application.sources.length});delete k.jingle.groups;g.send("source-add",k.jingle);d()})})},addStream2:function(a,b){this.addStream(a,!0,b)},removeStream:function(b,c,d){var g=this;d=d||function(){};c?(c=this.pc.localDescription,c.contents.forEach(function(c){a(c,b)}),c.contents=c.contents.filter(function(a){return"rtp"===a.application.applicationType&&
a.application.sources&&a.application.sources.length}),delete c.groups,this.send("source-remove",c),this.pc.removeStream(b),this.pc.handleOffer({type:"offer",jingle:this.pc.remoteDescription},function(a){if(a)return g._log("error","Could not process offer for removing stream"),d(a);g.pc.answer(function(a){if(a)return g._log("error","Could not process answer for removing stream"),d(a);d()})})):this.pc.removeStream(b)},removeStream2:function(a,b){this.removeStream(a,!0,b)},switchStream:function(a,b,
c){var d=this;c=c||function(){};var g=this.pc.localDescription;g.contents.forEach(function(a){delete a.transport;delete a.application.payloads});this.pc.removeStream(a);this.send("source-remove",g);this.pc.addStream(b);this.pc.handleOffer({type:"offer",jingle:this.pc.remoteDescription},function(a){if(a)return d._log("error","Could not process offer for switching streams"),c(a);d.pc.answer(function(a,b){if(a)return d._log("error","Could not process answer for switching streams"),c(a);b.jingle.contents.forEach(function(a){delete a.transport;
delete a.application.payloads});d.send("source-add",b.jingle);c()})})},onIceCandidate:function(a,b){this._log("info","Discovered new ICE candidate",b.jingle);this.send("transport-info",b.jingle);a.signalEndOfCandidates&&(this.lastCandidate=b)},onIceEndOfCandidates:function(a){this._log("info","ICE end of candidates");a.signalEndOfCandidates&&(a=this.lastCandidate.jingle,a.contents[0].transport={transportType:a.contents[0].transport.transportType,gatheringComplete:!0},this.lastCandidate=null,this.send("transport-info",
a))},onIceStateChange:function(){switch(this.pc.iceConnectionState){case "checking":this.connectionState="connecting";break;case "completed":case "connected":this.connectionState="connected";break;case "disconnected":this.connectionState="stable"===this.pc.signalingState?"interrupted":"disconnected";break;case "failed":this.connectionState="failed";this.end("failed-transport");break;case "closed":this.connectionState="disconnected"}},onAddStream:function(a){this._log("info","Stream added");this.emit("peerStreamAdded",
this,a.stream)},onRemoveStream:function(a){this._log("info","Stream removed");this.emit("peerStreamRemoved",this,a.stream)},onSessionInitiate:function(a,b){var c=this;this._log("info","Initiating incoming session");this.state="pending";this.pc.isInitiator=!1;this.pc.handleOffer({type:"offer",jingle:a},function(a){if(a)return c._log("error","Could not create WebRTC answer"),b({condition:"general-error"});b()})},onSessionAccept:function(a,b){var c=this;this.state="active";this.pc.handleAnswer({type:"answer",
jingle:a},function(a){if(a)return c._log("error","Could not process WebRTC answer"),b({condition:"general-error"});c.emit("accepted",c);b()})},onSessionTerminate:function(a,b){var c=this;this._log("info","Terminating session");this.streams.forEach(function(a){c.onRemoveStream({stream:a})});this.pc.close();g.prototype.end.call(this,a.reason,!0);b()},onSessionInfo:function(a,b){if(a.ringing)return this._log("info","Outgoing session is ringing"),this.ringing=!0,this.emit("ringing",this),b();if(a.hold)return this._log("info",
"On hold"),this.emit("hold",this),b();if(a.active)return this._log("info","Resuming from hold"),this.emit("resumed",this),b();if(a.mute)return this._log("info","Muting",a.mute),this.emit("mute",this,a.mute),b();if(a.unmute)return this._log("info","Unmuting",a.unmute),this.emit("unmute",this,a.unmute),b();b()},onTransportInfo:function(a,b){this.pc.processIce(a,function(){b()})},onSourceAdd:function(a,b){var c=this;this._log("info","Adding new stream source");var d=this.pc.remoteDescription;this.pc.remoteDescription.contents.forEach(function(b,
c){var g=b.application,k=g.sources||[],l=g.sourceGroups||[];a.contents.forEach(function(a){b.name===a.name&&(a=a.application,k=k.concat(a.sources||[]),d.contents[c].application.sources=JSON.parse(JSON.stringify(k)),l=l.concat(a.sourceGroups||[]),d.contents[c].application.sourceGroups=JSON.parse(JSON.stringify(l)))})});this.pc.handleOffer({type:"offer",jingle:d},function(a){if(a)return c._log("error","Error adding new stream source"),b({condition:"general-error"});c.pc.answer(function(a){if(a)return c._log("error",
"Error adding new stream source"),b({condition:"general-error"});b()})})},onSourceRemove:function(a,b){var c=this;this._log("info","Removing stream source");var d=this.pc.remoteDescription;this.pc.remoteDescription.contents.forEach(function(b,c){var g=b.application,k=g.sources||[],l=g.sourceGroups||[];a.contents.forEach(function(a){if(b.name===a.name){a=a.application;var g=a.sources||[];a=a.sourceGroups||[];var m,e,f;for(e=0;e<g.length;e++){m=-1;for(f=0;f<k.length;f++)if(g[e].ssrc===k[f].ssrc){m=
f;break}-1<m&&(k.splice(m,1),d.contents[c].application.sources=JSON.parse(JSON.stringify(k)))}for(e=0;e<a.length;e++){m=-1;for(f=0;f<l.length;f++)if(a[e].semantics===l[f].semantics&&a[e].sources.length===l[f].sources.length){for(var p=!0,g=0;g<a[e].sources.length;g++)if(a[e].sources[g]!==l[f].sources[g]){p=!1;break}if(p){m=f;break}}-1<m&&(l.splice(m,1),d.contents[c].application.sourceGroups=JSON.parse(JSON.stringify(l)))}}})});this.pc.handleOffer({type:"offer",jingle:d},function(a){if(a)return c._log("error",
"Error removing stream source"),b({condition:"general-error"});c.pc.answer(function(a){if(a)return c._log("error","Error removing stream source"),b({condition:"general-error"});b()})})},onAddChannel:function(a){this.emit("addChannel",a)}});h.exports=b},{"extend-object":"/stanza.io/node_modules/extend-object/extend-object.js","jingle-session":"/stanza.io/node_modules/jingle-session/index.js",rtcpeerconnection:"/stanza.io/node_modules/rtcpeerconnection/rtcpeerconnection.js",util:"/stanza.io/node_modules/util/util.js"}],
"/stanza.io/node_modules/jingle-session/index.js":[function(e,h,f){function a(a){g.call(this);var c=this;this.sid=a.sid||d.v4();this.peer=a.peer;this.peerID=a.peerID||this.peer.full||this.peer;this.isInitiator=a.initiator||!1;this.parent=a.parent;this.connectionState=this.state="starting";this.pendingApplicationTypes=a.applicationTypes||[];this.pendingAction=!1;this.processingQueue=b.queue(function(a,b){if(c.ended)return b();var d=a.action,g=a.changes,m=a.cb;c._log("debug",d);if(!l[d])return c._log("error",
"Invalid action: "+d),m({condition:"bad-request"}),b();c[l[d]](g,function(a,c){m(a,c);return b()})})}f=e("util");var d=e("uuid"),b=e("async"),c=e("extend-object"),g=e("wildemitter"),l={"content-accept":"onContentAccept","content-add":"onContentAdd","content-modify":"onConentModify","content-reject":"onContentReject","content-remove":"onContentRemove","description-info":"onDescriptionInfo","security-info":"onSecurityInfo","session-accept":"onSessionAccept","session-info":"onSessionInfo","session-initiate":"onSessionInitiate",
"session-terminate":"onSessionTerminate","transport-accept":"onTransportAccept","transport-info":"onTransportInfo","transport-reject":"onTransportReject","transport-replace":"onTransportReplace","source-add":"onSourceAdd","source-remove":"onSourceRemove"};f.inherits(a,g);Object.keys(l).forEach(function(b){a.prototype[l[b]]=function(a,c){this._log("error","Unsupported action: "+b);c()}});Object.defineProperties(a.prototype,{state:{get:function(){return this._sessionState},set:function(a){if(a!==this._sessionState){var b=
this._sessionState;this._log("info","Changing session state to: "+a);this._sessionState=a;this.emit("change:sessionState",this,a);this.emit("change:"+a,this,!0);b&&this.emit("change:"+b,this,!1)}}},connectionState:{get:function(){return this._connectionState},set:function(a){if(a!==this._connectionState){var b=this._connectionState;this._log("info","Changing connection state to: "+a);this._connectionState=a;this.emit("change:connectionState",this,a);this.emit("change:"+a,this,!0);b&&this.emit("change:"+
b,this,!1)}}},starting:{get:function(){return"starting"===this._sessionState}},pending:{get:function(){return"pending"===this._sessionState}},active:{get:function(){return"active"===this._sessionState}},ended:{get:function(){return"ended"===this._sessionState}},connected:{get:function(){return"connected"===this._connectionState}},connecting:{get:function(){return"connecting"===this._connectionState}},disconnected:{get:function(){return"disconnected"===this._connectionState}},interrupted:{get:function(){return"interrupted"===
this._connectionState}}});a.prototype=c(a.prototype,{_log:function(a,b){b=this.sid+": "+b;this.emit("log:"+a,b)},send:function(a,b){b=b||{};b.sid=this.sid;b.action=a;this.pendingAction={"session-inititate":!0,"session-accept":!0,"content-add":!0,"content-remove":!0,"content-reject":!0,"content-accept":!0,"content-modify":!0,"transport-replace":!0,"transport-reject":!0,"transport-accept":!0,"source-add":!0,"source-remove":!0}[a]?a:!1;this.emit("send",{to:this.peer,type:"set",jingle:b})},process:function(a,
b,c){this.processingQueue.push({action:a,changes:b,cb:c})},start:function(){this._log("error","Can not start base sessions");this.end("unsupported-applications",!0)},accept:function(){this._log("error","Can not accept base sessions");this.end("unsupported-applications")},cancel:function(){this.end("cancel")},decline:function(){this.end("decline")},end:function(a,b){this.state="ended";this.processingQueue.kill();a||(a="success");"string"===typeof a&&(a={condition:a});b||this.send("session-terminate",
{reason:a});this.emit("terminated",this,a)},onSessionTerminate:function(a,b){this.end(a.reason,!0);b()},onSessionInfo:function(a,b){var c={sid:!0,action:!0,initiator:!0,responder:!0},d=!1;Object.keys(a).forEach(function(a){c[a]||(d=!0)});d?b({type:"modify",condition:"feature-not-implemented",jingleCondition:"unsupported-info"}):b()},onDescriptionInfo:function(a,b){b({type:"modify",condition:"feature-not-implemented",jingleCondition:"unsupported-info"})},onTransportInfo:function(a,b){b({type:"modify",
condition:"feature-not-implemented",jingleCondition:"unsupported-info"})},onContentAdd:function(a,b){b();this.send("content-reject",{reason:{condition:"failed-application",text:"content-add is not supported"}})},onTransportReplace:function(a,b){b();this.send("transport-reject",{reason:{condition:"failed-application",text:"transport-replace is not supported"}})}});h.exports=a},{async:"/stanza.io/node_modules/async/lib/async.js","extend-object":"/stanza.io/node_modules/extend-object/extend-object.js",
util:"/stanza.io/node_modules/util/util.js",uuid:"/stanza.io/node_modules/uuid/uuid.js",wildemitter:"/stanza.io/node_modules/wildemitter/wildemitter.js"}],"/stanza.io/node_modules/jingle/index.js":[function(e,h,f){function a(a){b.call(this);a=a||{};this.jid=a.jid;this.selfID=a.selfID||this.jid&&this.jid.full||this.jid||"";this.sessions={};this.peers={};this.prepareSession=a.prepareSession||function(a){if(0<=a.applicationTypes.indexOf("rtp"))return new l(a);if(0<=a.applicationTypes.indexOf("filetransfer"))return new m(a)};
this.performTieBreak=a.performTieBreak||function(a,b){var c=b.jingle.contents.map(function(a){if(a.application)return a.application.applicationType});return 0<d(a.pendingApplicationTypes,c).length};this.screenSharingSupport=c.screenSharing;this.capabilities=["urn:xmpp:jingle:1"];c.support&&(this.capabilities="urn:xmpp:jingle:1 urn:xmpp:jingle:apps:rtp:1 urn:xmpp:jingle:apps:rtp:audio urn:xmpp:jingle:apps:rtp:video urn:xmpp:jingle:apps:rtp:rtcb-fb:0 urn:xmpp:jingle:apps:rtp:rtp-hdrext:0 urn:xmpp:jingle:apps:rtp:ssma:0 urn:xmpp:jingle:apps:dtls:0 urn:xmpp:jingle:apps:grouping:0 urn:xmpp:jingle:apps:file-transfer:3 urn:xmpp:jingle:transports:ice-udp:1 urn:xmpp:jingle:transports.dtls-sctp:1 urn:ietf:rfc:3264 urn:ietf:rfc:5576 urn:ietf:rfc:5888".split(" "));
this.config={debug:!1,peerConnectionConfig:{iceServers:a.iceServers||[{url:"stun:stun.l.google.com:19302"}]},peerConnectionConstraints:{optional:[{DtlsSrtpKeyAgreement:!0},{RtpDataChannels:!1}]},media:{audio:!0,video:!0}};for(var g in a)this.config[g]=a[g];this.iceServers=this.config.peerConnectionConfig.iceServers}f=e("util");var d=e("intersect"),b=e("wildemitter"),c=e("webrtcsupport"),g=e("jingle-session"),l=e("jingle-media-session"),m=e("jingle-filetransfer-session");f.inherits(a,b);a.prototype.addICEServer=
function(a){"string"===typeof a&&(a={url:a});this.iceServers.push(a)};a.prototype.addSession=function(a){var b=this,c=a.sid,d=a.peerID;this.sessions[c]=a;this.peers[d]||(this.peers[d]=[]);this.peers[d].push(a);a.on("terminated",function(){var g=b.peers[d]||[];g.length&&g.splice(g.indexOf(a),1);delete b.sessions[c]});a.on("*",function(c,d,g,m){if("send"===c){var l=d.jingle&&d.jingle.action;a.isInitiator&&"session-initiate"===l&&b.emit("outgoing",a)}!b.config.debug||"log:debug"!==c&&"log:error"!==c||
console.log("Jingle:",d,g,m);0!==c.indexOf("change")&&b.emit(c,d,g,m)});this.emit("createdSession",a);return a};a.prototype.createMediaSession=function(a,b,c){a=new l({sid:b,peer:a,initiator:!0,stream:c,parent:this,iceServers:this.iceServers,constraints:this.config.peerConnectionConstraints});this.addSession(a);return a};a.prototype.createFileTransferSession=function(a,b){var c=new m({sid:b,peer:a,initiator:!0,parent:this});this.addSession(c);return c};a.prototype.endPeerSessions=function(a,b,c){a=
a.full||a;var d=this.peers[a]||[];delete this.peers[a];d.forEach(function(a){a.end(b||"gone",c)})};a.prototype.endAllSessions=function(a,b){var c=this;Object.keys(this.peers).forEach(function(d){c.endPeerSessions(d,a,b)})};a.prototype._createIncomingSession=function(a,b){var c;this.prepareSession&&(c=this.prepareSession(a,b));c||(c=new g(a));this.addSession(c);return c};a.prototype._sendError=function(a,b,c){c.type||(c.type="cancel");this.emit("send",{to:a,id:b,type:"error",error:c})};a.prototype._log=
function(a,b){this.emit("log:"+a,b)};a.prototype.process=function(a){var b=this,c=a.jingle?a.jingle.sid:null,d=this.sessions[c]||null,g=a.id,m=a.from.full||a.from;if("error"===a.type){c=a.error&&"tie-break"===a.error.jingleCondition;if(d&&d.pending&&c)return d.end("alternative-session",!0);d&&(d.pendingAction=!1);return this.emit("error",a)}if("result"===a.type)d&&(d.pendingAction=!1);else{var l=a.jingle.action,e=a.jingle.contents||[],f=e.map(function(a){if(a.application)return a.application.applicationType}),
h=e.map(function(a){if(a.transport)return a.transport.transportType});if("session-initiate"!==l){if(!d)return this._log("error","Unknown session",c),this._sendError(m,g,{condition:"item-not-found",jingleCondition:"unknown-session"});if(d.peerID!==m||d.ended)return this._log("error","Session has ended, or action has wrong sender"),this._sendError(m,g,{condition:"item-not-found",jingleCondition:"unknown-session"});if("session-accept"===l&&!d.pending)return this._log("error","Tried to accept session twice",
c),this._sendError(m,g,{condition:"unexpected-request",jingleCondition:"out-of-order"});if("session-terminate"!==l&&l===d.pendingAction&&(this._log("error","Tie break during pending request"),d.isInitiator))return this._sendError(m,g,{condition:"conflict",jingleCondition:"tie-break"})}else if(d){if(d.peerID!==m)return this._log("error","Duplicate sid from new sender"),this._sendError(m,g,{condition:"service-unavailable"});if(d.pending){if(this.selfID>d.peerID&&this.performTieBreak(d,a))return this._log("error",
"Tie break new session because of duplicate sids"),this._sendError(m,g,{condition:"conflict",jingleCondition:"tie-break"})}else return this._log("error","Someone is doing this wrong"),this._sendError(m,g,{condition:"unexpected-request",jingleCondition:"out-of-order"})}else if(this.peers[m]&&this.peers[m].length)for(var x=0,A=this.peers[m].length;x<A;x++){var D=this.peers[m][x];if(D&&D.pending&&D.sid>c&&this.performTieBreak(D,a))return this._log("info","Tie break session-initiate"),this._sendError(m,
g,{condition:"conflict",jingleCondition:"tie-break"})}if("session-initiate"===l){if(!e.length)return b._sendError(m,g,{condition:"bad-request"});d=this._createIncomingSession({sid:c,peer:a.from,peerID:m,initiator:!1,parent:this,applicationTypes:f,transportTypes:h,iceServers:this.iceServers,constraints:this.config.peerConnectionConstraints},a)}d.process(l,a.jingle,function(c){c?(b._log("error","Could not process request",a,c),b._sendError(m,g,c)):(b.emit("send",{to:m,id:g,type:"result"}),"session-initiate"===
l&&b.emit("incoming",d))})}};h.exports=a},{intersect:"/stanza.io/node_modules/intersect/index.js","jingle-filetransfer-session":"/stanza.io/node_modules/jingle-filetransfer-session/index.js","jingle-media-session":"/stanza.io/node_modules/jingle-media-session/index.js","jingle-session":"/stanza.io/node_modules/jingle-session/index.js",util:"/stanza.io/node_modules/util/util.js",webrtcsupport:"/stanza.io/node_modules/webrtcsupport/index-browser.js",wildemitter:"/stanza.io/node_modules/wildemitter/wildemitter.js"}],
"/stanza.io/node_modules/jxt-xmpp-types/lib/index.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("./shortcuts"),d=a&&a.__esModule?a:{"default":a},b=(e=e("./types"))&&e.__esModule?e:{"default":e};f["default"]=function(a){a.use(b["default"]);a.use(d["default"])};h.exports=f["default"]},{"./shortcuts":"/stanza.io/node_modules/jxt-xmpp-types/lib/shortcuts.js","./types":"/stanza.io/node_modules/jxt-xmpp-types/lib/types.js"}],"/stanza.io/node_modules/jxt-xmpp-types/lib/shortcuts.js":[function(e,
h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants"),d={client:a.Namespace.CLIENT,server:a.Namespace.SERVER,component:a.Namespace.COMPONENT};f["default"]=function(b){b.extendMessage=function(a,b){var d=this;this.withMessage(function(m){d.extend(m,a,b)})};b.extendPresence=function(a,b){var d=this;this.withPresence(function(m){d.extend(m,a,b)})};b.extendIQ=function(a,b){var d=this;this.withIQ(function(m){d.extend(m,a,b)})};b.extendStreamFeatures=function(a){var b=this;this.withStreamFeatures(function(d){b.extend(d,
a)})};b.extendPubsubItem=function(a){var b=this;this.withPubsubItem(function(d){b.extend(d,a)})};b.withIQ=function(b){this.withDefinition("iq",a.Namespace.CLIENT,b);this.withDefinition("iq",a.Namespace.COMPONENT,b)};b.withMessage=function(b){this.withDefinition("message",a.Namespace.CLIENT,b);this.withDefinition("message",a.Namespace.COMPONENT,b)};b.withPresence=function(b){this.withDefinition("presence",a.Namespace.CLIENT,b);this.withDefinition("presence",a.Namespace.COMPONENT,b)};b.withStreamFeatures=
function(b){this.withDefinition("features",a.Namespace.STREAM,b)};b.withStanzaError=function(b){this.withDefinition("error",a.Namespace.CLIENT,b);this.withDefinition("error",a.Namespace.COMPONENT,b)};b.withDataForm=function(b){this.withDefinition("x",a.Namespace.DATAFORM,b)};b.withPubsubItem=function(b){this.withDefinition("item",a.Namespace.PUBSUB,b);this.withDefinition("item",a.Namespace.PUBSUB_EVENT,b)};b.getMessage=function(a){return this.getDefinition("message",d[void 0===a?"client":a])};b.getPresence=
function(a){return this.getDefinition("presence",d[void 0===a?"client":a])};b.getIQ=function(a){return this.getDefinition("iq",d[void 0===a?"client":a])};b.getStreamError=function(){return this.getDefinition("error",a.Namespace.STREAM)};b.getIq=b.getIQ;b.withIq=b.withIQ};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp-types/lib/types.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-jid");
f["default"]=function(d){var b=d.utils;b.jidAttribute=function(c,d){return{get:function(){var l=new a.JID(b.getAttribute(this.xml,c));d&&(l.prepped=!0);return l},set:function(a){b.setAttribute(this.xml,c,(a||"").toString())}}};b.jidSub=function(c,d,l){return{get:function(){var m=new a.JID(b.getSubText(this.xml,c,d));l&&(m.prepped=!0);return m},set:function(a){b.setSubText(this.xml,c,d,(a||"").toString())}}};b.tzoSub=b.field(function(a,d,l,m){var k=-1;a=b.getSubText(a,d,l);if(!a)return m;"-"===a.charAt(0)&&
(k=1,a=a.slice(1));a=a.split(":");m=parseInt(a[0],10);a=parseInt(a[1],10);return(60*m+a)*k},function(a,d,l,m){var k,e="-";"number"===typeof m?(0>m&&(m=-m,e="+"),k=m/60,m%=60,e+=(10>k?"0":"")+k+":"+(10>m?"0":"")+m):e=m;b.setSubText(a,d,l,e)})};h.exports=f["default"]},{"xmpp-jid":"/stanza.io/node_modules/xmpp-jid/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/avatar.js":[function(e,h,f){var a=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(f,"__esModule",{value:!0});
var d=e("xmpp-constants");e=e("lodash.foreach");var b=a(e);f["default"]=function(a){var g=a.utils,l=a.define({name:"avatar",namespace:d.Namespace.AVATAR_METADATA,element:"info",fields:{id:g.attribute("id"),bytes:g.attribute("bytes"),height:g.attribute("height"),width:g.attribute("width"),type:g.attribute("type","image/png"),url:g.attribute("url")}}),m={get:function(){var a=g.find(this.xml,d.Namespace.AVATAR_METADATA,"metadata"),c=[];a.length&&(a=g.find(a[0],d.Namespace.AVATAR_METADATA,"info"),(0,
b["default"])(a,function(a){c.push(new l({},a))}));return c},set:function(a){var c=g.findOrCreate(this.xml,d.Namespace.AVATAR_METADATA,"metadata");g.setAttribute(c,"xmlns",d.Namespace.AVATAR_METADATA);(0,b["default"])(a,function(a){a=new l(a);c.appendChild(a.xml)})}};a.withPubsubItem(function(b){a.add(b,"avatars",m);a.add(b,"avatarData",g.textSub(d.Namespace.AVATAR_DATA,"data"))})};h.exports=f["default"]},{"babel-runtime/helpers/interop-require-default":"/stanza.io/node_modules/babel-runtime/helpers/interop-require-default.js",
"lodash.foreach":"/stanza.io/node_modules/lodash.foreach/index.js","xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/bind.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.utils,b=d.define({name:"bind",namespace:a.Namespace.BIND,element:"bind",fields:{resource:b.textSub(a.Namespace.BIND,"resource"),jid:b.jidSub(a.Namespace.BIND,"jid")}});d.extendIQ(b);d.extendStreamFeatures(b)};
h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/blocking.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants"),d=e("xmpp-jid");f["default"]=function(b){var c={get:function(){var b=[],c=types.find(this.xml,a.Namespace.BLOCKING,"item");if(!c.length)return b;c.forEach(function(a){b.push(new d.JID(types.getAttribute(a,"jid","")))});return b},set:function(b){var c=this;b.forEach(function(b){var d=
types.createElement(a.Namespace.BLOCKING,"item",a.Namespace.BLOCKING);types.setAttribute(d,"jid",b.toString());c.xml.appendChild(d)})}},g=b.define({name:"block",namespace:a.Namespace.BLOCKING,element:"block",fields:{jids:c}}),l=b.define({name:"unblock",namespace:a.Namespace.BLOCKING,element:"unblock",fields:{jids:c}}),c=b.define({name:"blockList",namespace:a.Namespace.BLOCKING,element:"blocklist",fields:{jids:c}});b.extendIQ(g);b.extendIQ(l);b.extendIQ(c)};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js",
"xmpp-jid":"/stanza.io/node_modules/xmpp-jid/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/bob.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.utils,b=d.define({name:"bob",namespace:a.Namespace.BOB,element:"data",fields:{cid:b.attribute("cid"),maxAge:b.numberAttribute("max-age"),type:b.attribute("type"),data:b.text()}});d.extendIQ(b);d.extendMessage(b);d.extendPresence(b)};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],
"/stanza.io/node_modules/jxt-xmpp/lib/bookmarks.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.utils,b=d.define({name:"_conference",namespace:a.Namespace.BOOKMARKS,element:"conference",fields:{name:b.attribute("name"),autoJoin:b.boolAttribute("autojoin"),jid:b.jidAttribute("jid"),nick:b.textSub(a.Namespace.BOOKMARKS,"nick")}}),c=d.define({name:"bookmarks",namespace:a.Namespace.BOOKMARKS,element:"storage"});d.extend(c,
b,"conferences");d.withDefinition("query",a.Namespace.PRIVATE,function(a){d.extend(a,c)})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/bosh.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.utils;d.define({name:"bosh",namespace:a.Namespace.BOSH,element:"body",prefixes:{xmpp:a.Namespace.BOSH_XMPP},fields:{accept:b.attribute("accept"),
ack:b.numberAttribute("ack"),authid:b.attribute("authid"),charsets:b.attribute("charsets"),condition:b.attribute("condition"),content:b.attribute("content"),from:b.jidAttribute("from",!0),hold:b.numberAttribute("hold"),inactivity:b.numberAttribute("inactivity"),key:b.attribute("key"),maxpause:b.numberAttribute("maxpause"),newKey:b.attribute("newkey"),pause:b.numberAttribute("pause"),polling:b.numberAttribute("polling"),resport:b.numberAttribute("report"),requests:b.numberAttribute("requests"),rid:b.numberAttribute("rid"),
sid:b.attribute("sid"),stream:b.attribute("stream"),time:b.attribute("time"),to:b.jidAttribute("to",!0),type:b.attribute("type"),ver:b.attribute("ver"),wait:b.numberAttribute("wait"),uri:b.textSub(a.Namespace.BOSH,"uri"),lang:b.langAttribute(),version:b.attribute("xmpp:version","1.0"),restart:b.attribute("xmpp:restart"),restartLogic:b.boolAttribute("xmpp:restartLogic"),payload:{get:function(){for(var a=[],b=0,l=this.xml.childNodes.length;b<l;b++){var m=d.build(this.xml.childNodes[b]);void 0!==m&&
a.push(m)}return a},set:function(a){var b=this;a.forEach(function(a){b.xml.appendChild(a.xml)})}}}})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/carbons.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.define({name:"carbonSent",eventName:"carbon:sent",namespace:a.Namespace.CARBONS_2,element:"sent"}),c=d.define({name:"carbonReceived",
eventName:"carbon:received",namespace:a.Namespace.CARBONS_2,element:"received"}),g=d.define({name:"carbonPrivate",eventName:"carbon:private",namespace:a.Namespace.CARBONS_2,element:"private"}),l=d.define({name:"enableCarbons",namespace:a.Namespace.CARBONS_2,element:"enable"}),m=d.define({name:"disableCarbons",namespace:a.Namespace.CARBONS_2,element:"disable"});d.withDefinition("forwarded",a.Namespace.FORWARD_0,function(a){d.extend(b,a);d.extend(c,a)});d.extendMessage(b);d.extendMessage(c);d.extendMessage(g);
d.extendIQ(l);d.extendIQ(m)};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/command.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants"),d=["next","prev","complete","cancel"],b="bad-action bad-locale bad-payload bad-sessionid malformed-action session-expired".split(" ");f["default"]=function(c){var g=c.utils,l=c.define({name:"command",namespace:a.Namespace.ADHOC_COMMANDS,
element:"command",fields:{action:g.attribute("action"),node:g.attribute("node"),sessionid:g.attribute("sessionid"),status:g.attribute("status"),execute:g.subAttribute(a.Namespace.ADHOC_COMMANDS,"actions","execute"),actions:{get:function(){var b=[],c=g.find(this.xml,a.Namespace.ADHOC_COMMANDS,"actions");if(!c.length)return[];d.forEach(function(d){g.find(c[0],a.Namespace.ADHOC_COMMANDS,d).length&&b.push(d)});return b},set:function(b){for(var c=g.findOrCreate(this.xml,a.Namespace.ADHOC_COMMANDS,"actions"),
d=0,m=c.childNodes.length;d<m;d++)c.removeChild(c.childNodes[d]);b.forEach(function(b){c.appendChild(g.createElement(a.Namespace.ADHOC_COMMANDS,b.toLowerCase(),a.Namespace.ADHOC_COMMANDS))})}}}}),m=c.define({name:"_commandNote",namespace:a.Namespace.ADHOC_COMMANDS,element:"note",fields:{type:g.attribute("type"),value:g.text()}});c.extend(l,m,"notes");c.extendIQ(l);c.withStanzaError(function(d){c.add(d,"adhocCommandCondition",g.enumSub(a.Namespace.ADHOC_COMMANDS,b))});c.withDataForm(function(a){c.extend(l,
a)})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/csi.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.define({name:"clientStateIndication",namespace:a.Namespace.CSI,element:"csi"});d.define({name:"csiActive",eventName:"csi:active",namespace:a.Namespace.CSI,element:"active",topLevel:!0});d.define({name:"csiInactive",eventName:"csi:inactive",
namespace:a.Namespace.CSI,element:"inactive",topLevel:!0});d.extendStreamFeatures(b)};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/dataforms.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants"),d=e("xmpp-jid"),b=["text-single","text-private","list-single","jid-single"];f["default"]=function(c){var g=c.utils,l=c.define({name:"_field",namespace:a.Namespace.DATAFORM,element:"field",
init:function(a){this._type=(a||{}).type||this.type},fields:{type:{get:function(){return g.getAttribute(this.xml,"type","text-single")},set:function(a){this._type=a;g.setAttribute(this.xml,"type",a)}},name:g.attribute("var"),desc:g.textSub(a.Namespace.DATAFORM,"desc"),required:g.boolSub(a.Namespace.DATAFORM,"required"),label:g.attribute("label"),value:{get:function(){var c=g.getMultiSubText(this.xml,a.Namespace.DATAFORM,"value");return"boolean"===this._type?"1"===c[0]||"true"===c[0]:1<c.length?"text-multi"===
this._type?c.join("\n"):"jid-multi"===this._type?c.map(function(a){return new d.JID(a)}):c:0<=b.indexOf(this._type)?"jid-single"===this._type?new d.JID(c[0]):c[0]:c},set:function(b){if("boolean"===this._type||!0===b||!1===b){b=!0===b||"true"===b||"1"===b;var c=g.createElement(a.Namespace.DATAFORM,"value",a.Namespace.DATAFORM);c.textContent=b?"1":"0";this.xml.appendChild(c)}else"text-multi"===this._type&&"string"===typeof b&&(b=b.split("\n")),g.setMultiSubText(this.xml,a.Namespace.DATAFORM,"value",
b,function(b){var c=g.createElement(a.Namespace.DATAFORM,"value",a.Namespace.DATAFORM);c.textContent=b;this.xml.appendChild(c)}.bind(this))}}}}),m=c.define({name:"_formoption",namespace:a.Namespace.DATAFORM,element:"option",fields:{label:g.attribute("label"),value:g.textSub(a.Namespace.DATAFORM,"value")}}),k=c.define({name:"_formitem",namespace:a.Namespace.DATAFORM,element:"item"}),e=c.define({name:"media",element:"media",namespace:a.Namespace.DATAFORM_MEDIA,fields:{height:g.numberAttribute("height"),
width:g.numberAttribute("width")}}),f=c.define({name:"_mediaURI",element:"uri",namespace:a.Namespace.DATAFORM_MEDIA,fields:{uri:g.text(),type:g.attribute("type")}}),h=c.define({name:"validation",element:"validate",namespace:a.Namespace.DATAFORM_VALIDATION,fields:{dataType:g.attribute("datatype"),basic:g.boolSub(a.Namespace.DATAFORM_VALIDATION,"basic"),open:g.boolSub(a.Namespace.DATAFORM_VALIDATION,"open"),regex:g.textSub(a.Namespace.DATAFORM_VALIDATION,"regex")}}),u=c.define({name:"range",element:"range",
namespace:a.Namespace.DATAFORM_VALIDATION,fields:{min:g.attribute("min"),max:g.attribute("max")}}),t=c.define({name:"select",element:"list-range",namespace:a.Namespace.DATAFORM_VALIDATION,fields:{min:g.numberAttribute("min"),max:g.numberAttribute("max")}}),r={get:function(){for(var b=[],c=0,d=this.xml.childNodes.length;c<d;c++){var g=this.xml.childNodes[c];if(g.namespaceURI===a.Namespace.DATAFORM_LAYOUT)switch(g.localName){case "text":b.push({text:g.textContent});break;case "fieldref":b.push({field:g.getAttribute("var")});
break;case "reportedref":b.push({reported:!0});break;case "section":b.push({section:(new w(null,g,this)).toJSON()})}}return b},set:function(b){for(var c=0,d=b.length;c<d;c++){var k=b[c];if(k.text){var m=g.createElement(a.Namespace.DATAFORM_LAYOUT,"text",a.Namespace.DATAFORM_LAYOUT);m.textContent=k.text;this.xml.appendChild(m)}k.field&&(m=g.createElement(a.Namespace.DATAFORM_LAYOUT,"fieldref",a.Namespace.DATAFORM_LAYOUT),m.setAttribute("var",k.field),this.xml.appendChild(m));k.reported&&this.xml.appendChild(g.createElement(a.Namespace.DATAFORM_LAYOUT,
"reportedref",a.Namespace.DATAFORM_LAYOUT));k.section&&(m=g.createElement(a.Namespace.DATAFORM_LAYOUT,"section",a.Namespace.DATAFORM_LAYOUT),this.xml.appendChild(m),m=new w(null,m),m.label=k.section.label,m.contents=k.section.contents)}}},w=c.define({name:"_section",element:"section",namespace:a.Namespace.DATAFORM_LAYOUT,fields:{label:g.attribute("label"),contents:r}}),r=c.define({name:"_page",element:"page",namespace:a.Namespace.DATAFORM_LAYOUT,fields:{label:g.attribute("label"),contents:r}}),y=
c.define({name:"form",namespace:a.Namespace.DATAFORM,element:"x",init:function(){if(this.reportedFields.length){var a={};this.reportedFields.forEach(function(b){a[b.name]=b.type});this.items.forEach(function(b){b.fields.forEach(function(b){b.type=b._type=a[b.name]})})}},fields:{title:g.textSub(a.Namespace.DATAFORM,"title"),instructions:g.multiTextSub(a.Namespace.DATAFORM,"instructions"),type:g.attribute("type","form"),reportedFields:g.subMultiExtension(a.Namespace.DATAFORM,"reported",l)}});c.extend(y,
l,"fields");c.extend(y,k,"items");c.extend(y,r,"layout");c.extend(l,e);c.extend(l,h);c.extend(l,m,"options");c.extend(k,l,"fields");c.extend(e,f,"uris");c.extend(h,u);c.extend(h,t);c.extendMessage(y)};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js","xmpp-jid":"/stanza.io/node_modules/xmpp-jid/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/delayed.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=
function(d){var b=d.utils,b=d.define({name:"delay",namespace:a.Namespace.DELAY,element:"delay",fields:{from:b.jidAttribute("from"),stamp:b.dateAttribute("stamp"),reason:b.text()}});d.extendMessage(b);d.extendPresence(b)};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/disco.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.utils,c=d.define({name:"caps",
namespace:a.Namespace.CAPS,element:"c",fields:{ver:b.attribute("ver"),node:b.attribute("node"),hash:b.attribute("hash"),ext:b.attribute("ext")}}),g=d.define({name:"discoInfo",namespace:a.Namespace.DISCO_INFO,element:"query",fields:{node:b.attribute("node"),features:b.multiSubAttribute(a.Namespace.DISCO_INFO,"feature","var")}}),l=d.define({name:"_discoIdentity",namespace:a.Namespace.DISCO_INFO,element:"identity",fields:{category:b.attribute("category"),type:b.attribute("type"),name:b.attribute("name"),
lang:b.langAttribute()}}),m=d.define({name:"discoItems",namespace:a.Namespace.DISCO_ITEMS,element:"query",fields:{node:b.attribute("node")}}),b=d.define({name:"_discoItem",namespace:a.Namespace.DISCO_ITEMS,element:"item",fields:{jid:b.jidAttribute("jid"),node:b.attribute("node"),name:b.attribute("name")}});d.extend(m,b,"items");d.extend(g,l,"identities");d.extendIQ(g);d.extendIQ(m);d.extendPresence(c);d.extendStreamFeatures(c);d.withDataForm(function(a){d.extend(g,a,"extensions")});d.withDefinition("set",
a.Namespace.RSM,function(a){d.extend(m,a)})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/error.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants"),d="bad-request conflict feature-not-implemented forbidden gone internal-server-error item-not-found jid-malformed not-acceptable not-allowed not-authorized payment-required recipient-unavailable redirect registration-required remote-server-not-found remote-server-timeout resource-constraint service-unavailable subscription-required undefined-condition unexpected-request".split(" ");
f["default"]=function(b){var c=b.utils,g=b.define({name:"error",namespace:a.Namespace.CLIENT,element:"error",fields:{lang:{get:function(){return(this.parent||{}).lang||""}},condition:c.enumSub(a.Namespace.STANZA_ERROR,d),gone:{get:function(){return c.getSubText(this.xml,a.Namespace.STANZA_ERROR,"gone")},set:function(b){this.condition="gone";c.setSubText(this.xml,a.Namespace.STANZA_ERROR,"gone",b)}},redirect:{get:function(){return c.getSubText(this.xml,a.Namespace.STANZA_ERROR,"redirect")},set:function(b){this.condition=
"redirect";c.setSubText(this.xml,a.Namespace.STANZA_ERROR,"redirect",b)}},code:c.attribute("code"),type:c.attribute("type"),by:c.jidAttribute("by"),$text:{get:function(){return c.getSubLangText(this.xml,a.Namespace.STANZA_ERROR,"text",this.lang)}},text:{get:function(){return this.$text[this.lang]||""},set:function(b){c.setSubLangText(this.xml,a.Namespace.STANZA_ERROR,"text",b,this.lang)}}}});b.extendMessage(g);b.extendPresence(g);b.extendIQ(g)};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],
"/stanza.io/node_modules/jxt-xmpp/lib/extdisco.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.utils,c=f.Services=d.define({name:"services",namespace:a.Namespace.DISCO_EXTERNAL_1,element:"services",fields:{type:b.attribute("type")}}),g=f.Credentials=d.define({name:"credentials",namespace:a.Namespace.DISCO_EXTERNAL_1,element:"credentials"}),l=d.define({name:"service",namespace:a.Namespace.DISCO_EXTERNAL_1,element:"service",
fields:{host:b.attribute("host"),port:b.attribute("port"),transport:b.attribute("transport"),type:b.attribute("type"),username:b.attribute("username"),password:b.attribute("password")}});d.extend(c,l,"services");d.extend(g,l);d.extendIQ(c);d.extendIQ(g);d.withDataForm(function(a){d.extend(l,a)})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/file.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});
var a=e("xmpp-constants"),d=a.Namespace.FILE_TRANSFER_4;f["default"]=function(b){var c=b.utils,g=b.define({name:"file",namespace:d,element:"file",fields:{name:c.textSub(d,"name"),description:c.textSub(d,"desc"),mediaType:c.textSub(d,"media-type"),size:c.numberSub(d,"size"),date:c.dateSub(d,"date")}}),l=b.define({name:"range",namespace:d,element:"range",fields:{offset:c.numberAttribute("offset"),length:c.numberAttribute("length")}}),m=b.define({name:"_"+d,namespace:d,element:"description",tags:["jingle-application"],
fields:{applicationType:{value:d}}}),k=b.define({name:"_{"+d+"}received",namespace:d,element:"received",tags:["jingle-info"],fields:{infoType:{value:"{"+d+"}received"},creator:c.attribute("creator"),name:c.attribute("name")}}),e=b.define({name:"_{"+d+"}checksum",namespace:d,element:"checksum",tags:["jingle-info"],fields:{infoType:{value:"{"+d+"}checksum"},creator:c.attribute("creator"),name:c.attribute("name")}});b.extend(g,l);b.extend(e,g);b.extend(m,g);b.withDefinition("hash",a.Namespace.HASHES_1,
function(a){b.extend(g,a,"hashes");b.extend(l,a,"hashes")});b.withDefinition("content",a.Namespace.JINGLE_1,function(a){b.extend(a,m)});b.withDefinition("jingle",a.Namespace.JINGLE_1,function(a){b.extend(a,k);b.extend(a,e)})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/file3.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants"),d=a.Namespace.FILE_TRANSFER_3;f["default"]=
function(b){var c=b.utils,g=b.define({name:"_file",namespace:d,element:"file",fields:{name:c.textSub(d,"name"),desc:c.textSub(d,"desc"),size:c.numberSub(d,"size"),date:c.dateSub(d,"date")}}),l=b.define({name:"range",namespace:d,element:"range",fields:{offset:c.numberAttribute("offset")}}),m=b.define({name:"thumbnail",namespace:a.Namespace.THUMBS_0,element:"thumbnail",fields:{cid:c.attribute("cid"),mimeType:c.attribute("mime-type"),width:c.numberAttribute("width"),height:c.numberAttribute("height")}}),
k=b.define({name:"_filetransfer",namespace:d,element:"description",tags:["jingle-application"],fields:{applicationType:{value:"filetransfer"},offer:c.subExtension("offer",d,"offer",g),request:c.subExtension("request",d,"request",g)}});b.extend(g,l);b.extend(g,m);b.withDefinition("hash",a.Namespace.HASHES_1,function(a){b.extend(g,a,"hashes")});b.withDefinition("content",a.Namespace.JINGLE_1,function(a){b.extend(a,k)})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],
"/stanza.io/node_modules/jxt-xmpp/lib/forwarded.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.define({name:"forwarded",namespace:a.Namespace.FORWARD_0,element:"forwarded"});d.extendIQ(b);d.extendPresence(b);d.withMessage(function(a){d.extend(a,b);d.extend(b,a)});d.withDefinition("delay",a.Namespace.DELAY,function(a){d.extend(b,a)})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],
"/stanza.io/node_modules/jxt-xmpp/lib/framing.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.utils;d.define({name:"openStream",namespace:a.Namespace.FRAMING,element:"open",topLevel:!0,fields:{lang:b.langAttribute(),id:b.attribute("id"),version:b.attribute("version","1.0"),to:b.jidAttribute("to",!0),from:b.jidAttribute("from",!0)}});d.define({name:"closeStream",namespace:a.Namespace.FRAMING,element:"close",topLevel:!0,
fields:{seeOtherURI:b.attribute("see-other-uri")}})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/geoloc.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.utils,b=d.define({name:"geoloc",namespace:a.Namespace.GEOLOC,element:"geoloc",fields:{accuracy:b.numberSub(a.Namespace.GEOLOC,"accuracy",!0),altitude:b.numberSub(a.Namespace.GEOLOC,
"alt",!0),area:b.textSub(a.Namespace.GEOLOC,"area"),heading:b.numberSub(a.Namespace.GEOLOC,"bearing",!0),bearing:b.numberSub(a.Namespace.GEOLOC,"bearing",!0),building:b.textSub(a.Namespace.GEOLOC,"building"),country:b.textSub(a.Namespace.GEOLOC,"country"),countrycode:b.textSub(a.Namespace.GEOLOC,"countrycode"),datum:b.textSub(a.Namespace.GEOLOC,"datum"),description:b.textSub(a.Namespace.GEOLOC,"description"),error:b.numberSub(a.Namespace.GEOLOC,"error",!0),floor:b.textSub(a.Namespace.GEOLOC,"floor"),
latitude:b.numberSub(a.Namespace.GEOLOC,"lat",!0),locality:b.textSub(a.Namespace.GEOLOC,"locality"),longitude:b.numberSub(a.Namespace.GEOLOC,"lon",!0),postalcode:b.textSub(a.Namespace.GEOLOC,"postalcode"),region:b.textSub(a.Namespace.GEOLOC,"region"),room:b.textSub(a.Namespace.GEOLOC,"room"),speed:b.numberSub(a.Namespace.GEOLOC,"speed",!0),street:b.textSub(a.Namespace.GEOLOC,"street"),text:b.textSub(a.Namespace.GEOLOC,"text"),timestamp:b.dateSub(a.Namespace.GEOLOC,"timestamp"),tzo:b.tzoSub(a.Namespace.GEOLOC,
"tzo"),uri:b.textSub(a.Namespace.GEOLOC,"uri")}});d.extendPubsubItem(b)};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/hash.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){d.define({name:"hash",namespace:a.Namespace.HASHES_1,element:"hash",fields:{algo:d.utils.attribute("algo"),value:d.utils.text()}})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],
"/stanza.io/node_modules/jxt-xmpp/lib/hats.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.define({name:"_hat",namespace:a.Namespace.HATS_0,element:"hat",fields:{lang:d.utils.langAttribute(),name:d.utils.attribute("name"),displayName:d.utils.attribute("displayName")}});d.withPresence(function(c){d.add(c,"hats",d.utils.subMultiExtension(a.Namespace.HATS_0,"hats",b))})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],
"/stanza.io/node_modules/jxt-xmpp/lib/ibb.js":[function(e,h,f){(function(a){Object.defineProperty(f,"__esModule",{value:!0});var d=e("xmpp-constants");f["default"]=function(b){var c=b.utils,g={get:function(){var b=c.find(this.xml,"http://jabber.org/protocol/ibb","data");if(b.length)return b=b[0],{action:"data",sid:c.getAttribute(b,"sid"),seq:parseInt(c.getAttribute(b,"seq")||"0",10),data:new a(c.getText(b),"base64")};b=c.find(this.xml,"http://jabber.org/protocol/ibb","open");if(b.length){var b=b[0],
d=c.getAttribute(b,"stanza"),d="message"===d?!1:!0;return{action:"open",sid:c.getAttribute(b,"sid"),blockSize:c.getAttribute(b,"block-size"),ack:d}}b=c.find(this.xml,"http://jabber.org/protocol/ibb","close");if(b.length)return{action:"close",sid:c.getAttribute(b[0],"sid")}},set:function(a){if("data"===a.action){var b=c.createElement("http://jabber.org/protocol/ibb","data");c.setAttribute(b,"sid",a.sid);c.setAttribute(b,"seq",a.seq.toString());c.setText(b,a.data.toString("base64"));this.xml.appendChild(b)}"open"===
a.action&&(b=c.createElement("http://jabber.org/protocol/ibb","open"),c.setAttribute(b,"sid",a.sid),c.setAttribute(b,"block-size",(a.blockSize||"4096").toString()),!1===a.ack?c.setAttribute(b,"stanza","message"):c.setAttribute(b,"stanza","iq"),this.xml.appendChild(b));"close"===a.action&&(b=c.createElement("http://jabber.org/protocol/ibb","close"),c.setAttribute(b,"sid",a.sid),this.xml.appendChild(b))}},l=b.define({name:"_urn:xmpp:jingle:transports:ibb:1",namespace:"urn:xmpp:jingle:transports:ibb:1",
element:"transport",tags:["jingle-transport"],fields:{transportType:{value:"urn:xmpp:jingle:transports:ibb:1"},sid:c.attribute("sid"),blockSize:c.numberAttribute("block-size"),ack:{get:function(){return"message"===c.getAttribute(this.xml,"stanza")?!1:!0},set:function(a){!1===a.ack?c.setAttribute(this.xml,"stanza","message"):c.setAttribute(this.xml,"stanza","iq")}}}});b.withDefinition("content",d.Namespace.JINGLE_1,function(a){b.extend(a,l)});b.withIQ(function(a){b.add(a,"ibb",g)});b.withMessage(function(a){b.add(a,
"ibb",g)})};h.exports=f["default"]}).call(this,e("buffer").Buffer)},{buffer:"/stanza.io/node_modules/buffer/index.js","xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/iceUdp.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.utils,c=d.define({name:"_iceUdp",namespace:a.Namespace.JINGLE_ICE_UDP_1,element:"transport",tags:["jingle-transport"],fields:{transportType:{value:"iceUdp"},
pwd:b.attribute("pwd"),ufrag:b.attribute("ufrag")}}),g=d.define({name:"remoteCandidate",namespace:a.Namespace.JINGLE_ICE_UDP_1,element:"remote-candidate",fields:{component:b.attribute("component"),ip:b.attribute("ip"),port:b.attribute("port")}}),l=d.define({name:"_iceUdpCandidate",namespace:a.Namespace.JINGLE_ICE_UDP_1,element:"candidate",fields:{component:b.attribute("component"),foundation:b.attribute("foundation"),generation:b.attribute("generation"),id:b.attribute("id"),ip:b.attribute("ip"),network:b.attribute("network"),
port:b.attribute("port"),priority:b.attribute("priority"),protocol:b.attribute("protocol"),relAddr:b.attribute("rel-addr"),relPort:b.attribute("rel-port"),tcpType:b.attribute("tcptype"),type:b.attribute("type")}}),m=d.define({name:"_iceFingerprint",namespace:a.Namespace.JINGLE_DTLS_0,element:"fingerprint",fields:{hash:b.attribute("hash"),setup:b.attribute("setup"),value:b.text(),required:b.boolAttribute("required")}}),b=d.define({name:"_sctpMap",namespace:a.Namespace.DTLS_SCTP_1,element:"sctpmap",
fields:{number:b.attribute("number"),protocol:b.attribute("protocol"),streams:b.attribute("streams")}});d.extend(c,l,"candidates");d.extend(c,g);d.extend(c,m,"fingerprints");d.extend(c,b,"sctp");d.withDefinition("content",a.Namespace.JINGLE_1,function(a){d.extend(a,c)})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/index.js":[function(e,h,f){var a=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(f,
"__esModule",{value:!0});var d=e("./avatar"),b=a(d),c=e("./bind"),g=a(c),l=e("./blocking"),m=a(l),k=e("./bob"),p=a(k),n=e("./bookmarks"),q=a(n),u=e("./bosh"),t=a(u),r=e("./carbons"),w=a(r),y=e("./command"),v=a(y),x=e("./csi"),A=a(x),D=e("./dataforms"),C=a(D),E=e("./delayed"),B=a(E),I=e("./disco"),J=a(I),F=e("./error"),K=a(F),G=e("./extdisco"),L=a(G),H=e("./file"),N=a(H),O=e("./file3"),S=a(O),R=e("./forwarded"),z=a(R),T=e("./framing"),Q=a(T),Y=e("./geoloc"),P=a(Y),Z=e("./hash"),U=a(Z),V=e("./hats"),
W=a(V),aa=e("./iceUdp"),ba=a(aa),ca=e("./ibb"),da=a(ca),ea=e("./iq"),fa=a(ea),ga=e("./jidprep"),ha=a(ga),ka=e("./jingle"),X=a(ka),ia=e("./json"),ja=a(ia),la=e("./logging"),ma=a(la),na=e("./mam"),oa=a(na),ua=e("./message"),va=a(ua),pa=e("./mood"),qa=a(pa),ra=e("./muc"),sa=a(ra),ta=e("./nick"),wa=a(ta),xa=e("./oob"),ya=a(xa),za=e("./ping"),Aa=a(za),Ba=e("./presence"),Ca=a(Ba),Da=e("./private"),Ea=a(Da),Fa=e("./psa"),Ga=a(Fa),Ha=e("./pubsub"),Ia=a(Ha),Ja=e("./pubsubError"),Ka=a(Ja),La=e("./pubsubEvents"),
Ma=a(La),Na=e("./pubsubOwner"),Oa=a(Na),Pa=e("./push"),Qa=a(Pa),Ra=e("./reach"),Sa=a(Ra),Ta=e("./register"),Ua=a(Ta),Va=e("./roster"),Wa=a(Va),Xa=e("./rsm"),Ya=a(Xa),Za=e("./rtp"),$a=a(Za),ab=e("./rtt"),bb=a(ab),cb=e("./sasl"),db=a(cb),eb=e("./session"),fb=a(eb),gb=e("./shim"),hb=a(gb),ib=e("./sm"),jb=a(ib),kb=e("./stream"),lb=a(kb),mb=e("./streamError"),nb=a(mb),ob=e("./streamFeatures"),pb=a(ob),qb=e("./time"),rb=a(qb),sb=e("./tune"),tb=a(sb),ub=e("./vcard"),vb=a(ub),wb=e("./version"),xb=a(wb),yb=
e("./visibility"),zb=a(yb);f["default"]=function(a){a.use(b["default"]);a.use(g["default"]);a.use(m["default"]);a.use(p["default"]);a.use(q["default"]);a.use(t["default"]);a.use(w["default"]);a.use(v["default"]);a.use(A["default"]);a.use(C["default"]);a.use(B["default"]);a.use(J["default"]);a.use(K["default"]);a.use(L["default"]);a.use(N["default"]);a.use(S["default"]);a.use(z["default"]);a.use(Q["default"]);a.use(P["default"]);a.use(U["default"]);a.use(W["default"]);a.use(ba["default"]);a.use(da["default"]);
a.use(fa["default"]);a.use(ha["default"]);a.use(X["default"]);a.use(ja["default"]);a.use(ma["default"]);a.use(oa["default"]);a.use(va["default"]);a.use(qa["default"]);a.use(sa["default"]);a.use(wa["default"]);a.use(ya["default"]);a.use(Aa["default"]);a.use(Ca["default"]);a.use(Ea["default"]);a.use(Ga["default"]);a.use(Ia["default"]);a.use(Ka["default"]);a.use(Ma["default"]);a.use(Oa["default"]);a.use(Qa["default"]);a.use(Sa["default"]);a.use(Ua["default"]);a.use(Wa["default"]);a.use(Ya["default"]);
a.use($a["default"]);a.use(bb["default"]);a.use(db["default"]);a.use(fb["default"]);a.use(hb["default"]);a.use(jb["default"]);a.use(lb["default"]);a.use(nb["default"]);a.use(pb["default"]);a.use(rb["default"]);a.use(tb["default"]);a.use(vb["default"]);a.use(xb["default"]);a.use(zb["default"])};h.exports=f["default"]},{"./avatar":"/stanza.io/node_modules/jxt-xmpp/lib/avatar.js","./bind":"/stanza.io/node_modules/jxt-xmpp/lib/bind.js","./blocking":"/stanza.io/node_modules/jxt-xmpp/lib/blocking.js","./bob":"/stanza.io/node_modules/jxt-xmpp/lib/bob.js",
"./bookmarks":"/stanza.io/node_modules/jxt-xmpp/lib/bookmarks.js","./bosh":"/stanza.io/node_modules/jxt-xmpp/lib/bosh.js","./carbons":"/stanza.io/node_modules/jxt-xmpp/lib/carbons.js","./command":"/stanza.io/node_modules/jxt-xmpp/lib/command.js","./csi":"/stanza.io/node_modules/jxt-xmpp/lib/csi.js","./dataforms":"/stanza.io/node_modules/jxt-xmpp/lib/dataforms.js","./delayed":"/stanza.io/node_modules/jxt-xmpp/lib/delayed.js","./disco":"/stanza.io/node_modules/jxt-xmpp/lib/disco.js","./error":"/stanza.io/node_modules/jxt-xmpp/lib/error.js",
"./extdisco":"/stanza.io/node_modules/jxt-xmpp/lib/extdisco.js","./file":"/stanza.io/node_modules/jxt-xmpp/lib/file.js","./file3":"/stanza.io/node_modules/jxt-xmpp/lib/file3.js","./forwarded":"/stanza.io/node_modules/jxt-xmpp/lib/forwarded.js","./framing":"/stanza.io/node_modules/jxt-xmpp/lib/framing.js","./geoloc":"/stanza.io/node_modules/jxt-xmpp/lib/geoloc.js","./hash":"/stanza.io/node_modules/jxt-xmpp/lib/hash.js","./hats":"/stanza.io/node_modules/jxt-xmpp/lib/hats.js","./ibb":"/stanza.io/node_modules/jxt-xmpp/lib/ibb.js",
"./iceUdp":"/stanza.io/node_modules/jxt-xmpp/lib/iceUdp.js","./iq":"/stanza.io/node_modules/jxt-xmpp/lib/iq.js","./jidprep":"/stanza.io/node_modules/jxt-xmpp/lib/jidprep.js","./jingle":"/stanza.io/node_modules/jxt-xmpp/lib/jingle.js","./json":"/stanza.io/node_modules/jxt-xmpp/lib/json.js","./logging":"/stanza.io/node_modules/jxt-xmpp/lib/logging.js","./mam":"/stanza.io/node_modules/jxt-xmpp/lib/mam.js","./message":"/stanza.io/node_modules/jxt-xmpp/lib/message.js","./mood":"/stanza.io/node_modules/jxt-xmpp/lib/mood.js",
"./muc":"/stanza.io/node_modules/jxt-xmpp/lib/muc.js","./nick":"/stanza.io/node_modules/jxt-xmpp/lib/nick.js","./oob":"/stanza.io/node_modules/jxt-xmpp/lib/oob.js","./ping":"/stanza.io/node_modules/jxt-xmpp/lib/ping.js","./presence":"/stanza.io/node_modules/jxt-xmpp/lib/presence.js","./private":"/stanza.io/node_modules/jxt-xmpp/lib/private.js","./psa":"/stanza.io/node_modules/jxt-xmpp/lib/psa.js","./pubsub":"/stanza.io/node_modules/jxt-xmpp/lib/pubsub.js","./pubsubError":"/stanza.io/node_modules/jxt-xmpp/lib/pubsubError.js",
"./pubsubEvents":"/stanza.io/node_modules/jxt-xmpp/lib/pubsubEvents.js","./pubsubOwner":"/stanza.io/node_modules/jxt-xmpp/lib/pubsubOwner.js","./push":"/stanza.io/node_modules/jxt-xmpp/lib/push.js","./reach":"/stanza.io/node_modules/jxt-xmpp/lib/reach.js","./register":"/stanza.io/node_modules/jxt-xmpp/lib/register.js","./roster":"/stanza.io/node_modules/jxt-xmpp/lib/roster.js","./rsm":"/stanza.io/node_modules/jxt-xmpp/lib/rsm.js","./rtp":"/stanza.io/node_modules/jxt-xmpp/lib/rtp.js","./rtt":"/stanza.io/node_modules/jxt-xmpp/lib/rtt.js",
"./sasl":"/stanza.io/node_modules/jxt-xmpp/lib/sasl.js","./session":"/stanza.io/node_modules/jxt-xmpp/lib/session.js","./shim":"/stanza.io/node_modules/jxt-xmpp/lib/shim.js","./sm":"/stanza.io/node_modules/jxt-xmpp/lib/sm.js","./stream":"/stanza.io/node_modules/jxt-xmpp/lib/stream.js","./streamError":"/stanza.io/node_modules/jxt-xmpp/lib/streamError.js","./streamFeatures":"/stanza.io/node_modules/jxt-xmpp/lib/streamFeatures.js","./time":"/stanza.io/node_modules/jxt-xmpp/lib/time.js","./tune":"/stanza.io/node_modules/jxt-xmpp/lib/tune.js",
"./vcard":"/stanza.io/node_modules/jxt-xmpp/lib/vcard.js","./version":"/stanza.io/node_modules/jxt-xmpp/lib/version.js","./visibility":"/stanza.io/node_modules/jxt-xmpp/lib/visibility.js","babel-runtime/helpers/interop-require-default":"/stanza.io/node_modules/babel-runtime/helpers/interop-require-default.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/iq.js":[function(e,h,f){var a=e("babel-runtime/core-js/object/assign")["default"];Object.defineProperty(f,"__esModule",{value:!0});var d=e("xmpp-constants"),
b={defineIQ:function(b,d,l){var m=b.utils,k=b.define({name:d,namespace:l,element:"iq",topLevel:!0,fields:{lang:m.langAttribute(),id:m.attribute("id"),to:m.jidAttribute("to",!0),from:m.jidAttribute("from",!0),type:m.attribute("type")}}),e=k.prototype.toJSON;a(k.prototype,{toJSON:function(){var a=e.call(this);a.resultReply=this.resultReply;a.errorReply=this.errorReply;return a},resultReply:function(a){a=a||{};a.to=this.from;a.id=this.id;a.type="result";return new k(a)},errorReply:function(a){a=a||{};
a.to=this.from;a.id=this.id;a.type="error";return new k(a)}})}};f["default"]=function(a){b.defineIQ(a,"iq",d.Namespace.CLIENT);b.defineIQ(a,"serverIQ",d.Namespace.SERVER);b.defineIQ(a,"componentIQ",d.Namespace.COMPONENT)};h.exports=f["default"]},{"babel-runtime/core-js/object/assign":"/stanza.io/node_modules/babel-runtime/core-js/object/assign.js","xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/jidprep.js":[function(e,h,f){Object.defineProperty(f,
"__esModule",{value:!0});var a=e("xmpp-constants"),d=e("xmpp-jid");f["default"]=function(b){b.withIQ(function(c){b.add(c,"jidPrep",{get:function(){var c=b.utils.getSubText(this.xml,a.Namespace.JID_PREP_0,"jid");if(c)return c=new d.JID(c),c.prepped=!0,c},set:function(c){b.utils.setSubText(this.xml,a.Namespace.JID_PREP_0,"jid",(c||"").toString())}})})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js","xmpp-jid":"/stanza.io/node_modules/xmpp-jid/index.js"}],
"/stanza.io/node_modules/jxt-xmpp/lib/jingle.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants"),d=["out-of-order","tie-break","unknown-session","unsupported-info"],b="alternative-session busy cancel connectivity-error decline expired failed-application failed-transport general-error gone incompatible-parameters media-error security-error success timeout unsupported-applications unsupported-transports".split(" ");f["default"]=function(c){var g=c.utils,l=
c.define({name:"jingle",namespace:a.Namespace.JINGLE_1,element:"jingle",fields:{action:g.attribute("action"),initiator:g.attribute("initiator"),responder:g.attribute("responder"),sid:g.attribute("sid"),info:{get:function(){for(var a=c.tagged("jingle-info").map(function(a){return a.prototype._name}),b=0,d=a.length;b<d;b++)if(this._extensions[a[b]])return this._extensions[a[b]];if("session-info"===g.getAttribute(this.xml,"action"))return 0===this.xml.children.length?{infoType:"ping"}:{infoType:"unknown"}},
set:function(a){"ping"!==a.infoType&&(this["_"+a.infoType]=a)}}}}),m=c.define({name:"_jingleContent",namespace:a.Namespace.JINGLE_1,element:"content",fields:{creator:g.attribute("creator"),disposition:g.attribute("disposition","session"),name:g.attribute("name"),senders:g.attribute("senders","both"),application:{get:function(){for(var a=c.tagged("jingle-application").map(function(a){return a.prototype._name}),b=0,d=a.length;b<d;b++)if(this._extensions[a[b]])return this._extensions[a[b]]},set:function(a){this["_"+
a.applicationType]=a}},transport:{get:function(){for(var a=c.tagged("jingle-transport").map(function(a){return a.prototype._name}),b=0,d=a.length;b<d;b++)if(this._extensions[a[b]])return this._extensions[a[b]]},set:function(a){this["_"+a.transportType]=a}},security:{get:function(){for(var a=c.tagged("jingle-security").map(function(a){return Security.prototype._name}),b=0,d=a.length;b<d;b++)if(this._extensions[a[b]])return this._extensions[a[b]]},set:function(a){this["_"+a.securityType]=a}}}}),k=c.define({name:"reason",
namespace:a.Namespace.JINGLE_1,element:"reason",fields:{condition:g.enumSub(a.Namespace.JINGLE_1,b),alternativeSession:{get:function(){return g.getSubText(this.xml,a.Namespace.JINGLE_1,"alternative-session")},set:function(b){this.condition="alternative-session";g.setSubText(this.xml,a.Namespace.JINGLE_1,"alternative-session",b)}},text:g.textSub(a.Namespace.JINGLE_1,"text")}});c.extend(l,m,"contents");c.extend(l,k);c.extendIQ(l);c.withStanzaError(function(b){c.add(b,"jingleCondition",g.enumSub(a.Namespace.JINGLE_ERRORS_1,
d))})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/json.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b={get:function(){var b=d.utils.getSubText(this.xml,a.Namespace.JSON_0,"json");if(b)return JSON.parse(b)},set:function(b){(b=JSON.stringify(b))&&d.utils.setSubText(this.xml,a.Namespace.JSON_0,"json",b)}};d.withMessage(function(a){d.add(a,
"json",b)});d.withPubsubItem(function(a){d.add(a,"json",b)})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/logging.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.utils,c=d.define({name:"log",namespace:a.Namespace.EVENTLOG,element:"log",fields:{id:b.attribute("id"),timestamp:b.dateAttribute("timestamp"),type:b.attribute("type"),level:b.attribute("level"),
object:b.attribute("object"),subject:b.attribute("subject"),facility:b.attribute("facility"),module:b.attribute("module"),message:b.textSub(a.Namespace.EVENTLOG,"message"),stackTrace:b.textSub(a.Namespace.EVENTLOG,"stackTrace")}}),b=d.define({name:"_logtag",namespace:a.Namespace.EVENTLOG,element:"tag",fields:{name:b.attribute("name"),value:b.attribute("value"),type:b.attribute("type")}});d.extend(c,b,"tags");d.extendMessage(c);d.extendPubsubItem(c)};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],
"/stanza.io/node_modules/jxt-xmpp/lib/mam.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants"),d=e("xmpp-jid");f["default"]=function(b){var c=b.utils,g=b.define({name:"mam",namespace:a.Namespace.MAM_0,element:"query",fields:{queryid:c.attribute("queryid")}}),l=b.define({name:"mamItem",namespace:a.Namespace.MAM_0,element:"result",fields:{queryid:c.attribute("queryid"),id:c.attribute("id")}}),m=b.define({name:"mamResult",namespace:a.Namespace.MAM_0,element:"fin",
fields:{queryid:c.attribute("queryid"),complete:c.boolAttribute("complete"),stable:c.boolAttribute("stable")}}),k=b.define({name:"mamPrefs",namespace:a.Namespace.MAM_0,element:"prefs",fields:{defaultCondition:c.attribute("default"),always:{get:function(){var b=[],g=c.find(this.xml,a.Namespace.MAM_0,"always");if(0===g.length)return b;g=g[0];c.getMultiSubText(g,a.Namespace.MAM_0,"jid").forEach(function(a){b.push(new d.JID(a.textContent))});return b},set:function(b){if(0<b.length){var d=c.findOrCreate(this.xml,
a.Namespace.MAM_0,"always");c.setMultiSubText(d,a.Namespace.MAM_0,"jid",b)}}},never:{get:function(){var b=[],g=c.find(this.xml,a.Namespace.MAM_0,"always");if(0===g.length)return b;g=g[0];c.getMultiSubText(g,a.Namespace.MAM_0,"jid").forEach(function(a){b.push(new d.JID(a.textContent))});return b},set:function(b){if(0<b.length){var d=c.findOrCreate(this.xml,a.Namespace.MAM_0,"never");c.setMultiSubText(d,a.Namespace.MAM_0,"jid",b)}}}}});b.extendMessage(l);b.extendMessage(m);b.extendIQ(g);b.extendIQ(k);
b.withDataForm(function(a){b.extend(g,a)});b.withDefinition("forwarded",a.Namespace.FORWARD_0,function(a){b.extend(l,a)});b.withDefinition("set",a.Namespace.RSM,function(a){b.extend(g,a);b.extend(m,a)})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js","xmpp-jid":"/stanza.io/node_modules/xmpp-jid/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/message.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants"),d={defineMessage:function(b,
c,d){var l=b.utils;b.define({name:c,namespace:d,element:"message",topLevel:!0,fields:{lang:l.langAttribute(),id:l.attribute("id"),to:l.jidAttribute("to",!0),from:l.jidAttribute("from",!0),type:l.attribute("type","normal"),thread:l.textSub(d,"thread"),parentThread:l.subAttribute(d,"thread","parent"),subject:l.textSub(d,"subject"),$body:{get:function(){return l.getSubLangText(this.xml,d,"body",this.lang)}},body:{get:function(){return this.$body[this.lang]||""},set:function(a){l.setSubLangText(this.xml,
d,"body",a,this.lang)}},attention:l.boolSub(a.Namespace.ATTENTION_0,"attention"),chatState:l.enumSub(a.Namespace.CHAT_STATES,["active","composing","paused","inactive","gone"]),replace:l.subAttribute(a.Namespace.CORRECTION_0,"replace","id"),requestReceipt:l.boolSub(a.Namespace.RECEIPTS,"request"),receipt:l.subAttribute(a.Namespace.RECEIPTS,"received","id")}})}};f["default"]=function(b){d.defineMessage(b,"message",a.Namespace.CLIENT);d.defineMessage(b,"serverMessage",a.Namespace.SERVER);d.defineMessage(b,
"componentMessage",a.Namespace.COMPONENT)};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/mood.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants"),d="afraid amazed amorous angry annoyed anxious aroused ashamed bored brave calm cautious cold confident confused contemplative contented cranky crazy creative curious dejected depressed disappointed disgusted dismayed distracted embarrassed envious excited flirtatious frustrated grateful grieving grumpy guilty happy hopeful hot humbled humiliated hungry hurt impressed in_awe in_love indignant interested intoxicated invincible jealous lonely lucky mean moody nervous neutral offended outraged playful proud relaxed relieved remorseful restless sad sarcastic serious shocked shy sick sleepy spontaneous stressed strong surprised thankful thirsty tired undefined weak worried".split(" ");
f["default"]=function(b){var c=b.define({name:"mood",namespace:a.Namespace.MOOD,element:"mood",fields:{text:b.utils.textSub(a.Namespace.MOOD,"text"),value:b.utils.enumSub(a.Namespace.MOOD,d)}});b.extendMessage(c);b.extendPubsubItem(c)};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/muc.js":[function(e,h,f){function a(a,c){return{get:function(){if(this._extensions[a])return this[a][c]},set:function(d){this[a][c]=d}}}
Object.defineProperty(f,"__esModule",{value:!0});var d=e("xmpp-constants");f["default"]=function(b){var c=b.utils,g=b.define({name:"_mucUserItem",namespace:d.Namespace.MUC_USER,element:"item",fields:{affiliation:c.attribute("affiliation"),nick:c.attribute("nick"),jid:c.jidAttribute("jid"),role:c.attribute("role"),reason:c.textSub(d.Namespace.MUC_USER,"reason")}}),l=b.define({name:"_mucUserActor",namespace:d.Namespace.MUC_USER,element:"actor",fields:{nick:c.attribute("nick"),jid:c.jidAttribute("jid")}}),
m=b.define({name:"destroyed",namespace:d.Namespace.MUC_USER,element:"destroy",fields:{jid:c.jidAttribute("jid"),reason:c.textSub(d.Namespace.MUC_USER,"reason")}}),k=b.define({name:"invite",namespace:d.Namespace.MUC_USER,element:"invite",fields:{to:c.jidAttribute("to"),from:c.jidAttribute("from"),reason:c.textSub(d.Namespace.MUC_USER,"reason"),thread:c.subAttribute(d.Namespace.MUC_USER,"continue","thread"),"continue":c.boolSub(d.Namespace.MUC_USER,"continue")}}),e=b.define({name:"decline",namespace:d.Namespace.MUC_USER,
element:"decline",fields:{to:c.jidAttribute("to"),from:c.jidAttribute("from"),reason:c.textSub(d.Namespace.MUC_USER,"reason")}}),f=b.define({name:"_mucAdminItem",namespace:d.Namespace.MUC_ADMIN,element:"item",fields:{affiliation:c.attribute("affiliation"),nick:c.attribute("nick"),jid:c.jidAttribute("jid"),role:c.attribute("role"),reason:c.textSub(d.Namespace.MUC_ADMIN,"reason")}}),h=b.define({name:"actor",namespace:d.Namespace.MUC_USER,element:"actor",fields:{nick:c.attribute("nick"),jid:c.jidAttribute("jid")}}),
u=b.define({name:"destroy",namespace:d.Namespace.MUC_OWNER,element:"destroy",fields:{jid:c.jidAttribute("jid"),password:c.textSub(d.Namespace.MUC_OWNER,"password"),reason:c.textSub(d.Namespace.MUC_OWNER,"reason")}}),t=b.define({name:"muc",namespace:d.Namespace.MUC_USER,element:"x",fields:{affiliation:a("_mucUserItem","affiliation"),nick:a("_mucUserItem","nick"),jid:a("_mucUserItem","jid"),role:a("_mucUserItem","role"),actor:a("_mucUserItem","_mucUserActor"),reason:a("_mucUserItem","reason"),password:c.textSub(d.Namespace.MUC_USER,
"password"),codes:{get:function(){return c.getMultiSubText(this.xml,d.Namespace.MUC_USER,"status",function(a){return c.getAttribute(a,"code")})},set:function(a){var b=this;c.setMultiSubText(this.xml,d.Namespace.MUC_USER,"status",a,function(a){var g=c.createElement(d.Namespace.MUC_USER,"status",d.Namespace.MUC_USER);c.setAttribute(g,"code",a);b.xml.appendChild(g)})}}}}),r=b.define({name:"mucAdmin",namespace:d.Namespace.MUC_ADMIN,element:"query",fields:{affiliation:a("_mucAdminItem","affiliation"),
nick:a("_mucAdminItem","nick"),jid:a("_mucAdminItem","jid"),role:a("_mucAdminItem","role"),actor:a("_mucAdminItem","_mucAdminActor"),reason:a("_mucAdminItem","reason")}}),w=b.define({name:"mucOwner",namespace:d.Namespace.MUC_OWNER,element:"query"}),y=b.define({name:"joinMuc",namespace:d.Namespace.MUC,element:"x",fields:{password:c.textSub(d.Namespace.MUC,"password"),history:{get:function(){var a=c.find(this.xml,d.Namespace.MUC,"history");if(!a.length)return{};var a=a[0],b=a.getAttribute("maxchars")||
"",g=a.getAttribute("maxstanzas")||"",k=a.getAttribute("seconds")||"";a.getAttribute("since");b&&parseInt(b,10);g&&parseInt(g,10);k&&parseInt(k,10)},set:function(a){var b=c.find(this.xml,d.Namespace.MUC,"history");if(b.length)for(var g=0;g<b.length;g++)this.xml.removeChild(b[g]);b=c.createElement(d.Namespace.MUC,"history",d.Namespace.MUC);this.xml.appendChild(b);a.maxchars&&b.setAttribute("maxchars",""+a.maxchars);a.maxstanzas&&b.setAttribute("maxstanzas",""+a.maxstanzas);a.seconds&&b.setAttribute("seconds",
""+a.seconds);a.since&&b.setAttribute("since",a.since.toISOString())}}}}),v=b.define({name:"mucInvite",namespace:d.Namespace.MUC_DIRECT_INVITE,element:"x",fields:{jid:c.jidAttribute("jid"),password:c.attribute("password"),reason:c.attribute("reason"),thread:c.attribute("thread"),"continue":c.boolAttribute("continue")}});b.extend(g,l);b.extend(t,g);b.extend(t,k,"invites");b.extend(t,e);b.extend(t,m);b.extend(f,h);b.extend(r,f,"items");b.extend(w,u);b.extendPresence(t);b.extendPresence(y);b.extendMessage(t);
b.extendMessage(v);b.withIQ(function(a){b.add(a,"mucUnique",c.textSub(d.Namespace.MUC_UNIQUE,"unique"));b.extend(a,r);b.extend(a,w)});b.withDataForm(function(a){b.extend(w,a)})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/nick.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.utils.textSub(a.Namespace.NICK,"nick");d.withPubsubItem(function(a){d.add(a,
"nick",b)});d.withPresence(function(a){d.add(a,"nick",b)});d.withMessage(function(a){d.add(a,"nick",b)})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/oob.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.define({name:"oob",element:"x",namespace:a.Namespace.OOB,fields:{url:d.utils.textSub(a.Namespace.OOB,"url"),desc:d.utils.textSub(a.Namespace.OOB,
"desc")}});d.extendMessage(b,"oobURIs")};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/ping.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.define({name:"ping",namespace:a.Namespace.PING,element:"ping"});d.extendIQ(b)};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/presence.js":[function(e,
h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants"),d={definePresence:function(b,c,d){var l=b.utils;b.define({name:c,namespace:d,element:"presence",topLevel:!0,fields:{lang:l.langAttribute(),id:l.attribute("id"),to:l.jidAttribute("to",!0),from:l.jidAttribute("from",!0),priority:l.numberSub(d,"priority",!1,0),show:l.textSub(d,"show"),type:{get:function(){return l.getAttribute(this.xml,"type","available")},set:function(a){"available"===a&&(a=!1);l.setAttribute(this.xml,"type",
a)}},$status:{get:function(){return l.getSubLangText(this.xml,d,"status",this.lang)}},status:{get:function(){return this.$status[this.lang]||""},set:function(a){l.setSubLangText(this.xml,d,"status",a,this.lang)}},idleSince:l.dateSubAttribute(a.Namespace.IDLE_1,"idle","since"),decloak:l.subAttribute(a.Namespace.DECLOAK_0,"decloak","reason"),avatarId:{get:function(){var b=l.find(this.xml,a.Namespace.VCARD_TEMP_UPDATE,"x");return b.length?l.getSubText(b[0],a.Namespace.VCARD_TEMP_UPDATE,"photo"):""},
set:function(b){var c=l.findOrCreate(this.xml,a.Namespace.VCARD_TEMP_UPDATE,"x");""===b?l.setBoolSub(c,a.Namespace.VCARD_TEMP_UPDATE,"photo",!0):!0!==b&&(b?l.setSubText(c,a.Namespace.VCARD_TEMP_UPDATE,"photo",b):this.xml.removeChild(c))}}}})}};f["default"]=function(b){d.definePresence(b,"presence",a.Namespace.CLIENT);d.definePresence(b,"serverPresence",a.Namespace.SERVER);d.definePresence(b,"componentPresence",a.Namespace.COMPONENT)};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],
"/stanza.io/node_modules/jxt-xmpp/lib/private.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.define({name:"privateStorage",namespace:a.Namespace.PRIVATE,element:"query"});d.extendIQ(b)};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/psa.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants"),d=
["server-unavailable","connection-paused"];f["default"]=function(b){var c=b.define({name:"state",namespace:a.Namespace.PSA,element:"state-annotation",fields:{from:b.utils.jidAttribute("from"),condition:b.utils.enumSub(a.Namespace.PSA,d),description:b.utils.textSub(a.Namespace.PSA,"description")}});b.extendPresence(c)};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/pubsub.js":[function(e,h,f){Object.defineProperty(f,
"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.utils,c=d.define({name:"pubsub",namespace:a.Namespace.PUBSUB,element:"pubsub",fields:{create:{get:function(){var c=b.getSubAttribute(this.xml,a.Namespace.PUBSUB,"create","node");return c?c:b.getBoolSub(this.xml,a.Namespace.PUBSUB,"create")},set:function(c){!0!==c&&c?b.setSubAttribute(this.xml,a.Namespace.PUBSUB,"create","node",c):b.setBoolSub(this.xml,a.Namespace.PUBSUB,"create",c)}},publishOptions:{get:function(){var c=
d.getDefinition("x",a.Namespace.DATAFORM),g=b.find(this.xml,a.Namespace.PUBSUB,"publish-options");if(g.length&&g[0].childNodes.length)return new c({},g[0].childNodes[0])},set:function(c){var g=d.getDefinition("x",a.Namespace.DATAFORM),k=b.findOrCreate(this.xml,a.Namespace.PUBSUB,"publish-options");c&&(c=new g(c),k.appendChild(c.xml))}}}}),g=d.define({name:"config",namespace:a.Namespace.PUBSUB,element:"configure"}),l=d.define({name:"subscribe",namespace:a.Namespace.PUBSUB,element:"subscribe",fields:{node:b.attribute("node"),
jid:b.jidAttribute("jid")}}),m=d.define({name:"subscription",namespace:a.Namespace.PUBSUB,element:"subscription",fields:{node:b.attribute("node"),jid:b.jidAttribute("jid"),subid:b.attribute("subid"),type:b.attribute("subscription"),configurable:b.boolSub("subscribe-options"),configurationRequired:{get:function(){var c=b.find(this.xml,a.Namespace.PUBSUB,"subscribe-options");return c.length?b.getBoolSub(c[0],a.Namespace.PUBSUB,"required"):!1}}}}),k=d.define({name:"subscriptions",namespace:a.Namespace.PUBSUB,
element:"subscriptions",fields:{node:b.attribute("node"),jid:b.jidAttribute("jid")}}),e=d.define({name:"affiliation",namespace:a.Namespace.PUBSUB,element:"affiliation",fields:{node:b.attribute("node"),type:b.attribute("affiliation")}}),f=d.define({name:"affiliations",namespace:a.Namespace.PUBSUB,element:"affiliations",fields:{node:b.attribute("node")}}),h=d.define({name:"subscriptionOptions",namespace:a.Namespace.PUBSUB,element:"options",fields:{node:b.attribute("node"),jid:b.jidAttribute("jid"),
subid:b.attribute("subid")}}),u=d.define({name:"unsubscribe",namespace:a.Namespace.PUBSUB,element:"unsubscribe",fields:{node:b.attribute("node"),subid:b.attribute("subid"),jid:b.jidAttribute("jid")}}),t=d.define({name:"publish",namespace:a.Namespace.PUBSUB,element:"publish",fields:{node:b.attribute("node")}}),r=d.define({name:"retract",namespace:a.Namespace.PUBSUB,element:"retract",fields:{node:b.attribute("node"),notify:b.boolAttribute("notify"),id:b.subAttribute(a.Namespace.PUBSUB,"item","id")}}),
w=d.define({name:"retrieve",namespace:a.Namespace.PUBSUB,element:"items",fields:{node:b.attribute("node"),max:b.attribute("max_items")}}),y=d.define({name:"item",namespace:a.Namespace.PUBSUB,element:"item",fields:{id:b.attribute("id")}});d.extend(c,g);d.extend(c,l);d.extend(c,u);d.extend(c,t);d.extend(c,r);d.extend(c,w);d.extend(c,m);d.extend(c,h);d.extend(c,k);d.extend(c,f);d.extend(t,y,"items");d.extend(w,y,"items");d.extend(k,m,"list");d.extend(f,e,"list");d.extendIQ(c);d.withDataForm(function(a){d.extend(h,
a);d.extend(y,a);d.extend(g,a)});d.withDefinition("set",a.Namespace.RSM,function(a){d.extend(c,a)})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/pubsubError.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants"),d="closed-node configuration-required invalid-jid invalid-options invalid-payload invalid-subid item-forbidden item-required jid-required max-items-exceeded max-nodes-exceeded nodeid-required not-in-roster-group not-subscribed payload-too-big payload-required pending-subscription presence-subscription-required subid-required too-many-subscriptions unsupported unsupported-access-model".split(" ");
f["default"]=function(b){b.withStanzaError(function(c){b.add(c,"pubsubCondition",b.utils.enumSub(a.Namespace.PUBSUB_ERRORS,d));b.add(c,"pubsubUnsupportedFeature",{get:function(){return b.utils.getSubAttribute(this.xml,a.Namespace.PUBSUB_ERRORS,"unsupported","feature")},set:function(c){c&&(this.pubsubCondition="unsupported");b.utils.setSubAttribute(this.xml,a.Namespace.PUBSUB_ERRORS,"unsupported","feature",c)}})})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],
"/stanza.io/node_modules/jxt-xmpp/lib/pubsubEvents.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.utils,c=d.define({name:"event",namespace:a.Namespace.PUBSUB_EVENT,element:"event"}),g=d.define({name:"purged",namespace:a.Namespace.PUBSUB_EVENT,element:"purge",fields:{node:b.attribute("node")}}),l=d.define({name:"deleted",namespace:a.Namespace.PUBSUB_EVENT,element:"delete",fields:{node:b.attribute("node"),redirect:b.subAttribute(a.Namespace.PUBSUB_EVENT,
"redirect","uri")}}),m=d.define({name:"subscriptionChanged",namespace:a.Namespace.PUBSUB_EVENT,element:"subscription",fields:{node:b.attribute("node"),jid:b.jidAttribute("jid"),type:b.attribute("subscription"),subid:b.attribute("subid"),expiry:{get:function(){var a=b.getAttribute(this.xml,"expiry");if("presence"===a)return a;if(a)return new Date(a)},set:function(a){a&&("string"!==typeof a&&(a=a.toISOString()),b.setAttribute(this.xml,"expiry",a))}}}}),k=d.define({name:"configurationChanged",namespace:a.Namespace.PUBSUB_EVENT,
element:"configuration",fields:{node:b.attribute("node")}}),e=d.define({name:"updated",namespace:a.Namespace.PUBSUB_EVENT,element:"items",fields:{node:b.attribute("node"),retracted:{get:function(){var c=[];b.find(this.xml,a.Namespace.PUBSUB_EVENT,"retract").forEach(function(a){c.push(a.getAttribute("id"))});return c},set:function(c){c.forEach(function(c){var d=b.createElement(a.Namespace.PUBSUB_EVENT,"retract",a.Namespace.PUBSUB_EVENT);d.setAttribute("id",c);this.xml.appendChild(d)})}}}}),f=d.define({name:"_eventItem",
namespace:a.Namespace.PUBSUB_EVENT,element:"item",fields:{id:b.attribute("id"),node:b.attribute("node"),publisher:b.jidAttribute("publisher")}});d.extend(e,f,"published");d.extend(c,e);d.extend(c,m);d.extend(c,k);d.extend(c,l);d.extend(c,g);d.extendMessage(c);d.withDataForm(function(a){d.extend(k,a)})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/pubsubOwner.js":[function(e,h,f){Object.defineProperty(f,"__esModule",
{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.utils,c=d.define({name:"pubsubOwner",namespace:a.Namespace.PUBSUB_OWNER,element:"pubsub",fields:{purge:b.subAttribute(a.Namespace.PUBSUB_OWNER,"purge","node"),del:b.subAttribute(a.Namespace.PUBSUB_OWNER,"delete","node"),redirect:{get:function(){var c=b.find(this.xml,a.Namespace.PUBSUB_OWNER,"delete");return c.length?b.getSubAttribute(c[0],a.Namespace.PUBSUB_OWNER,"redirect","uri"):""},set:function(c){var d=b.findOrCreate(this.xml,
a.Namespace.PUBSUB_OWNER,"delete");b.setSubAttribute(d,a.Namespace.PUBSUB_OWNER,"redirect","uri",c)}}}}),g=d.define({name:"subscription",namespace:a.Namespace.PUBSUB_OWNER,element:"subscription",fields:{node:b.attribute("node"),jid:b.jidAttribute("jid"),subid:b.attribute("subid"),type:b.attribute("subscription"),configurable:b.boolSub("subscribe-options"),configurationRequired:{get:function(){var c=b.find(this.xml,a.Namespace.PUBSUB_OWNER,"subscribe-options");return c.length?b.getBoolSub(c[0],a.Namespace.PUBSUB_OWNER,
"required"):!1}}}}),l=d.define({name:"subscriptions",namespace:a.Namespace.PUBSUB_OWNER,element:"subscriptions",fields:{node:b.attribute("node")}}),m=d.define({name:"affiliation",namespace:a.Namespace.PUBSUB_OWNER,element:"affiliation",fields:{jid:b.jidAttribute("jid"),type:b.attribute("affiliation")}}),k=d.define({name:"affiliations",namespace:a.Namespace.PUBSUB_OWNER,element:"affiliations",fields:{node:b.attribute("node")}}),e=d.define({name:"config",namespace:a.Namespace.PUBSUB_OWNER,element:"configure",
fields:{node:b.attribute("node")}});d.extend(c,e);d.extend(c,l);d.extend(c,k);d.extend(l,g,"list");d.extend(k,m,"list");d.extendIQ(c);d.withDataForm(function(a){d.extend(e,a)})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/push.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.utils,c=d.define({name:"enablePush",element:"enable",namespace:a.Namespace.PUSH_0,
fields:{jid:b.jidAttribute("jid"),node:b.attribute("node")}}),b=d.define({name:"disablePush",element:"disable",namespace:a.Namespace.PUSH_0,fields:{jid:b.jidAttribute("jid"),node:b.attribute("node")}}),g=d.define({name:"pushNotification",element:"notification",namespace:a.Namespace.PUSH_0});d.withDataForm(function(a){d.extend(g,a);d.extend(c,a)});d.extendIQ(c);d.extendIQ(b)};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/reach.js":[function(e,
h,f){var a=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(f,"__esModule",{value:!0});var d=e("xmpp-constants");e=e("lodash.foreach");var b=a(e);f["default"]=function(a){var g=a.utils,l=a.define({name:"_reachAddr",namespace:d.Namespace.REACH_0,element:"addr",fields:{uri:g.attribute("uri"),$desc:{get:function(){return g.getSubLangText(this.xml,d.Namespace.REACH_0,"desc",this.lang)}},desc:{get:function(){return this.$desc[this.lang]||""},set:function(a){g.setSubLangText(this.xml,
d.Namespace.REACH_0,"desc",a,this.lang)}}}}),m={get:function(){var a=g.find(this.xml,d.Namespace.REACH_0,"reach"),c=[];a.length&&(a=g.find(a[0],d.Namespace.REACH_0,"addr"),(0,b["default"])(a,function(a){c.push(new l({},a))}));return c},set:function(a){var c=g.findOrCreate(this.xml,d.Namespace.REACH_0,"reach");g.setAttribute(c,"xmlns",d.Namespace.REACH_0);(0,b["default"])(a,function(a){a=new l(a);c.appendChild(a.xml)})}};a.withPubsubItem(function(b){a.add(b,"reach",m)});a.withPresence(function(b){a.add(b,
"reach",m)})};h.exports=f["default"]},{"babel-runtime/helpers/interop-require-default":"/stanza.io/node_modules/babel-runtime/helpers/interop-require-default.js","lodash.foreach":"/stanza.io/node_modules/lodash.foreach/index.js","xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/register.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.utils,c=d.define({name:"register",
namespace:a.Namespace.REGISTER,element:"query",fields:{instructions:b.textSub(a.Namespace.REGISTER,"instructions"),registered:b.boolSub(a.Namespace.REGISTER,"registered"),remove:b.boolSub(a.Namespace.REGISTER,"remove"),username:b.textSub(a.Namespace.REGISTER,"username"),nick:b.textSub(a.Namespace.REGISTER,"nick"),password:b.textSub(a.Namespace.REGISTER,"password"),name:b.textSub(a.Namespace.REGISTER,"name"),first:b.textSub(a.Namespace.REGISTER,"first"),last:b.textSub(a.Namespace.REGISTER,"last"),
email:b.textSub(a.Namespace.REGISTER,"email"),address:b.textSub(a.Namespace.REGISTER,"address"),city:b.textSub(a.Namespace.REGISTER,"city"),state:b.textSub(a.Namespace.REGISTER,"state"),zip:b.textSub(a.Namespace.REGISTER,"zip"),phone:b.textSub(a.Namespace.REGISTER,"phone"),url:b.textSub(a.Namespace.REGISTER,"url"),date:b.textSub(a.Namespace.REGISTER,"date"),misc:b.textSub(a.Namespace.REGISTER,"misc"),text:b.textSub(a.Namespace.REGISTER,"text"),key:b.textSub(a.Namespace.REGISTER,"key")}});d.extendIQ(c);
d.withDefinition("x",a.Namespace.OOB,function(a){d.extend(c,a)});d.withDataForm(function(a){d.extend(c,a)})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/roster.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.utils,c=d.define({name:"roster",namespace:a.Namespace.ROSTER,element:"query",fields:{ver:{get:function(){return b.getAttribute(this.xml,
"ver")},set:function(a){b.setAttribute(this.xml,"ver",a,""===a)}}}}),g=d.define({name:"_rosterItem",namespace:a.Namespace.ROSTER,element:"item",fields:{jid:b.jidAttribute("jid",!0),name:b.attribute("name"),subscription:b.attribute("subscription","none"),subscriptionRequested:{get:function(){return"subscribe"===b.getAttribute(this.xml,"ask")}},preApproved:b.boolAttribute(a.Namespace.ROSTER,"approved"),groups:b.multiTextSub(a.Namespace.ROSTER,"group")}});d.extend(c,g,"items");d.extendIQ(c)};h.exports=
f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/rsm.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.utils;d.define({name:"rsm",namespace:a.Namespace.RSM,element:"set",fields:{after:b.textSub(a.Namespace.RSM,"after"),before:{get:function(){return b.getSubText(this.xml,a.Namespace.RSM,"before")},set:function(c){!0===c?b.findOrCreate(this.xml,a.Namespace.RSM,
"before"):b.setSubText(this.xml,a.Namespace.RSM,"before",c)}},count:b.numberSub(a.Namespace.RSM,"count",!1,0),first:b.textSub(a.Namespace.RSM,"first"),firstIndex:b.subAttribute(a.Namespace.RSM,"first","index"),index:b.textSub(a.Namespace.RSM,"index"),last:b.textSub(a.Namespace.RSM,"last"),max:b.textSub(a.Namespace.RSM,"max")}})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/rtp.js":[function(e,h,f){Object.defineProperty(f,
"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.utils,c={get:function(){var c=b.find(this.xml,a.Namespace.JINGLE_RTP_RTCP_FB_0,"rtcp-fb"),d=[];c.forEach(function(a){d.push({type:b.getAttribute(a,"type"),subtype:b.getAttribute(a,"subtype")})});c=b.find(this.xml,a.Namespace.JINGLE_RTP_RTCP_FB_0,"rtcp-fb-trr-int");c.forEach(function(a){d.push({type:b.getAttribute(a,"type"),value:b.getAttribute(a,"value")})});return d},set:function(c){var d=this,g=b.find(this.xml,a.Namespace.JINGLE_RTP_RTCP_FB_0,
"rtcp-fb");g.forEach(function(a){d.xml.removeChild(a)});g=b.find(this.xml,a.Namespace.JINGLE_RTP_RTCP_FB_0,"rtcp-fb-trr-int");g.forEach(function(a){d.xml.removeChild(a)});c.forEach(function(c){var g;"trr-int"===c.type?(g=b.createElement(a.Namespace.JINGLE_RTP_RTCP_FB_0,"rtcp-fb-trr-int",a.Namespace.JINGLE_RTP_1),b.setAttribute(g,"type",c.type),b.setAttribute(g,"value",c.value)):(g=b.createElement(a.Namespace.JINGLE_RTP_RTCP_FB_0,"rtcp-fb",a.Namespace.JINGLE_RTP_1),b.setAttribute(g,"type",c.type),
b.setAttribute(g,"subtype",c.subtype));d.xml.appendChild(g)})}},g=d.define({name:"bandwidth",namespace:a.Namespace.JINGLE_RTP_1,element:"bandwidth",fields:{type:b.attribute("type"),bandwidth:b.text()}}),l=d.define({name:"_rtp",namespace:a.Namespace.JINGLE_RTP_1,element:"description",tags:["jingle-application"],fields:{applicationType:{value:"rtp"},media:b.attribute("media"),ssrc:b.attribute("ssrc"),mux:b.boolSub(a.Namespace.JINGLE_RTP_1,"rtcp-mux"),encryption:{get:function(){var c=b.find(this.xml,
a.Namespace.JINGLE_RTP_1,"encryption");if(!c.length)return[];var c=c[0],d=this,g=[];b.find(c,a.Namespace.JINGLE_RTP_1,"crypto").forEach(function(a){g.push((new m({},a,d)).toJSON())});return g},set:function(c){var d=b.find(this.xml,a.Namespace.JINGLE_RTP_1,"encryption");d.length&&this.xml.removeChild(d);if(c.length){b.setBoolSubAttribute(this.xml,a.Namespace.JINGLE_RTP_1,"encryption","required",!0);var d=b.find(this.xml,a.Namespace.JINGLE_RTP_1,"encryption")[0],g=this;c.forEach(function(a){a=new m(a,
null,g);d.appendChild(a.xml)})}}},feedback:c,headerExtensions:{get:function(){var c=[];b.find(this.xml,a.Namespace.JINGLE_RTP_HDREXT_0,"rtp-hdrext").forEach(function(a){c.push({id:b.getAttribute(a,"id"),uri:b.getAttribute(a,"uri"),senders:b.getAttribute(a,"senders")})});return c},set:function(c){var d=this;b.find(this.xml,a.Namespace.JINGLE_RTP_HDREXT_0,"rtp-hdrext").forEach(function(a){d.xml.removeChild(a)});c.forEach(function(c){var g=b.createElement(a.Namespace.JINGLE_RTP_HDREXT_0,"rtp-hdrext",
a.Namespace.JINGLE_RTP_1);b.setAttribute(g,"id",c.id);b.setAttribute(g,"uri",c.uri);b.setAttribute(g,"senders",c.senders);d.xml.appendChild(g)})}}}}),c=d.define({name:"_payloadType",namespace:a.Namespace.JINGLE_RTP_1,element:"payload-type",fields:{channels:b.attribute("channels"),clockrate:b.attribute("clockrate"),id:b.attribute("id"),maxptime:b.attribute("maxptime"),name:b.attribute("name"),ptime:b.attribute("ptime"),feedback:c,parameters:{get:function(){var c=[];b.find(this.xml,a.Namespace.JINGLE_RTP_1,
"parameter").forEach(function(a){c.push({key:b.getAttribute(a,"name"),value:b.getAttribute(a,"value")})});return c},set:function(c){var d=this;c.forEach(function(c){var g=b.createElement(a.Namespace.JINGLE_RTP_1,"parameter");b.setAttribute(g,"name",c.key);b.setAttribute(g,"value",c.value);d.xml.appendChild(g)})}}}}),m=d.define({name:"crypto",namespace:a.Namespace.JINGLE_RTP_1,element:"crypto",fields:{cipherSuite:b.attribute("crypto-suite"),keyParams:b.attribute("key-params"),sessionParams:b.attribute("session-params"),
tag:b.attribute("tag")}}),k=d.define({name:"_group",namespace:a.Namespace.JINGLE_GROUPING_0,element:"group",fields:{semantics:b.attribute("semantics"),contents:b.multiSubAttribute(a.Namespace.JINGLE_GROUPING_0,"content","name")}}),e=d.define({name:"_sourceGroup",namespace:a.Namespace.JINGLE_RTP_SSMA_0,element:"ssrc-group",fields:{semantics:b.attribute("semantics"),sources:b.multiSubAttribute(a.Namespace.JINGLE_RTP_SSMA_0,"source","ssrc")}}),f=d.define({name:"_source",namespace:a.Namespace.JINGLE_RTP_SSMA_0,
element:"source",fields:{ssrc:b.attribute("ssrc"),parameters:{get:function(){var c=[];b.find(this.xml,a.Namespace.JINGLE_RTP_SSMA_0,"parameter").forEach(function(a){c.push({key:b.getAttribute(a,"name"),value:b.getAttribute(a,"value")})});return c},set:function(c){var d=this;c.forEach(function(c){var g=b.createElement(a.Namespace.JINGLE_RTP_SSMA_0,"parameter");b.setAttribute(g,"name",c.key);b.setAttribute(g,"value",c.value);d.xml.appendChild(g)})}}}}),h=d.define({name:"mute",namespace:a.Namespace.JINGLE_RTP_INFO_1,
element:"mute",fields:{creator:b.attribute("creator"),name:b.attribute("name")}}),u=d.define({name:"unmute",namespace:a.Namespace.JINGLE_RTP_INFO_1,element:"unmute",fields:{creator:b.attribute("creator"),name:b.attribute("name")}});d.extend(l,g);d.extend(l,c,"payloads");d.extend(l,f,"sources");d.extend(l,e,"sourceGroups");d.withDefinition("content",a.Namespace.JINGLE_1,function(a){d.extend(a,l)});d.withDefinition("jingle",a.Namespace.JINGLE_1,function(c){d.extend(c,h);d.extend(c,u);d.extend(c,k,"groups");
d.add(c,"ringing",b.boolSub(a.Namespace.JINGLE_RTP_INFO_1,"ringing"));d.add(c,"hold",b.boolSub(a.Namespace.JINGLE_RTP_INFO_1,"hold"));d.add(c,"active",b.boolSub(a.Namespace.JINGLE_RTP_INFO_1,"active"))})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/rtt.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants"),d={insert:"t",erase:"e",wait:"w"},b={t:"insert",e:"erase",w:"wait"};
f["default"]=function(c){var g=c.utils,l=c.define({name:"rtt",namespace:a.Namespace.RTT_0,element:"rtt",fields:{id:g.attribute("id"),event:g.attribute("event","edit"),seq:g.numberAttribute("seq"),actions:{get:function(){for(var c=[],d=0,l=this.xml.childNodes.length;d<l;d++){var e=this.xml.childNodes[d],f=e.localName,h={};if(e.namespaceURI===a.Namespace.RTT_0&&b[f]){h.type=b[f];var t=g.getAttribute(e,"p");t&&(h.pos=parseInt(t,10));if(t=g.getAttribute(e,"n"))h.num=parseInt(t,10);(e=g.getText(e))&&"t"===
f&&(h.text=e);c.push(h)}}return c},set:function(b){for(var c=this,l=0,e=this.xml.childNodes.length;l<e;l++)this.xml.removeChild(this.xml.childNodes[l]);b.forEach(function(b){if(d[b.type]){var l=g.createElement(a.Namespace.RTT_0,d[b.type],a.Namespace.RTT_0);void 0!==b.pos&&g.setAttribute(l,"p",b.pos.toString());b.num&&g.setAttribute(l,"n",b.num.toString());b.text&&g.setText(l,b.text);c.xml.appendChild(l)}})}}}});c.extendMessage(l)};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],
"/stanza.io/node_modules/jxt-xmpp/lib/sasl.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants"),d="aborted account-disabled credentials-expired encryption-required incorrect-encoding invalid-authzid invalid-mechanism malformed-request mechanism-too-weak not-authorized temporary-auth-failure".split(" ");f["default"]=function(b){var c=b.utils,g=b.define({name:"sasl",namespace:a.Namespace.SASL,element:"mechanisms",fields:{mechanisms:c.multiTextSub(a.Namespace.SASL,
"mechanism")}});b.define({name:"saslAuth",eventName:"sasl:auth",namespace:a.Namespace.SASL,element:"auth",topLevel:!0,fields:{value:c.text(),mechanism:c.attribute("mechanism")}});b.define({name:"saslChallenge",eventName:"sasl:challenge",namespace:a.Namespace.SASL,element:"challenge",topLevel:!0,fields:{value:c.text()}});b.define({name:"saslResponse",eventName:"sasl:response",namespace:a.Namespace.SASL,element:"response",topLevel:!0,fields:{value:c.text()}});b.define({name:"saslAbort",eventName:"sasl:abort",
namespace:a.Namespace.SASL,element:"abort",topLevel:!0});b.define({name:"saslSuccess",eventName:"sasl:success",namespace:a.Namespace.SASL,element:"success",topLevel:!0,fields:{value:c.text()}});b.define({name:"saslFailure",eventName:"sasl:failure",namespace:a.Namespace.SASL,element:"failure",topLevel:!0,fields:{lang:{get:function(){return this._lang||""},set:function(a){this._lang=a}},condition:c.enumSub(a.Namespace.SASL,d),$text:{get:function(){return c.getSubLangText(this.xml,a.Namespace.SASL,"text",
this.lang)}},text:{get:function(){return this.$text[this.lang]||""},set:function(b){c.setSubLangText(this.xml,a.Namespace.SASL,"text",b,this.lang)}}}});b.extendStreamFeatures(g)};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/session.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.define({name:"session",namespace:a.Namespace.SESSION,
element:"session",fields:{required:d.utils.boolSub(a.Namespace.SESSION,"required"),optional:d.utils.boolSub(a.Namespace.SESSION,"optional")}});d.extendIQ(b);d.extendStreamFeatures(b)};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/shim.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.utils,c={get:function(){var c=b.find(this.xml,a.Namespace.SHIM,
"headers");return c.length?b.getMultiSubText(c[0],a.Namespace.SHIM,"header",function(a){var c=b.getAttribute(a,"name");if(c)return{name:c,value:b.getText(a)}}):[]},set:function(c){var l=b.findOrCreate(this.xml,a.Namespace.SHIM,"headers");d.setMultiSubText(l,a.Namespace.SHIM,"header",c,function(c){var d=b.createElement(a.Namespace.SHIM,"header",a.Namespace.SHIM);b.setAttribute(d,"name",c.name);b.setText(d,c.value);l.appendChild(d)})}};d.withMessage(function(a){d.add(a,"headers",c)});d.withPresence(function(a){d.add(a,
"headers",c)})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/sm.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.utils,c=d.define({name:"streamManagement",namespace:a.Namespace.SMACKS_3,element:"sm"});d.define({name:"smEnable",eventName:"stream:management:enable",namespace:a.Namespace.SMACKS_3,element:"enable",topLevel:!0,fields:{resume:b.boolAttribute("resume")}});
d.define({name:"smEnabled",eventName:"stream:management:enabled",namespace:a.Namespace.SMACKS_3,element:"enabled",topLevel:!0,fields:{id:b.attribute("id"),resume:b.boolAttribute("resume")}});d.define({name:"smResume",eventName:"stream:management:resume",namespace:a.Namespace.SMACKS_3,element:"resume",topLevel:!0,fields:{h:b.numberAttribute("h",!1,0),previd:b.attribute("previd")}});d.define({name:"smResumed",eventName:"stream:management:resumed",namespace:a.Namespace.SMACKS_3,element:"resumed",topLevel:!0,
fields:{h:b.numberAttribute("h",!1,0),previd:b.attribute("previd")}});d.define({name:"smFailed",eventName:"stream:management:failed",namespace:a.Namespace.SMACKS_3,element:"failed",topLevel:!0});d.define({name:"smAck",eventName:"stream:management:ack",namespace:a.Namespace.SMACKS_3,element:"a",topLevel:!0,fields:{h:b.numberAttribute("h",!1,0)}});d.define({name:"smRequest",eventName:"stream:management:request",namespace:a.Namespace.SMACKS_3,element:"r",topLevel:!0});d.extendStreamFeatures(c)};h.exports=
f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/stream.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.utils;d.define({name:"stream",namespace:a.Namespace.STREAM,element:"stream",fields:{lang:b.langAttribute(),id:b.attribute("id"),version:b.attribute("version","1.0"),to:b.jidAttribute("to",!0),from:b.jidAttribute("from",!0)}})};h.exports=f["default"]},
{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/streamError.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants"),d="bad-format bad-namespace-prefix conflict connection-timeout host-gone host-unknown improper-addressing internal-server-error invalid-from invalid-namespace invalid-xml not-authorized not-well-formed policy-violation remote-connection-failed reset resource-constraint restricted-xml see-other-host system-shutdown undefined-condition unsupported-encoding unsupported-feature unsupported-stanza-type unsupported-version".split(" ");
f["default"]=function(b){var c=b.utils;b.define({name:"streamError",namespace:a.Namespace.STREAM,element:"error",topLevel:!0,fields:{lang:{get:function(){return this._lang||""},set:function(a){this._lang=a}},condition:c.enumSub(a.Namespace.STREAM_ERROR,d),seeOtherHost:{get:function(){return c.getSubText(this.xml,a.Namespace.STREAM_ERROR,"see-other-host")},set:function(b){this.condition="see-other-host";c.setSubText(this.xml,a.Namespace.STREAM_ERROR,"see-other-host",b)}},$text:{get:function(){return c.getSubLangText(this.xml,
a.Namespace.STREAM_ERROR,"text",this.lang)}},text:{get:function(){return this.$text[this.lang]||""},set:function(b){c.setSubLangText(this.xml,a.Namespace.STREAM_ERROR,"text",b,this.lang)}}}})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/streamFeatures.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){d.define({name:"streamFeatures",namespace:a.Namespace.STREAM,
element:"features",topLevel:!0});var b=d.define({name:"rosterVersioning",namespace:a.Namespace.ROSTER_VERSIONING,element:"ver"}),c=d.define({name:"subscriptionPreApproval",namespace:a.Namespace.SUBSCRIPTION_PREAPPROVAL,element:"sub"});d.extendStreamFeatures(b);d.extendStreamFeatures(c)};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/time.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=
e("xmpp-constants");f["default"]=function(d){var b=d.define({name:"time",namespace:a.Namespace.TIME,element:"time",fields:{utc:d.utils.dateSub(a.Namespace.TIME,"utc"),tzo:d.utils.tzoSub(a.Namespace.TIME,"tzo",0)}});d.extendIQ(b)};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/tune.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.utils,
b=d.define({name:"tune",namespace:a.Namespace.TUNE,element:"tune",fields:{artist:b.textSub(a.Namespace.TUNE,"artist"),length:b.numberSub(a.Namespace.TUNE,"length"),rating:b.numberSub(a.Namespace.TUNE,"rating"),source:b.textSub(a.Namespace.TUNE,"source"),title:b.textSub(a.Namespace.TUNE,"title"),track:b.textSub(a.Namespace.TUNE,"track"),uri:b.textSub(a.Namespace.TUNE,"uri")}});d.extendPubsubItem(b);d.extendMessage(b)};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],
"/stanza.io/node_modules/jxt-xmpp/lib/vcard.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.utils,c=d.define({name:"vCardTemp",namespace:a.Namespace.VCARD_TEMP,element:"vCard",fields:{role:b.textSub(a.Namespace.VCARD_TEMP,"ROLE"),website:b.textSub(a.Namespace.VCARD_TEMP,"URL"),title:b.textSub(a.Namespace.VCARD_TEMP,"TITLE"),description:b.textSub(a.Namespace.VCARD_TEMP,"DESC"),fullName:b.textSub(a.Namespace.VCARD_TEMP,
"FN"),birthday:b.dateSub(a.Namespace.VCARD_TEMP,"BDAY"),nicknames:b.multiTextSub(a.Namespace.VCARD_TEMP,"NICKNAME"),jids:b.multiTextSub(a.Namespace.VCARD_TEMP,"JABBERID")}}),g=d.define({name:"_email",namespace:a.Namespace.VCARD_TEMP,element:"EMAIL",fields:{email:b.textSub(a.Namespace.VCARD_TEMP,"USERID"),home:b.boolSub(a.Namespace.VCARD_TEMP,"HOME"),work:b.boolSub(a.Namespace.VCARD_TEMP,"WORK"),preferred:b.boolSub(a.Namespace.VCARD_TEMP,"PREF")}}),l=d.define({name:"_tel",namespace:a.Namespace.VCARD_TEMP,
element:"TEL",fields:{number:b.textSub(a.Namespace.VCARD_TEMP,"NUMBER"),home:b.boolSub(a.Namespace.VCARD_TEMP,"HOME"),work:b.boolSub(a.Namespace.VCARD_TEMP,"WORK"),mobile:b.boolSub(a.Namespace.VCARD_TEMP,"CELL"),preferred:b.boolSub(a.Namespace.VCARD_TEMP,"PREF")}}),m=d.define({name:"_address",namespace:a.Namespace.VCARD_TEMP,element:"ADR",fields:{street:b.textSub(a.Namespace.VCARD_TEMP,"STREET"),street2:b.textSub(a.Namespace.VCARD_TEMP,"EXTADD"),country:b.textSub(a.Namespace.VCARD_TEMP,"CTRY"),city:b.textSub(a.Namespace.VCARD_TEMP,
"LOCALITY"),region:b.textSub(a.Namespace.VCARD_TEMP,"REGION"),postalCode:b.textSub(a.Namespace.VCARD_TEMP,"PCODE"),pobox:b.textSub(a.Namespace.VCARD_TEMP,"POBOX"),home:b.boolSub(a.Namespace.VCARD_TEMP,"HOME"),work:b.boolSub(a.Namespace.VCARD_TEMP,"WORK"),preferred:b.boolSub(a.Namespace.VCARD_TEMP,"PREF")}}),k=d.define({name:"organization",namespace:a.Namespace.VCARD_TEMP,element:"ORG",fields:{name:b.textSub(a.Namespace.VCARD_TEMP,"ORGNAME"),unit:b.textSub(a.Namespace.VCARD_TEMP,"ORGUNIT")}}),e=d.define({name:"name",
namespace:a.Namespace.VCARD_TEMP,element:"N",fields:{family:b.textSub(a.Namespace.VCARD_TEMP,"FAMILY"),given:b.textSub(a.Namespace.VCARD_TEMP,"GIVEN"),middle:b.textSub(a.Namespace.VCARD_TEMP,"MIDDLE"),prefix:b.textSub(a.Namespace.VCARD_TEMP,"PREFIX"),suffix:b.textSub(a.Namespace.VCARD_TEMP,"SUFFIX")}}),b=d.define({name:"photo",namespace:a.Namespace.VCARD_TEMP,element:"PHOTO",fields:{type:b.textSub(a.Namespace.VCARD_TEMP,"TYPE"),data:b.textSub(a.Namespace.VCARD_TEMP,"BINVAL"),url:b.textSub(a.Namespace.VCARD_TEMP,
"EXTVAL")}});d.extend(c,g,"emails");d.extend(c,m,"addresses");d.extend(c,l,"phoneNumbers");d.extend(c,k);d.extend(c,e);d.extend(c,b);d.extendIQ(c)};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/version.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){var b=d.define({name:"version",namespace:a.Namespace.VERSION,element:"query",fields:{name:d.utils.textSub(a.Namespace.VERSION,
"name"),version:d.utils.textSub(a.Namespace.VERSION,"version"),os:d.utils.textSub(a.Namespace.VERSION,"os")}});d.extendIQ(b)};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt-xmpp/lib/visibility.js":[function(e,h,f){Object.defineProperty(f,"__esModule",{value:!0});var a=e("xmpp-constants");f["default"]=function(d){d.withIQ(function(b){d.add(b,"visible",d.utils.boolSub(a.Namespace.INVISIBLE_0,"visible"));d.add(b,"invisible",
d.utils.boolSub(a.Namespace.INVISIBLE_0,"invisible"))})};h.exports=f["default"]},{"xmpp-constants":"/stanza.io/node_modules/xmpp-constants/index.js"}],"/stanza.io/node_modules/jxt/index.js":[function(e,h,f){function a(){this._LOOKUP={};this._LOOKUP_EXT={};this._TAGS={};this._CB_DEFINITION={};this._CB_TAG={};this._ID=b.v4();this.utils=d({},c,g)}var d=e("lodash.assign"),b=e("uuid"),c=e("./lib/types"),g=e("./lib/helpers"),l=e("./lib/stanza");a.prototype.use=function(a){a["__JXT_LOADED_"+this._ID]||a(this);
a["__JXT_LOADED_"+this._ID]=!0;return this};a.prototype.getDefinition=function(a,b,c){var d=this._LOOKUP[b+"|"+a];if(c&&!d)throw Error("Could not find definition for <"+a+' xmlns="'+b+'" />');return d};a.prototype.getExtensions=function(a,b){return this._LOOKUP_EXT[b+"|"+a]||{}};a.prototype.withDefinition=function(a,b,c){a=b+"|"+a;this._CB_DEFINITION[a]||(this._CB_DEFINITION[a]=[]);this._CB_DEFINITION[a].push(c);this._LOOKUP[a]&&c(this._LOOKUP[a])};a.prototype.withTag=function(a,b){this._CB_TAG[a]||
(this._CB_TAG[a]=[]);this._CB_TAG[a].push(b);this.tagged(a).forEach(function(a){b(a)})};a.prototype.tagged=function(a){return this._TAGS[a]||[]};a.prototype.build=function(a){var b=this.getDefinition(a.localName,a.namespaceURI);if(b)return new b(null,a)};a.prototype.parse=function(a){if(a=g.parse(a))return this.build(a)};a.prototype.extend=function(a,b,d,g){var l=a.prototype._NS+"|"+a.prototype._EL,m=b.prototype._name,e=b.prototype._NS+"|"+b.prototype._EL;this._LOOKUP[e]=b;this._LOOKUP_EXT[e]||(this._LOOKUP_EXT[e]=
{});this._LOOKUP_EXT[l]||(this._LOOKUP_EXT[l]={});this._LOOKUP_EXT[l][m]=b;(!d||d&&!g)&&this.add(a,m,c.extension(b));d&&this.add(a,d,c.multiExtension(b))};a.prototype.add=function(a,b,c){c.enumerable=!0;Object.defineProperty(a.prototype,b,c)};a.prototype.define=function(a){var b=this,c=l(this,a),d=c.prototype._TAGS,g=c.prototype._NS+"|"+c.prototype._EL;this._LOOKUP[g]=c;d.forEach(function(a){b._TAGS[a]||(b._TAGS[a]=[]);b._TAGS[a].push(c)});Object.keys(a.fields||{}).forEach(function(d){b.add(c,d,a.fields[d])});
this._CB_DEFINITION[g]&&this._CB_DEFINITION[g].forEach(function(a){a(c)});d.forEach(function(a){b._CB_TAG[a]&&b._CB_TAG[a].forEach(function(a){a(c)})});return c};a.createRegistry=function(){return new a};d(a,g);d(a,c);var m=new a;a.define=m.define.bind(m);a.extend=m.extend.bind(m);a.add=m.add.bind(m);a.parse=m.parse.bind(m);a.build=m.build.bind(m);a.getExtensions=m.getExtensions.bind(m);a.getDefinition=m.getDefinition.bind(m);a.withDefinition=m.withDefinition.bind(m);a.withTag=m.withTag.bind(m);a.tagged=
m.tagged.bind(m);a.getGlobalJXT=function(){return m};h.exports=a},{"./lib/helpers":"/stanza.io/node_modules/jxt/lib/helpers.js","./lib/stanza":"/stanza.io/node_modules/jxt/lib/stanza.js","./lib/types":"/stanza.io/node_modules/jxt/lib/types.js","lodash.assign":"/stanza.io/node_modules/lodash.assign/index.js",uuid:"/stanza.io/node_modules/uuid/uuid.js"}],"/stanza.io/node_modules/jxt/lib/helpers.js":[function(e,h,f){var a=e("ltx"),d=e("ltx/lib/DOMElement"),b=f.XML_NS="http://www.w3.org/XML/1998/namespace";
f.parse=function(b){b=a.parse(b,{Element:d});if(1===b.nodeType)return b};f.createElement=function(a,b,c){b=new d(b);c&&c===a||f.setAttribute(b,"xmlns",a);return b};var c=f.find=function(a,b,c){var d=[];c=a.getElementsByTagName(c);for(var e=0,f=c.length;e<f;e++){var h=c[e];h.namespaceURI===b&&h.parentNode===a&&d.push(h)}return d};f.findOrCreate=function(a,b,c){var d=f.find(a,b,c);if(d.length)return d[0];b=f.createElement(b,c,a.namespaceURI);a.appendChild(b);return b};f.getAttribute=function(a,b,c){return a.getAttribute(b)||
c||""};f.getAttributeNS=function(a,b,c,d){return a.getAttributeNS(b,c)||d||""};f.setAttribute=function(a,b,c,d){c||d?a.setAttribute(b,c):a.removeAttribute(b)};f.setAttributeNS=function(a,b,c,d,e){d||e?a.setAttributeNS(b,c,d):a.removeAttributeNS(b,c)};f.getBoolAttribute=function(a,b,c){a=a.getAttribute(b)||c||"";return"true"===a||"1"===a};f.setBoolAttribute=function(a,b,c){c?a.setAttribute(b,"1"):a.removeAttribute(b)};f.getSubAttribute=function(a,b,d,k,e){a=c(a,b,d);if(!a)return"";for(;0<a.length;)return a[0].getAttribute(k)||
e||"";return""};f.setSubAttribute=function(a,b,d,k,e){var h=c(a,b,d);if(h.length)for(a=0;a<h.length;a++)if(e){h[a].setAttribute(k,e);break}else h[a].removeAttribute(k);else e&&(d=f.createElement(b,d,a.namespaceURI),d.setAttribute(k,e),a.appendChild(d))};f.getBoolSubAttribute=function(a,b,c,d,e){a=a.getSubAttribute(b,c,d)||e||"";return"true"===a||"1"===a};f.setBoolSubAttribute=function(a,b,c,d,e){f.setSubAttribute(a,b,c,d,e?"1":"")};f.getText=function(a){return a.textContent};f.setText=function(a,
b){a.textContent=b};f.getSubText=f.getTextSub=function(a,b,d,k){a=c(a,b,d);k=k||"";return a.length?a[0].textContent||k:k};f.setSubText=f.setTextSub=function(a,b,d,k){var e=c(a,b,d);if(e.length)for(var h=0;h<e.length;h++)a.removeChild(e[h]);k&&(b=f.createElement(b,d,a.namespaceURI),!0!==k&&(b.textContent=k),a.appendChild(b))};f.getMultiSubText=function(a,b,d,k){a=c(a,b,d);b=[];k=k||function(a){return a.textContent||""};for(d=0;d<a.length;d++)b.push(k(a[d]));return b};f.setMultiSubText=function(a,b,
d,k,e){var h=c(a,b,d),q=[];e=e||function(c){if(c){var k=f.createElement(b,d,a.namespaceURI);k.textContent=c;a.appendChild(k)}};var q="string"===typeof k?(k||"").split("\n"):k,u;k=0;for(u=h.length;k<u;k++)a.removeChild(h[k]);k=0;for(u=q.length;k<u;k++)e(q[k])};f.getMultiSubAttribute=function(a,b,c,d){return f.getMultiSubText(a,b,c,function(a){return f.getAttribute(a,d)})};f.setMultiSubAttribute=function(a,b,c,d,e){f.setMultiSubText(a,b,c,e,function(e){var h=f.createElement(b,c,a.namespaceURI);f.setAttribute(h,
d,e);a.appendChild(h)})};f.getSubLangText=function(a,d,e,k){a=c(a,d,e);if(!a.length)return{};for(var f={},h=[],q=0;q<a.length;q++)e=a[q],d=e.getAttributeNS(b,"lang")||k,h.push(d),f[d]=e.textContent||"";return f};f.setSubLangText=function(a,d,e,k,h){var n,q;n=c(a,d,e);if(n.length)for(var u=0;u<n.length;u++)a.removeChild(n[u]);if("string"===typeof k)n=f.createElement(d,e,a.namespaceURI),n.textContent=k,a.appendChild(n);else if("object"===typeof k)for(q in k)k.hasOwnProperty(q)&&(n=f.createElement(d,
e,a.namespaceURI),q!==h&&n.setAttributeNS(b,"lang",q),n.textContent=k[q],a.appendChild(n))};f.getBoolSub=function(a,b,d){return!!c(a,b,d).length};f.setBoolSub=function(a,b,d,k){var e=c(a,b,d);if(e.length)for(b=0;b<e.length&&!k;b++)a.removeChild(e[b]);else k&&(k=f.createElement(b,d,a.namespaceURI),a.appendChild(k))}},{ltx:"/stanza.io/node_modules/ltx/index.js","ltx/lib/DOMElement":"/stanza.io/node_modules/ltx/lib/DOMElement.js"}],"/stanza.io/node_modules/jxt/lib/stanza.js":[function(e,h,f){var a=e("./helpers"),
d=e("lodash.assign"),b={constructor:!0,parent:!0,prototype:!0,toJSON:!0,toString:!0,xml:!0};h.exports=function(c,g){function e(b,k,l){var f=this;l=((k||{}).parentNode||(l||{}).xml||{}).namespaceURI;f.xml=k||a.createElement(f._NS,f._EL,l);Object.keys(f._PREFIXES).forEach(function(a){f.xml.setAttribute("xmlns:"+a,f._PREFIXES[a])});f._extensions={};k=0;for(l=f.xml.childNodes.length;k<l;k++){var h=f.xml.childNodes[k],u=c.getDefinition(h.localName,h.namespaceURI);if(void 0!==u){var t=u.prototype._name;
f._extensions[t]=new u(null,h);f._extensions[t].parent=f}}d(f,b);g.init&&g.init.apply(f,[b]);return f}e.prototype._name=g.name;e.prototype._eventname=g.eventName;e.prototype._NS=g.namespace;e.prototype._EL=g.element||g.name;e.prototype._PREFIXES=g.prefixes||{};e.prototype._TAGS=g.tags||[];e.prototype.toString=function(){return this.xml.toString()};e.prototype.toJSON=function(){var a,d={};for(a in this._extensions)this._extensions[a].toJSON&&"_"!==a[0]&&(d[a]=this._extensions[a].toJSON());for(a in this){var g=
!b[a]&&"_"!==a[0],e=c.getExtensions(this._EL,this._NS)[a];if(g&&!e&&(g=this[a],"function"!==typeof g))if(e=Object.prototype.toString.call(g),0<=e.indexOf("Object"))0<Object.keys(g).length&&(d[a]=g);else if(0<=e.indexOf("Array")){if(0<g.length){for(var e=[],l=g.length,f=0;f<l;f++){var h=g[f];"undefined"!==typeof h&&(void 0!==h.toJSON?e.push(h.toJSON()):e.push(h))}d[a]=e}}else void 0!==g&&!1!==g&&""!==g&&(d[a]=g)}return d};return e}},{"./helpers":"/stanza.io/node_modules/jxt/lib/helpers.js","lodash.assign":"/stanza.io/node_modules/lodash.assign/index.js"}],
"/stanza.io/node_modules/jxt/lib/types.js":[function(e,h,f){(function(a){var d=e("./helpers"),b=e("lodash.assign"),c=d.find,g=d.createElement,l=f.field=function(a,b){return function(){var c=Array.prototype.slice.call(arguments);return{get:function(){return a.apply(null,[this.xml].concat(c))},set:function(a){b.apply(null,[this.xml].concat(c).concat([a]))}}}};f.boolAttribute=l(d.getBoolAttribute,d.setBoolAttribute);f.subAttribute=l(d.getSubAttribute,d.setSubAttribute);f.boolSubAttribute=l(d.getSubBoolAttribute,
d.setSubBoolAttribute);f.text=l(d.getText,d.setText);f.textSub=f.subText=l(d.getSubText,d.setSubText);f.multiTextSub=f.multiSubText=l(d.getMultiSubText,d.setMultiSubText);f.multiSubAttribute=l(d.getMultiSubAttribute,d.setMultiSubAttribute);f.langTextSub=f.subLangText=l(d.getSubLangText,d.setSubLangText);f.boolSub=l(d.getBoolSub,d.setBoolSub);f.langAttribute=l(function(a){return a.getAttributeNS(d.XML_NS,"lang")||""},function(a,b){a.setAttributeNS(d.XML_NS,"lang",b)});f.b64Text=l(function(b){return b.textContent&&
"="!==b.textContent?new a(b.textContent,"base64"):""},function(b,c){if("string"===typeof c){var d=(new a(c)).toString("base64");b.textContent=d||"="}else b.textContent=""});f.dateAttribute=function(a,b){return{get:function(){var c=d.getAttribute(this.xml,a);if(c)return new Date(c);if(b)return new Date(Date.now())},set:function(b){b&&("string"!==typeof b&&(b=b.toISOString()),d.setAttribute(this.xml,a,b))}}};f.dateSub=function(a,b,c){return{get:function(){var g=d.getSubText(this.xml,a,b);if(g)return new Date(g);
if(c)return new Date(Date.now())},set:function(c){c&&("string"!==typeof c&&(c=c.toISOString()),d.setSubText(this.xml,a,b,c))}}};f.dateSubAttribute=function(a,b,c,g){return{get:function(){var e=d.getSubAttribute(this.xml,a,b,c);if(e)return new Date(e);if(g)return new Date(Date.now())},set:function(g){g&&("string"!==typeof g&&(g=g.toISOString()),d.setSubAttribute(this.xml,a,b,c,g))}}};f.numberAttribute=function(a,b,c){return{get:function(){var g=b?parseFloat:parseInt,e=d.getAttribute(this.xml,a,"");
if(!e)return c;g=g(e,10);return isNaN(g)?c:g},set:function(b){d.setAttribute(this.xml,a,b.toString())}}};f.numberSub=function(a,b,c,g){return{get:function(){var e=c?parseFloat:parseInt,l=d.getSubText(this.xml,a,b,"");if(!l)return g;e=e(l,10);return isNaN(e)?g:e},set:function(c){d.setSubText(this.xml,a,b,c.toString())}}};f.attribute=function(a,b){return{get:function(){return d.getAttribute(this.xml,a,b)},set:function(b){d.setAttribute(this.xml,a,b)}}};f.attributeNS=function(a,b,c){return{get:function(){return d.getAttributeNS(this.xml,
a,b,c)},set:function(c){d.setAttributeNS(this.xml,a,b,c)}}};f.extension=function(a){return{get:function(){var b=a.prototype._name;if(!this._extensions[b]){var d=c(this.xml,a.prototype._NS,a.prototype._EL);d.length?this._extensions[b]=new a(null,d[0],this):(this._extensions[b]=new a({},null,this),this.xml.appendChild(this._extensions[b].xml));this._extensions[b].parent=this}return this._extensions[b]},set:function(c){if(c){var d=this[a.prototype._name];!0===c&&(c={});b(d,c)}}}};f.multiExtension=function(a){return{get:function(){for(var b=
c(this.xml,a.prototype._NS,a.prototype._EL),d=[],g=0,e=b.length;g<e;g++)d.push(new a({},b[g],this));return d},set:function(b){b=b||[];var d=c(this.xml,a.prototype._NS,a.prototype._EL),g,e;g=0;for(e=d.length;g<e;g++)this.xml.removeChild(d[g]);g=0;for(e=b.length;g<e;g++)d=new a(b[g],null,this),this.xml.appendChild(d.xml)}}};f.enumSub=function(a,b){return{get:function(){var d=this,g=[];b.forEach(function(b){b=c(d.xml,a,b);b.length&&g.push(b[0].nodeName)});return g[0]||""},set:function(d){var e=this,
l=!1;b.forEach(function(b){var g=c(e.xml,a,b);g.length&&(b===d?l=!0:e.xml.removeChild(g[0]))});if(d&&!l){var f=g(a,d);this.xml.appendChild(f)}}}};f.subExtension=function(a,d,e,l){return{get:function(){if(!this._extensions[a]){var b=c(this.xml,d,e);b.length?b=b[0]:(b=g(d,e,this._NS),this.xml.appendChild(b));var f=c(b,l.prototype._NS,l.prototype._EL);f.length?this._extensions[a]=new l(null,f[0],{xml:b}):(this._extensions[a]=new l({},null,{xml:b}),b.appendChild(this._extensions[a].xml));this._extensions[a].parent=
this}return this._extensions[a]},set:function(g){var l=c(this.xml,d,e);l.length&&!g&&this.xml.removeChild(l[0]);g&&(l=this[a],!0===g&&(g={}),b(l,g))}}};f.subMultiExtension=function(a,b,d){return{get:function(){var g=this,e=[],l=c(this.xml,a,b);if(!l.length)return e;l=l[0];c(l,d.prototype._NS,d.prototype._EL).forEach(function(a){e.push(new d({},a,g))});return e},set:function(e){var l=this,f=c(this.xml,a,b);f.length&&l.xml.removeChild(f[0]);e.length&&(f=g(a,b,this._NS),e.forEach(function(a){a=new d(a,
null,l);f.appendChild(a.xml)}),l.xml.appendChild(f))}}}}).call(this,e("buffer").Buffer)},{"./helpers":"/stanza.io/node_modules/jxt/lib/helpers.js",buffer:"/stanza.io/node_modules/buffer/index.js","lodash.assign":"/stanza.io/node_modules/lodash.assign/index.js"}],"/stanza.io/node_modules/lodash._arrayeach/index.js":[function(e,h,f){h.exports=function(a,d){for(var b=-1,c=a.length;++b<c&&!1!==d(a[b],b,a););return a}},{}],"/stanza.io/node_modules/lodash._arrayfilter/index.js":[function(e,h,f){h.exports=
function(a,d){for(var b=-1,c=a.length,g=-1,e=[];++b<c;){var m=a[b];d(m,b,a)&&(e[++g]=m)}return e}},{}],"/stanza.io/node_modules/lodash._arraymap/index.js":[function(e,h,f){h.exports=function(a,d){for(var b=-1,c=a.length,g=Array(c);++b<c;)g[b]=d(a[b],b,a);return g}},{}],"/stanza.io/node_modules/lodash._baseassign/index.js":[function(e,h,f){var a=e("lodash._basecopy"),d=e("lodash.keys");h.exports=function(b,c){return null==c?b:a(c,d(c),b)}},{"lodash._basecopy":"/stanza.io/node_modules/lodash._basecopy/index.js",
"lodash.keys":"/stanza.io/node_modules/lodash.keys/index.js"}],"/stanza.io/node_modules/lodash._basecallback/index.js":[function(e,h,f){function a(a,b,c){if(null!=a){void 0!==c&&c in p(a)&&(b=[c]);c=0;for(var d=b.length;null!=a&&c<d;)a=a[b[c++]];return c&&c==d?a:void 0}}function d(a,b,c){var d=b.length,g=d,e=!c;if(null==a)return!g;for(a=p(a);d--;){var k=b[d];if(e&&k[2]?k[1]!==a[k[0]]:!(k[0]in a))return!1}for(;++d<g;){var k=b[d],l=k[0],m=a[l],f=k[1];if(e&&k[2]){if(void 0===m&&!(l in a))return!1}else if(k=
c?c(m,f,l):void 0,void 0===k?!t(f,m,c,!0):!k)return!1}return!0}function b(a){var b=m(a);if(1==b.length&&b[0][2]){var c=b[0][0],g=b[0][1];return function(a){return null==a?!1:a[c]===g&&(void 0!==g||c in p(a))}}return function(a){return d(a,b)}}function c(b,c){var d=w(b),g=k(b)&&c===c&&!q(c),e=b+"";b=n(b);return function(k){if(null==k)return!1;var l=e;k=p(k);if(!(!d&&g||l in k)){if(1!=b.length){var l=b,m=0,f=-1,h=-1,n=l.length,m=null==m?0:+m||0;0>m&&(m=-m>n?0:n+m);f=void 0===f||f>n?n:+f||0;0>f&&(f+=
n);n=m>f?0:f-m>>>0;m>>>=0;for(f=Array(n);++h<n;)f[h]=l[h+m];k=a(k,f)}if(null==k)return!1;l=(l=b?b.length:0)?b[l-1]:void 0;k=p(k)}return k[l]===c?void 0!==c||l in k:t(c,k[l],void 0,!0)}}function g(a){return function(b){return null==b?void 0:b[a]}}function l(b){var c=b+"";b=n(b);return function(d){return a(d,b,c)}}function m(a){a=y(a);for(var b=a.length;b--;){var c=a[b],d;d=a[b][1];d=d===d&&!q(d);c[2]=d}return a}function k(a,b){var c=typeof a;return"string"==c&&x.test(a)||"number"==c?!0:w(a)?!1:!v.test(a)||
null!=b&&a in p(b)}function p(a){return q(a)?a:Object(a)}function n(a){if(w(a))return a;var b=[];(null==a?"":a+"").replace(A,function(a,c,d,g){b.push(d?g.replace(D,"$1"):c||a)});return b}function q(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function u(a){return a}var t=e("lodash._baseisequal"),r=e("lodash._bindcallback"),w=e("lodash.isarray"),y=e("lodash.pairs"),v=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,x=/^\w*$/,A=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,
D=/\\(\\)?/g;h.exports=function(a,d,e){var m=typeof a;return"function"==m?void 0===d?a:r(a,d,e):null==a?u:"object"==m?b(a):void 0===d?k(a)?g(a):l(a):c(a,d)}},{"lodash._baseisequal":"/stanza.io/node_modules/lodash._baseisequal/index.js","lodash._bindcallback":"/stanza.io/node_modules/lodash._bindcallback/index.js","lodash.isarray":"/stanza.io/node_modules/lodash.isarray/index.js","lodash.pairs":"/stanza.io/node_modules/lodash.pairs/index.js"}],"/stanza.io/node_modules/lodash._basecopy/index.js":[function(e,
h,f){h.exports=function(a,d,b){b||(b={});for(var c=-1,g=d.length;++c<g;){var e=d[c];b[e]=a[e]}return b}},{}],"/stanza.io/node_modules/lodash._baseeach/index.js":[function(e,h,f){function a(a){var b=typeof a;return!a||"object"!=b&&"function"!=b?Object(a):a}var d=e("lodash.keys");e=function(b,d){return function(e,k){var f=e?c(e):0;if(!("number"==typeof f&&-1<f&&0==f%1&&9007199254740991>=f))return b(e,k);for(var h=d?f:-1,q=a(e);(d?h--:++h<f)&&!1!==k(q[h],h,q););return e}}(function(a,c){return b(a,c,
d)});var b=function(b){return function(c,d,e){var f=a(c);e=e(c);for(var h=e.length,q=b?h:-1;b?q--:++q<h;){var u=e[q];if(!1===d(f[u],u,f))break}return c}}(),c=function(a){return function(b){return null==b?void 0:b[a]}}("length");h.exports=e},{"lodash.keys":"/stanza.io/node_modules/lodash.keys/index.js"}],"/stanza.io/node_modules/lodash._basefilter/index.js":[function(e,h,f){var a=e("lodash._baseeach");h.exports=function(d,b){var c=[];a(d,function(a,d,e){b(a,d,e)&&c.push(a)});return c}},{"lodash._baseeach":"/stanza.io/node_modules/lodash._baseeach/index.js"}],
"/stanza.io/node_modules/lodash._baseget/index.js":[function(e,h,f){h.exports=function(a,d,b){if(null!=a){var c;if(c=void 0!==b){c=a;var g=typeof c;c=b in(!c||"object"!=g&&"function"!=g?Object(c):c)}c&&(d=[b]);b=0;for(c=d.length;null!=a&&b<c;)a=a[d[b++]];return b&&b==c?a:void 0}}},{}],"/stanza.io/node_modules/lodash._baseindexof/index.js":[function(e,h,f){h.exports=function(a,d,b){if(d!==d){a:{d=a.length;for(b+=-1;++b<d;){var c=a[b];if(c!==c){a=b;break a}}a=-1}return a}--b;for(c=a.length;++b<c;)if(a[b]===
d)return b;return-1}},{}],"/stanza.io/node_modules/lodash._baseisequal/index.js":[function(e,h,f){function a(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function d(a,e,k,f,h,y){if(a===e)return!0;var v;(v=null==a||null==e)||(v=typeof a,v=!(a&&("object"==v||"function"==v))&&!(e&&"object"==typeof e));if(v)return a!==a&&e!==e;a:{v=l(a);var x=l(e),A="[object Array]",D="[object Array]";v||(A=n.call(a),"[object Arguments]"==A?A="[object Object]":"[object Object]"!=A&&(v=m(a)));x||
(D=n.call(e),"[object Arguments]"==D?D="[object Object]":"[object Object]"!=D&&m(e));var C="[object Object]"==A,x="[object Object]"==D,D=A==D;if(!D||v||C){if(!f&&(A=C&&p.call(a,"__wrapped__"),x=x&&p.call(e,"__wrapped__"),A||x)){a=d(A?a.value():a,x?e.value():e,k,f,h,y);break a}if(D){h||(h=[]);y||(y=[]);for(A=h.length;A--;)if(h[A]==a){a=y[A]==e;break a}h.push(a);y.push(e);a=(v?b:g)(a,e,d,k,f,h,y);h.pop();y.pop()}else a=!1}else a=c(a,e,A)}return a}function b(b,c,d,g,e,k,l){var m=-1,f=b.length,h=c.length;
if(f!=h&&!(e&&h>f))return!1;for(;++m<f;){var p=b[m],h=c[m],n=g?g(e?h:p,e?p:h,m):void 0;if(void 0!==n){if(n)continue;return!1}if(e){if(!a(c,function(a){return p===a||d(p,a,g,e,k,l)}))return!1}else if(p!==h&&!d(p,h,g,e,k,l))return!1}return!0}function c(a,b,c){switch(c){case "[object Boolean]":case "[object Date]":return+a==+b;case "[object Error]":return a.name==b.name&&a.message==b.message;case "[object Number]":return a!=+a?b!=+b:a==+b;case "[object RegExp]":case "[object String]":return a==b+""}return!1}
function g(a,b,c,d,g,e,l){var m=k(a),f=m.length,h=k(b).length;if(f!=h&&!g)return!1;for(h=f;h--;){var n=m[h];if(!(g?n in b:p.call(b,n)))return!1}for(var E=g;++h<f;){var n=m[h],B=a[n],I=b[n],J=d?d(g?I:B,g?B:I,n):void 0;if(void 0===J?!c(B,I,d,g,e,l):!J)return!1;E||(E="constructor"==n)}return E||(c=a.constructor,d=b.constructor,!(c!=d&&"constructor"in a&&"constructor"in b)||"function"==typeof c&&c instanceof c&&"function"==typeof d&&d instanceof d)?!0:!1}var l=e("lodash.isarray"),m=e("lodash.istypedarray"),
k=e("lodash.keys");e=Object.prototype;var p=e.hasOwnProperty,n=e.toString;h.exports=d},{"lodash.isarray":"/stanza.io/node_modules/lodash.isarray/index.js","lodash.istypedarray":"/stanza.io/node_modules/lodash.istypedarray/index.js","lodash.keys":"/stanza.io/node_modules/lodash.keys/index.js"}],"/stanza.io/node_modules/lodash._baseuniq/index.js":[function(e,h,f){var a=e("lodash._baseindexof"),d=e("lodash._cacheindexof"),b=e("lodash._createcache");h.exports=function(c,g){var e=-1,m=a,k=c.length,f=!0,
h=f&&200<=k,q=h?b():null,u=[];q?(m=d,f=!1):(h=!1,q=g?[]:u);a:for(;++e<k;){var t=c[e],r=g?g(t,e,c):t;if(f&&t===t){for(var w=q.length;w--;)if(q[w]===r)continue a;g&&q.push(r);u.push(t)}else 0>m(q,r,0)&&((g||h)&&q.push(r),u.push(t))}return u}},{"lodash._baseindexof":"/stanza.io/node_modules/lodash._baseindexof/index.js","lodash._cacheindexof":"/stanza.io/node_modules/lodash._cacheindexof/index.js","lodash._createcache":"/stanza.io/node_modules/lodash._createcache/index.js"}],"/stanza.io/node_modules/lodash._bindcallback/index.js":[function(e,
h,f){function a(a){return a}h.exports=function(d,b,c){if("function"!=typeof d)return a;if(void 0===b)return d;switch(c){case 1:return function(a){return d.call(b,a)};case 3:return function(a,c,e){return d.call(b,a,c,e)};case 4:return function(a,c,e,k){return d.call(b,a,c,e,k)};case 5:return function(a,c,e,k,f){return d.call(b,a,c,e,k,f)}}return function(){return d.apply(b,arguments)}}},{}],"/stanza.io/node_modules/lodash._cacheindexof/index.js":[function(e,h,f){h.exports=function(a,d){var b=a.data,
c;(c="string"==typeof d)||(c=typeof d,c=!!d&&("object"==c||"function"==c));return(c?b.set.has(d):b.hash[d])?0:-1}},{}],"/stanza.io/node_modules/lodash._createassigner/index.js":[function(e,h,f){var a=e("lodash._bindcallback"),d=e("lodash._isiterateecall"),b=e("lodash.restparam");h.exports=function(c){return b(function(b,e){var m=-1,k=null==b?0:e.length,f=2<k?e[k-2]:void 0,h=2<k?e[2]:void 0,q=1<k?e[k-1]:void 0;"function"==typeof f?(f=a(f,q,5),k-=2):(f="function"==typeof q?q:void 0,k-=f?1:0);h&&d(e[0],
e[1],h)&&(f=3>k?void 0:f,k=1);for(;++m<k;)(h=e[m])&&c(b,h,f);return b})}},{"lodash._bindcallback":"/stanza.io/node_modules/lodash._bindcallback/index.js","lodash._isiterateecall":"/stanza.io/node_modules/lodash._isiterateecall/index.js","lodash.restparam":"/stanza.io/node_modules/lodash.restparam/index.js"}],"/stanza.io/node_modules/lodash._createcache/index.js":[function(e,h,f){(function(a){function d(a){var b=a?a.length:0;for(this.data={hash:g(null),set:new c};b--;)this.push(a[b])}var b=e("lodash._getnative"),
c=b(a,"Set"),g=b(Object,"create");d.prototype.push=function(a){var b=this.data,c;(c="string"==typeof a)||(c=typeof a,c=!!a&&("object"==c||"function"==c));c?b.set.add(a):b.hash[a]=!0};h.exports=function(a){return g&&c?new d(a):null}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"lodash._getnative":"/stanza.io/node_modules/lodash._getnative/index.js"}],"/stanza.io/node_modules/lodash._getnative/index.js":[function(e,h,f){var a=
/^\[object .+?Constructor\]$/;e=Object.prototype;var d=Function.prototype.toString,b=e.toString,c=RegExp("^"+d.call(e.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");h.exports=function(g,e){var f=null==g?void 0:g[e];var k;null==f?k=!1:(k=typeof f,k=!f||"object"!=k&&"function"!=k||"[object Function]"!=b.call(f)?!!f&&"object"==typeof f&&a.test(f):c.test(d.call(f)));return k?f:void 0}},{}],"/stanza.io/node_modules/lodash._isiterateecall/index.js":[function(e,
h,f){var a=/^\d+$/,d=function(a){return function(c){return null==c?void 0:c[a]}}("length");h.exports=function(b,c,g){var e=typeof g;if(!g||"object"!=e&&"function"!=e)return!1;e=typeof c;if("number"==e){if(e=null!=g)e=d(g),e="number"==typeof e&&-1<e&&0==e%1&&9007199254740991>=e;if(e)var e=c,f=g.length,e="number"==typeof e||a.test(e)?+e:-1,e=-1<e&&0==e%1&&e<(null==f?9007199254740991:f)}else e="string"==e&&c in g;return e?(c=g[c],b===b?b===c:c!==c):!1}},{}],"/stanza.io/node_modules/lodash._topath/index.js":[function(e,
h,f){var a=e("lodash.isarray"),d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,b=/\\(\\)?/g;h.exports=function(c){if(a(c))return c;var g=[];(null==c?"":c+"").replace(d,function(a,c,d,e){g.push(d?e.replace(b,"$1"):c||a)});return g}},{"lodash.isarray":"/stanza.io/node_modules/lodash.isarray/index.js"}],"/stanza.io/node_modules/lodash.assign/index.js":[function(e,h,f){var a=e("lodash._baseassign");f=e("lodash._createassigner");var d=e("lodash.keys");e=f(function(b,c,g){if(g)for(var e=
-1,f=d(c),k=f.length;++e<k;){var h=f[e],n=b[h],q=g(n,c[h],h,b,c);(q===q?q===n:n!==n)&&(void 0!==n||h in b)||(b[h]=q)}else b=a(b,c);return b});h.exports=e},{"lodash._baseassign":"/stanza.io/node_modules/lodash._baseassign/index.js","lodash._createassigner":"/stanza.io/node_modules/lodash._createassigner/index.js","lodash.keys":"/stanza.io/node_modules/lodash.keys/index.js"}],"/stanza.io/node_modules/lodash.filter/index.js":[function(e,h,f){var a=e("lodash._arrayfilter"),d=e("lodash._basecallback"),
b=e("lodash._basefilter"),c=e("lodash.isarray");h.exports=function(g,e,f){var k=c(g)?a:b;e=d(e,f,3);return k(g,e)}},{"lodash._arrayfilter":"/stanza.io/node_modules/lodash._arrayfilter/index.js","lodash._basecallback":"/stanza.io/node_modules/lodash._basecallback/index.js","lodash._basefilter":"/stanza.io/node_modules/lodash._basefilter/index.js","lodash.isarray":"/stanza.io/node_modules/lodash.isarray/index.js"}],"/stanza.io/node_modules/lodash.foreach/index.js":[function(e,h,f){f=e("lodash._arrayeach");
var a=e("lodash._baseeach"),d=e("lodash._bindcallback"),b=e("lodash.isarray");e=function(a,g){return function(e,f,k){return"function"==typeof f&&void 0===k&&b(e)?a(e,f):g(e,d(f,k,3))}}(f,a);h.exports=e},{"lodash._arrayeach":"/stanza.io/node_modules/lodash._arrayeach/index.js","lodash._baseeach":"/stanza.io/node_modules/lodash._baseeach/index.js","lodash._bindcallback":"/stanza.io/node_modules/lodash._bindcallback/index.js","lodash.isarray":"/stanza.io/node_modules/lodash.isarray/index.js"}],"/stanza.io/node_modules/lodash.isarguments/index.js":[function(e,
h,f){e=Object.prototype;var a=e.hasOwnProperty,d=e.toString,b=e.propertyIsEnumerable,c=function(a){return function(b){return null==b?void 0:b[a]}}("length");h.exports=function(g){var e;if(e=!!g&&"object"==typeof g){if(e=null!=g)e=c(g),e="number"==typeof e&&-1<e&&0==e%1&&9007199254740991>=e;e&&(e=typeof g,e=!g||"object"!=e&&"function"!=e?"":d.call(g),e=!("[object Function]"==e||"[object GeneratorFunction]"==e))}return e&&a.call(g,"callee")&&(!b.call(g,"callee")||"[object Arguments]"==d.call(g))}},
{}],"/stanza.io/node_modules/lodash.isarray/index.js":[function(e,h,f){var a=/^\[object .+?Constructor\]$/;e=Object.prototype;var d=Function.prototype.toString,b=e.toString,c=RegExp("^"+d.call(e.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e=function(g,e){var f=null==g?void 0:g[e];var k;null==f?k=!1:(k=typeof f,k=!f||"object"!=k&&"function"!=k||"[object Function]"!=b.call(f)?!!f&&"object"==typeof f&&a.test(f):
c.test(d.call(f)));return k?f:void 0}(Array,"isArray")||function(a){var c;if(c=!!a&&"object"==typeof a)c=a.length,c="number"==typeof c&&-1<c&&0==c%1&&9007199254740991>=c;return c&&"[object Array]"==b.call(a)};h.exports=e},{}],"/stanza.io/node_modules/lodash.istypedarray/index.js":[function(e,h,f){var a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=
a["[object Uint32Array]"]=!0;a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var d=Object.prototype.toString;h.exports=function(b){var c;if(c=!!b&&"object"==typeof b)c=b.length,c="number"==typeof c&&-1<c&&0==c%1&&9007199254740991>=c;return c&&!!a[d.call(b)]}},
{}],"/stanza.io/node_modules/lodash.keys/index.js":[function(e,h,f){function a(a,b){a="number"==typeof a||m.test(a)?+a:-1;return-1<a&&0==a%1&&a<(null==b?9007199254740991:b)}function d(a){return"number"==typeof a&&-1<a&&0==a%1&&9007199254740991>=a}function b(b){var e;e=b;if(null==e)e=[];else{c(e)||(e=Object(e));for(var f=e.length,f=f&&d(f)&&(l(e)||g(e))&&f||0,m=e.constructor,h=-1,m="function"==typeof m&&m.prototype===e,p=Array(f),n=0<f;++h<f;)p[h]=h+"";for(var x in e)n&&a(x,f)||"constructor"==x&&(m||
!k.call(e,x))||p.push(x);e=p}h=(f=e.length)&&b.length;x=!!h&&d(h)&&(l(b)||g(b));m=-1;for(p=[];++m<f;)n=e[m],(x&&a(n,h)||k.call(b,n))&&p.push(n);return p}function c(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}f=e("lodash._getnative");var g=e("lodash.isarguments"),l=e("lodash.isarray"),m=/^\d+$/,k=Object.prototype.hasOwnProperty,p=f(Object,"keys"),n=function(a){return function(b){return null==b?void 0:b[a]}}("length");h.exports=p?function(a){var g=null==a?void 0:a.constructor;return"function"==
typeof g&&g.prototype===a||"function"!=typeof a&&null!=a&&d(n(a))?b(a):c(a)?p(a):[]}:b},{"lodash._getnative":"/stanza.io/node_modules/lodash._getnative/index.js","lodash.isarguments":"/stanza.io/node_modules/lodash.isarguments/index.js","lodash.isarray":"/stanza.io/node_modules/lodash.isarray/index.js"}],"/stanza.io/node_modules/lodash.map/index.js":[function(e,h,f){function a(a,b){var c=-1,e=null!=a&&d(m(a))?Array(a.length):[];g(a,function(a,d,g){e[++c]=b(a,d,g)});return e}function d(a){return"number"==
typeof a&&-1<a&&0==a%1&&9007199254740991>=a}var b=e("lodash._arraymap"),c=e("lodash._basecallback"),g=e("lodash._baseeach"),l=e("lodash.isarray"),m=function(a){return function(b){return null==b?void 0:b[a]}}("length");h.exports=function(d,g,e){var f=l(d)?b:a;g=c(g,e,3);return f(d,g)}},{"lodash._arraymap":"/stanza.io/node_modules/lodash._arraymap/index.js","lodash._basecallback":"/stanza.io/node_modules/lodash._basecallback/index.js","lodash._baseeach":"/stanza.io/node_modules/lodash._baseeach/index.js",
"lodash.isarray":"/stanza.io/node_modules/lodash.isarray/index.js"}],"/stanza.io/node_modules/lodash.pairs/index.js":[function(e,h,f){var a=e("lodash.keys");h.exports=function(d){var b=typeof d;d=!d||"object"!=b&&"function"!=b?Object(d):d;for(var b=-1,c=a(d),g=c.length,e=Array(g);++b<g;){var f=c[b];e[b]=[f,d[f]]}return e}},{"lodash.keys":"/stanza.io/node_modules/lodash.keys/index.js"}],"/stanza.io/node_modules/lodash.pluck/index.js":[function(e,h,f){function a(a){return function(b){return null==b?
void 0:b[a]}}function d(a){var d=a+"";a=c(a);return function(c){return b(c,a,d)}}var b=e("lodash._baseget"),c=e("lodash._topath"),g=e("lodash.isarray"),l=e("lodash.map"),m=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,k=/^\w*$/;h.exports=function(b,c){var e;e=typeof c;e="string"==e&&k.test(c)||"number"==e||(g(c)?0:!m.test(c))?a(c):d(c);return l(b,e)}},{"lodash._baseget":"/stanza.io/node_modules/lodash._baseget/index.js","lodash._topath":"/stanza.io/node_modules/lodash._topath/index.js","lodash.isarray":"/stanza.io/node_modules/lodash.isarray/index.js",
"lodash.map":"/stanza.io/node_modules/lodash.map/index.js"}],"/stanza.io/node_modules/lodash.restparam/index.js":[function(e,h,f){var a=Math.max;h.exports=function(d,b){if("function"!=typeof d)throw new TypeError("Expected a function");b=a(void 0===b?d.length-1:+b||0,0);return function(){for(var c=arguments,g=-1,e=a(c.length-b,0),f=Array(e);++g<e;)f[g]=c[b+g];switch(b){case 0:return d.call(this,f);case 1:return d.call(this,c[0],f);case 2:return d.call(this,c[0],c[1],f)}e=Array(b+1);for(g=-1;++g<b;)e[g]=
c[g];e[b]=f;return d.apply(this,e)}}},{}],"/stanza.io/node_modules/lodash.uniq/index.js":[function(e,h,f){var a=e("lodash._basecallback"),d=e("lodash._baseuniq"),b=e("lodash._isiterateecall");h.exports=function(c,g,e,f){if(!c||!c.length)return[];null!=g&&"boolean"!=typeof g&&(f=e,e=b(c,g,f)?void 0:g,g=!1);e=null==e?e:a(e,f,3);if(g){g=e;var k;e=-1;f=c.length;for(var h=-1,n=[];++e<f;){var q=c[e],u=g?g(q,e,c):q;e&&k===u||(k=u,n[++h]=q)}c=n}else c=d(c,e);return c}},{"lodash._basecallback":"/stanza.io/node_modules/lodash._basecallback/index.js",
"lodash._baseuniq":"/stanza.io/node_modules/lodash._baseuniq/index.js","lodash._isiterateecall":"/stanza.io/node_modules/lodash._isiterateecall/index.js"}],"/stanza.io/node_modules/ltx/index.js":[function(e,h,f){var a=e("./lib/parse"),d=e("./lib/Parser"),b=e("./lib/escape"),c=e("./lib/Element"),g=e("./lib/equal"),l=e("./lib/createElement");e=e("./lib/tag");f=h.exports=e;f.Element=c;f.equal=g.equal;f.nameEqual=g.name;f.attrsEqual=g.attrs;f.childrenEqual=g.children;f.createElement=l;f.escapeXML=b.escapeXML;
f.unescapeXML=b.unescapeXML;f.escapeXMLText=b.escapeXMLText;f.unescapeXMLText=b.unescapeXMLText;f.Parser=d;f.parse=a;f.tag=e},{"./lib/Element":"/stanza.io/node_modules/ltx/lib/Element.js","./lib/Parser":"/stanza.io/node_modules/ltx/lib/Parser.js","./lib/createElement":"/stanza.io/node_modules/ltx/lib/createElement.js","./lib/equal":"/stanza.io/node_modules/ltx/lib/equal.js","./lib/escape":"/stanza.io/node_modules/ltx/lib/escape.js","./lib/parse":"/stanza.io/node_modules/ltx/lib/parse.js","./lib/tag":"/stanza.io/node_modules/ltx/lib/tag.js"}],
"/stanza.io/node_modules/ltx/lib/DOMElement.js":[function(e,h,f){function a(a,c){d.call(this,a,c);this.nodeType=1;this.nodeName=this.localName}f=e("inherits");var d=e("./Element");f(a,d);a.prototype._getElement=function(b,c){return new a(b,c)};Object.defineProperty(a.prototype,"localName",{get:function(){return this.getName()}});Object.defineProperty(a.prototype,"namespaceURI",{get:function(){return this.getNS()}});Object.defineProperty(a.prototype,"parentNode",{get:function(){return this.parent}});
Object.defineProperty(a.prototype,"childNodes",{get:function(){return this.children}});Object.defineProperty(a.prototype,"textContent",{get:function(){return this.getText()},set:function(a){this.children.push(a)}});a.prototype.getElementsByTagName=function(a){return this.getChildren(a)};a.prototype.getAttribute=function(a){return this.getAttr(a)};a.prototype.setAttribute=function(a,c){this.attr(a,c)};a.prototype.getAttributeNS=function(a,c){return"http://www.w3.org/XML/1998/namespace"===a?this.getAttr(["xml",
c].join(":")):this.getAttr(c,a)};a.prototype.setAttributeNS=function(a,c,d){(a="http://www.w3.org/XML/1998/namespace"===a?"xml":this.getXmlns()[a]||"")&&this.attr([a,c].join(":"),d)};a.prototype.removeAttribute=function(a){this.attr(a,null)};a.prototype.removeAttributeNS=function(a,c){var d;(d="http://www.w3.org/XML/1998/namespace"===a?"xml":this.getXmlns()[a]||"")&&this.attr([d,c].join(":"),null)};a.prototype.appendChild=function(a){this.cnode(a)};a.prototype.removeChild=function(a){this.remove(a)};
a.createElement=function(b,c){var d=new a(b,c);Array.prototype.slice.call(arguments,2).forEach(function(a){d.appendChild(a)});return d};h.exports=a},{"./Element":"/stanza.io/node_modules/ltx/lib/Element.js",inherits:"/stanza.io/node_modules/inherits/inherits_browser.js"}],"/stanza.io/node_modules/ltx/lib/Element.js":[function(e,h,f){function a(a,b){this.name=a;this.parent=null;this.children=[];this.attrs={};this.setAttrs(b)}f=e("./escape");var d=f.escapeXML,b=f.escapeXMLText;e=e("./equal");var c=
e.equal,g=e.name,l=e.attrs,m=e.children;a.prototype.is=function(a,b){return this.getName()===a&&(!b||this.getNS()===b)};a.prototype.getName=function(){return 0<=this.name.indexOf(":")?this.name.substr(this.name.indexOf(":")+1):this.name};a.prototype.getNS=function(){if(0<=this.name.indexOf(":")){var a=this.name.substr(0,this.name.indexOf(":"));return this.findNS(a)}return this.findNS()};a.prototype.findNS=function(a){if(a){var b="xmlns:"+a;if(this.attrs[b])return this.attrs[b];if(this.parent)return this.parent.findNS(a)}else{if(this.attrs.xmlns)return this.attrs.xmlns;
if(this.parent)return this.parent.findNS()}};a.prototype.getXmlns=function(){var a={};this.parent&&(a=this.parent.getXmlns());for(var b in this.attrs){var c=b.match("xmlns:?(.*)");this.attrs.hasOwnProperty(b)&&c&&(a[this.attrs[b]]=c[1])}return a};a.prototype.setAttrs=function(a){"string"===typeof a?this.attrs.xmlns=a:a&&Object.keys(a).forEach(function(b){this.attrs[b]=a[b]},this)};a.prototype.getAttr=function(a,b){if(!b)return this.attrs[a];var c=this.getXmlns();return c[b]?this.attrs[[c[b],a].join(":")]:
null};a.prototype.getChild=function(a,b){return this.getChildren(a,b)[0]};a.prototype.getChildren=function(a,b){for(var c=[],d=0;d<this.children.length;d++){var g=this.children[d];!g.getName||g.getName()!==a||b&&g.getNS()!==b||c.push(g)}return c};a.prototype.getChildByAttr=function(a,b,c,d){return this.getChildrenByAttr(a,b,c,d)[0]};a.prototype.getChildrenByAttr=function(a,b,c,d){for(var g=[],e=0;e<this.children.length;e++){var f=this.children[e];!f.attrs||f.attrs[a]!==b||c&&f.getNS()!==c||g.push(f);
d&&f.getChildrenByAttr&&g.push(f.getChildrenByAttr(a,b,c,!0))}d&&(g=[].concat.apply([],g));return g};a.prototype.getChildrenByFilter=function(a,b){for(var c=[],d=0;d<this.children.length;d++){var g=this.children[d];a(g)&&c.push(g);b&&g.getChildrenByFilter&&c.push(g.getChildrenByFilter(a,!0))}b&&(c=[].concat.apply([],c));return c};a.prototype.getText=function(){for(var a="",b=0;b<this.children.length;b++){var c=this.children[b];if("string"===typeof c||"number"===typeof c)a+=c}return a};a.prototype.getChildText=
function(a,b){var c=this.getChild(a,b);return c?c.getText():null};a.prototype.getChildElements=function(){return this.getChildrenByFilter(function(b){return b instanceof a})};a.prototype.root=function(){return this.parent?this.parent.root():this};a.prototype.tree=a.prototype.root;a.prototype.up=function(){return this.parent?this.parent:this};a.prototype._getElement=function(b,c){return new a(b,c)};a.prototype.c=function(a,b){return this.cnode(this._getElement(a,b))};a.prototype.cnode=function(a){this.children.push(a);
"object"===typeof a&&(a.parent=this);return a};a.prototype.t=function(a){this.children.push(a);return this};a.prototype.remove=function(a,b){this.children=this.children.filter("string"===typeof a?function(c){return!(c.is&&c.is(a,b))}:function(b){return b!==a});return this};a.prototype.clone=function(){for(var a=this._getElement(this.name,this.attrs),b=0;b<this.children.length;b++){var c=this.children[b];a.cnode(c.clone?c.clone():c)}return a};a.prototype.text=function(a){return a&&1===this.children.length?
(this.children[0]=a,this):this.getText()};a.prototype.attr=function(a,b){return"undefined"!==typeof b||null===b?(this.attrs||(this.attrs={}),this.attrs[a]=b,this):this.attrs[a]};a.prototype.toString=function(){var a="";this.write(function(b){a+=b});return a};a.prototype.toJSON=function(){return{name:this.name,attrs:this.attrs,children:this.children.map(function(a){return a&&a.toJSON?a.toJSON():a})}};a.prototype._addChildren=function(a){a(">");for(var c=0;c<this.children.length;c++){var d=this.children[c];
if(d||0===d)d.write?d.write(a):"string"===typeof d?a(b(d)):d.toString&&a(b(d.toString(10)))}a("</");a(this.name);a(">")};a.prototype.write=function(a){a("<");a(this.name);for(var b in this.attrs){var c=this.attrs[b];null!=c&&(a(" "),a(b),a('="'),"string"!==typeof c&&(c=c.toString()),a(d(c)),a('"'))}0===this.children.length?a("/>"):this._addChildren(a)};a.prototype.nameEquals=function(a){return g(this,a)};a.prototype.attrsEquals=function(a){return l(this,a)};a.prototype.childrenEquals=function(a){return m(this,
a)};a.prototype.equals=function(a){return c(this,a)};h.exports=a},{"./equal":"/stanza.io/node_modules/ltx/lib/equal.js","./escape":"/stanza.io/node_modules/ltx/lib/escape.js"}],"/stanza.io/node_modules/ltx/lib/Parser.js":[function(e,h,f){var a=e("events").EventEmitter;f=e("inherits");var d=e("./Element");e=e("./parsers/ltx");var b=function(b){a.call(this);var d=this.Parser=b&&b.Parser||this.DefaultParser,e=this.Element=b&&b.Element||this.DefaultElement;this.parser=new d;var f,k=this;this.parser.on("startElement",
function(a,b){var c=new e(a,b);f=f?f.cnode(c):c});this.parser.on("endElement",function(a){f&&a===f.name&&(f.parent?f=f.parent:k.tree||(k.tree=f,f=void 0))});this.parser.on("text",function(a){f&&f.t(a)});this.parser.on("error",function(a){k.error=a;k.emit("error",a)})};f(b,a);b.prototype.DefaultParser=e;b.prototype.DefaultElement=d;b.prototype.write=function(a){this.parser.write(a)};b.prototype.end=function(a){this.parser.end(a);this.error||(this.tree?this.emit("tree",this.tree):this.emit("error",
Error("Incomplete document")))};h.exports=b},{"./Element":"/stanza.io/node_modules/ltx/lib/Element.js","./parsers/ltx":"/stanza.io/node_modules/ltx/lib/parsers/ltx.js",events:"/stanza.io/node_modules/events/events.js",inherits:"/stanza.io/node_modules/inherits/inherits_browser.js"}],"/stanza.io/node_modules/ltx/lib/createElement.js":[function(e,h,f){var a=e("./Element");h.exports=function(d,b){var c=new a(d,b);Array.prototype.slice.call(arguments,2).forEach(function(a){c.cnode(a)});return c}},{"./Element":"/stanza.io/node_modules/ltx/lib/Element.js"}],
"/stanza.io/node_modules/ltx/lib/equal.js":[function(e,h,f){function a(a,b){return a.name===b.name}function d(a,b){var d=a.attrs,e=Object.keys(d),f=e.length;if(f!==Object.keys(b.attrs).length)return!1;for(var h=0;h<f;h++){var n=e[h],q=d[n];if(null==q||null==b.attrs[n]){if(q!==b.attrs[n])return!1}else if(q.toString()!==b.attrs[n].toString())return!1}return!0}function b(a,b){var d=a.children,e=d.length;if(e!==b.children.length)return!1;for(var f=0;f<e;f++){var h=d[f];if("string"===typeof h){if(h!==
b.children[f])return!1}else if(!h.equals(b.children[f]))return!1}return!0}h.exports.name=a;h.exports.attrs=d;h.exports.children=b;h.exports.equal=function(c,g){return a(c,g)&&d(c,g)&&b(c,g)?!0:!1}},{}],"/stanza.io/node_modules/ltx/lib/escape.js":[function(e,h,f){f.escapeXML=function(a){return a.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")};f.unescapeXML=function(a){return a.replace(/\&(amp|#38);/g,"&").replace(/\&(lt|#60);/g,"<").replace(/\&(gt|#62);/g,
">").replace(/\&(quot|#34);/g,'"').replace(/\&(apos|#39);/g,"'")};f.escapeXMLText=function(a){return a.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};f.unescapeXMLText=function(a){return a.replace(/\&(amp|#38);/g,"&").replace(/\&(lt|#60);/g,"<").replace(/\&(gt|#62);/g,">")}},{}],"/stanza.io/node_modules/ltx/lib/parse.js":[function(e,h,f){var a=e("./Parser");h.exports=function(d,b){var c;c="function"===typeof b?new b:new a(b);var g=null,e=null;c.on("tree",function(a){g=a});c.on("error",
function(a){e=a});c.write(d);c.end();if(e)throw e;return g}},{"./Parser":"/stanza.io/node_modules/ltx/lib/Parser.js"}],"/stanza.io/node_modules/ltx/lib/parsers/ltx.js":[function(e,h,f){f=e("inherits");var a=e("events").EventEmitter,d=e("../escape").unescapeXML;e=h.exports=function(){a.call(this);var b=0,c,g,e,f,k,h,n=0,q;this._handleTagOpening=function(a,b,c){a?this.emit("endElement",b):(this.emit("startElement",b,c),k&&this.emit("endElement",b))};this.write=function(a){function t(){if("number"===
typeof n){var b=a.slice(n,r);n=void 0;return b}}"string"!==typeof a&&(a=a.toString());var r=0;c&&(a=c+a,r+=c.length,c=null);for(;r<a.length;r++){var w=a.charCodeAt(r);switch(b){case 0:60===w&&((w=t())&&this.emit("text",d(w)),b=2,n=r+1,e={});break;case 2:if(47===w&&n===r)n=r+1,f=!0;else if(33===w||63===w)n=void 0,b=1;else if(32>=w||47===w||62===w)g=t(),r--,b=3;break;case 1:62===w&&(b=0);break;case 3:62===w?(this._handleTagOpening(f,g,e),k=f=e=g=void 0,b=0,n=r+1):47===w?k=!0:32<w&&(n=r,b=4);break;case 4:if(32>=
w||61===w)q=t(),r--,b=5;break;case 5:61===w&&(b=6);break;case 6:if(34===w||39===w)h=w,b=7,n=r+1;break;case 7:w===h&&(w=d(t()),e[q]=w,q=void 0,b=3)}}"number"===typeof n&&n<=a.length&&(c=a.slice(n),n=0)}};f(e,a);e.prototype.end=function(a){a&&this.write(a);this.write=function(){}}},{"../escape":"/stanza.io/node_modules/ltx/lib/escape.js",events:"/stanza.io/node_modules/events/events.js",inherits:"/stanza.io/node_modules/inherits/inherits_browser.js"}],"/stanza.io/node_modules/ltx/lib/tag.js":[function(e,
h,f){var a=e("./escape").escapeXML,d=e("./parse");h.exports=function(){for(var b=arguments[0],c=Array.prototype.slice.call(arguments,1),g="",e=0;e<c.length;e++)g+=b[e],g+=a(c[e]);g+=b[b.length-1];return d(g)}},{"./escape":"/stanza.io/node_modules/ltx/lib/escape.js","./parse":"/stanza.io/node_modules/ltx/lib/parse.js"}],"/stanza.io/node_modules/once/once.js":[function(e,h,f){function a(a){var b=!1;return function(){if(!b)return b=!0,a.apply(this,arguments)}}h.exports=a;a.proto=a(function(){Object.defineProperty(Function.prototype,
"once",{value:function(){return a(this)},configurable:!0})})},{}],"/stanza.io/node_modules/parse-headers/parse-headers.js":[function(e,h,f){var a=e("trim"),d=e("for-each");h.exports=function(b){if(!b)return{};var c={};d(a(b).split("\n"),function(b){var d=b.indexOf(":"),e=a(b.slice(0,d)).toLowerCase();b=a(b.slice(d+1));"undefined"===typeof c[e]?c[e]=b:"[object Array]"===Object.prototype.toString.call(c[e])?c[e].push(b):c[e]=[c[e],b]});return c}},{"for-each":"/stanza.io/node_modules/for-each/index.js",
trim:"/stanza.io/node_modules/trim/index.js"}],"/stanza.io/node_modules/process-nextick-args/index.js":[function(e,h,f){(function(a){function d(b){for(var c=Array(arguments.length-1),d=0;d<c.length;)c[d++]=arguments[d];a.nextTick(function(){b.apply(null,c)})}!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?h.exports=d:h.exports=a.nextTick}).call(this,e("_process"))},{_process:"/stanza.io/node_modules/browserify/node_modules/process/browser.js"}],
"/stanza.io/node_modules/punycode/punycode.js":[function(e,h,f){(function(a){(function(d){function b(a){throw new RangeError(x[a]);}function c(a,b){for(var c=a.length,d=[];c--;)d[c]=b(a[c]);return d}function g(a,b){var d=a.split("@"),g="";1<d.length&&(g=d[0]+"@",a=d[1]);a=a.replace(v,".");d=a.split(".");d=c(d,b).join(".");return g+d}function e(a){for(var b=[],c=0,d=a.length,g,f;c<d;)g=a.charCodeAt(c++),55296<=g&&56319>=g&&c<d?(f=a.charCodeAt(c++),56320==(f&64512)?b.push(((g&1023)<<10)+(f&1023)+65536):
(b.push(g),c--)):b.push(g);return b}function m(a){return c(a,function(a){var b="";65535<a&&(a-=65536,b+=D(a>>>10&1023|55296),a=56320|a&1023);return b+=D(a)}).join("")}function k(a,b){return a+22+75*(26>a)-((0!=b)<<5)}function p(a,b,c){var d=0;a=c?A(a/700):a>>1;for(a+=A(a/b);455<a;d+=36)a=A(a/35);return A(d+36*a/(a+38))}function n(a){var c=[],d=a.length,g,e=0,f=128,k=72,l,h,n,u,q;l=a.lastIndexOf("-");0>l&&(l=0);for(h=0;h<l;++h)128<=a.charCodeAt(h)&&b("not-basic"),c.push(a.charCodeAt(h));for(l=0<l?
l+1:0;l<d;){h=e;g=1;for(n=36;;n+=36){l>=d&&b("invalid-input");u=a.charCodeAt(l++);u=10>u-48?u-22:26>u-65?u-65:26>u-97?u-97:36;(36<=u||u>A((2147483647-e)/g))&&b("overflow");e+=u*g;q=n<=k?1:n>=k+26?26:n-k;if(u<q)break;u=36-q;g>A(2147483647/u)&&b("overflow");g*=u}g=c.length+1;k=p(e-h,g,0==h);A(e/g)>2147483647-f&&b("overflow");f+=A(e/g);e%=g;c.splice(e++,0,f)}return m(c)}function q(a){var c,d,g,f,m,h,n,u,q,t=[],r,w,x;a=e(a);r=a.length;c=128;d=0;m=72;for(h=0;h<r;++h)q=a[h],128>q&&t.push(D(q));for((g=f=
t.length)&&t.push("-");g<r;){n=2147483647;for(h=0;h<r;++h)q=a[h],q>=c&&q<n&&(n=q);w=g+1;n-c>A((2147483647-d)/w)&&b("overflow");d+=(n-c)*w;c=n;for(h=0;h<r;++h)if(q=a[h],q<c&&2147483647<++d&&b("overflow"),q==c){u=d;for(n=36;;n+=36){q=n<=m?1:n>=m+26?26:n-m;if(u<q)break;x=u-q;u=36-q;t.push(D(k(q+x%u,0)));u=A(x/u)}t.push(D(k(u,0)));m=p(d,w,g==f);d=0;++g}++d;++c}return t.join("")}var u="object"==typeof f&&f&&!f.nodeType&&f,t="object"==typeof h&&h&&!h.nodeType&&h,r="object"==typeof a&&a;if(r.global===r||
r.window===r||r.self===r)d=r;var w=/^xn--/,y=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=Math.floor,D=String.fromCharCode,C,r={version:"1.4.1",ucs2:{decode:e,encode:m},decode:n,encode:q,toASCII:function(a){return g(a,function(a){return y.test(a)?"xn--"+q(a):a})},toUnicode:function(a){return g(a,function(a){return w.test(a)?n(a.slice(4).toLowerCase()):
a})}};if(u&&t)if(h.exports==u)t.exports=r;else for(C in r)r.hasOwnProperty(C)&&(u[C]=r[C]);else d.punycode=r})(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],"/stanza.io/node_modules/randombytes/browser.js":[function(e,h,f){(function(a,d,b){function c(){throw Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11");}function g(c,g){if(65536<c)throw Error("requested too many random bytes");
var f=new d.Uint8Array(c);0<c&&e.getRandomValues(f);var h=new b(f.buffer);return"function"===typeof g?a.nextTick(function(){g(null,h)}):h}var e=d.crypto||d.msCrypto;h.exports=e&&e.getRandomValues?g:c}).call(this,e("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},e("buffer").Buffer)},{_process:"/stanza.io/node_modules/browserify/node_modules/process/browser.js",buffer:"/stanza.io/node_modules/buffer/index.js"}],"/stanza.io/node_modules/ripemd160/lib/ripemd160.js":[function(e,
h,f){(function(a){function d(a,b){return a<<b|a>>>32-b}var b=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,
9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],e=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],k=[1352829926,1548603684,1836072691,2053994217,0];h.exports=function(h){var n=[1732584193,4023233417,
2562383102,271733878,3285377520];"string"===typeof h&&(h=new a(h,"utf8"));for(var q=h,u=[],t=0,r=0;t<q.length;t++,r+=8)u[r>>>5]|=q[t]<<24-r%32;q=8*h.length;h=8*h.length;u[q>>>5]|=128<<24-q%32;u[(q+64>>>9<<4)+14]=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360;for(h=0;h<u.length;h+=16){for(var q=n,t=u,r=h,w=0;16>w;w++){var y=r+w,v=t[y];t[y]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360}var x,A,D,C,E,B,I,J;C=y=q[0];E=v=q[1];B=x=q[2];I=A=q[3];J=D=q[4];for(var F,w=0;80>w;w+=1)F=y+t[r+b[w]]|0,F=16>w?
F+((v^x^A)+f[0]):32>w?F+((v&x|~v&A)+f[1]):48>w?F+(((v|~x)^A)+f[2]):64>w?F+((v&A|x&~A)+f[3]):F+((v^(x|~A))+f[4]),F|=0,F=d(F,g[w]),F=F+D|0,y=D,D=A,A=d(x,10),x=v,v=F,F=C+t[r+c[w]]|0,F=16>w?F+((E^(B|~I))+k[0]):32>w?F+((E&I|B&~I)+k[1]):48>w?F+(((E|~B)^I)+k[2]):64>w?F+((E&B|~E&I)+k[3]):F+((E^B^I)+k[4]),F|=0,F=d(F,e[w]),F=F+J|0,C=J,J=I,I=d(B,10),B=E,E=F;F=q[1]+x+I|0;q[1]=q[2]+A+J|0;q[2]=q[3]+D+C|0;q[3]=q[4]+y+E|0;q[4]=q[0]+v+B|0;q[0]=F}for(h=0;5>h;h++)u=n[h],n[h]=(u<<8|u>>>24)&16711935|(u<<24|u>>>8)&4278255360;
u=[];for(h=0;h<32*n.length;h+=8)u.push(n[h>>>5]>>>24-h%32&255);return new a(u)}}).call(this,e("buffer").Buffer)},{buffer:"/stanza.io/node_modules/buffer/index.js"}],"/stanza.io/node_modules/rtcpeerconnection/rtcpeerconnection.js":[function(e,h,f){function a(a,b){var c=this,d;g.call(this);a=a||{};a.iceServers=a.iceServers||[];var e=m.browserDetails.browser;this.enableChromeNativeSimulcast=!1;b&&b.optional&&"chrome"===e&&null===navigator.appVersion.match(/Chromium\//)&&b.optional.forEach(function(a){a.enableChromeNativeSimulcast&&
(c.enableChromeNativeSimulcast=!0)});this.enableMultiStreamHacks=!1;b&&b.optional&&"chrome"===e&&b.optional.forEach(function(a){a.enableMultiStreamHacks&&(c.enableMultiStreamHacks=!0)});this.restrictBandwidth=0;b&&b.optional&&b.optional.forEach(function(a){a.andyetRestrictBandwidth&&(c.restrictBandwidth=a.andyetRestrictBandwidth)});this.batchIceCandidates=0;b&&b.optional&&b.optional.forEach(function(a){a.andyetBatchIce&&(c.batchIceCandidates=a.andyetBatchIce)});this.batchedIceCandidates=[];b&&b.optional&&
"chrome"===e&&b.optional.forEach(function(a){a.andyetFasterICE&&(c.eliminateDuplicateCandidates=a.andyetFasterICE)});b&&b.optional&&b.optional.forEach(function(a){a.andyetDontSignalCandidates&&(c.dontSignalCandidates=a.andyetDontSignalCandidates)});this.assumeSetLocalSuccess=!1;b&&b.optional&&b.optional.forEach(function(a){a.andyetAssumeSetLocalSuccess&&(c.assumeSetLocalSuccess=a.andyetAssumeSetLocalSuccess)});"firefox"===e&&b&&b.optional&&(this.wtFirefox=0,b.optional.forEach(function(a){a.andyetFirefoxMakesMeSad&&
(c.wtFirefox=a.andyetFirefoxMakesMeSad,0<c.wtFirefox&&(c.firefoxcandidatebuffer=[]))}));this.pc=new l(a,b);this.getLocalStreams=this.pc.getLocalStreams.bind(this.pc);this.getRemoteStreams=this.pc.getRemoteStreams.bind(this.pc);this.addStream=this.pc.addStream.bind(this.pc);this.removeStream=this.pc.removeStream.bind(this.pc);this.pc.on("*",function(){c.emit.apply(c,arguments)});this.pc.onremovestream=this.emit.bind(this,"removeStream");this.pc.onaddstream=this.emit.bind(this,"addStream");this.pc.onnegotiationneeded=
this.emit.bind(this,"negotiationNeeded");this.pc.oniceconnectionstatechange=this.emit.bind(this,"iceConnectionStateChange");this.pc.onsignalingstatechange=this.emit.bind(this,"signalingStateChange");this.pc.onicecandidate=this._onIce.bind(this);this.pc.ondatachannel=this._onDataChannel.bind(this);this.localDescription={contents:[]};this.remoteDescription={contents:[]};this.config={debug:!1,ice:{},sid:"",isInitiator:!0,sdpSessionID:Date.now(),useJingle:!1};for(d in a)this.config[d]=a[d];if(this.config.debug)this.on("*",
function(){(a.logger||console).log("PeerConnection event:",arguments)});this.hadRemoteIPv6Candidate=this.hadLocalIPv6Candidate=this.hadRemoteRelayCandidate=this.hadLocalRelayCandidate=this.hadRemoteStunCandidate=this.hadLocalStunCandidate=!1;this._remoteDataChannels=[];this._localDataChannels=[];this._candidateBuffer=[]}f=e("util");var d=e("lodash.foreach"),b=e("lodash.pluck"),c=e("sdp-jingle-json"),g=e("wildemitter"),l=e("traceablepeerconnection"),m=e("webrtc-adapter");f.inherits(a,g);Object.defineProperty(a.prototype,
"signalingState",{get:function(){return this.pc.signalingState}});Object.defineProperty(a.prototype,"iceConnectionState",{get:function(){return this.pc.iceConnectionState}});a.prototype._role=function(){return this.isInitiator?"initiator":"responder"};a.prototype.addStream=function(a){this.localStream=a;this.pc.addStream(a)};a.prototype._checkLocalCandidate=function(a){a=c.toCandidateJSON(a);"srflx"==a.type?this.hadLocalStunCandidate=!0:"relay"==a.type&&(this.hadLocalRelayCandidate=!0);-1!=a.ip.indexOf(":")&&
(this.hadLocalIPv6Candidate=!0)};a.prototype._checkRemoteCandidate=function(a){a=c.toCandidateJSON(a);"srflx"==a.type?this.hadRemoteStunCandidate=!0:"relay"==a.type&&(this.hadRemoteRelayCandidate=!0);-1!=a.ip.indexOf(":")&&(this.hadRemoteIPv6Candidate=!0)};a.prototype.processIce=function(a,d){d=d||function(){};var g=this;if("closed"===this.pc.signalingState)return d();if(a.contents||a.jingle&&a.jingle.contents){var e=b(this.remoteDescription.contents,"name");(a.contents||a.jingle.contents).forEach(function(a){var b=
(a.transport||{}).candidates||[],d=e.indexOf(a.name),f=a.name;b.forEach(function(a){a=c.toCandidateSDP(a)+"\r\n";g.pc.addIceCandidate(new RTCIceCandidate({candidate:a,sdpMLineIndex:d,sdpMid:f}),function(){},function(a){g.emit("error",a)});g._checkRemoteCandidate(a)})})}else{a.candidate&&0!==a.candidate.candidate.indexOf("a=")&&(a.candidate.candidate="a="+a.candidate.candidate);if(this.wtFirefox&&null!==this.firefoxcandidatebuffer&&this.pc.localDescription&&"offer"===this.pc.localDescription.type)return this.firefoxcandidatebuffer.push(a.candidate),
d();g.pc.addIceCandidate(new RTCIceCandidate(a.candidate),function(){},function(a){g.emit("error",a)});g._checkRemoteCandidate(a.candidate.candidate)}d()};a.prototype.offer=function(a,b){var g=this,e=2===arguments.length,f=e&&a?a:{offerToReceiveAudio:1,offerToReceiveVideo:1};b=(b=e?b:a)||function(){};if("closed"===this.pc.signalingState)return b("Already closed");this.pc.createOffer(function(a){var e={type:"offer",sdp:a.sdp};g.assumeSetLocalSuccess&&(g.emit("offer",e),b(null,e));g._candidateBuffer=
[];g.pc.setLocalDescription(a,function(){var f;g.config.useJingle&&(f=c.toSessionJSON(a.sdp,{role:g._role(),direction:"outgoing"}),f.sid=g.config.sid,g.localDescription=f,d(f.contents,function(a){var b=a.transport||{};b.ufrag&&(g.config.ice[a.name]={ufrag:b.ufrag,pwd:b.pwd})}),e.jingle=f);e.sdp.split("\r\n").forEach(function(a){0===a.indexOf("a=candidate:")&&g._checkLocalCandidate(a)});g.assumeSetLocalSuccess||(g.emit("offer",e),b(null,e))},function(a){g.emit("error",a);b(a)})},function(a){g.emit("error",
a);b(a)},f)};a.prototype.handleOffer=function(a,b){b=b||function(){};var d=this;a.type="offer";if(a.jingle){this.enableChromeNativeSimulcast&&a.jingle.contents.forEach(function(a){"video"===a.name&&(a.application.googConferenceFlag=!0)});this.enableMultiStreamHacks&&a.jingle.contents.forEach(function(a){if("video"===a.name){var b=a.application.sources||[];if(0===b.length||"3735928559"!==b[0].ssrc)b.unshift({ssrc:"3735928559",parameters:[{key:"cname",value:"deadbeef"},{key:"msid",value:"mixyourfecintothis please"}]}),
a.application.sources=b}});if(0<d.restrictBandwidth&&2<=a.jingle.contents.length&&"video"===a.jingle.contents[1].name){var g=a.jingle.contents[1];g.application&&g.application.bandwidth||(a.jingle.contents[1].application.bandwidth={type:"AS",bandwidth:d.restrictBandwidth.toString()},a.sdp=c.toSessionSDP(a.jingle,{sid:d.config.sdpSessionID,role:d._role(),direction:"outgoing"}))}a.sdp=c.toSessionSDP(a.jingle,{sid:d.config.sdpSessionID,role:d._role(),direction:"incoming"});d.remoteDescription=a.jingle}a.sdp.split("\r\n").forEach(function(a){0===
a.indexOf("a=candidate:")&&d._checkRemoteCandidate(a)});d.pc.setRemoteDescription(new RTCSessionDescription(a),function(){b()},b)};a.prototype.answerAudioOnly=function(a){this._answer({mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!1}},a)};a.prototype.answerBroadcastOnly=function(a){this._answer({mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}},a)};a.prototype.answer=function(a,b){var c=2===arguments.length;this._answer(c&&a?a:{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}},
c?b:a)};a.prototype.handleAnswer=function(a,b){b=b||function(){};var d=this;a.jingle&&(a.sdp=c.toSessionSDP(a.jingle,{sid:d.config.sdpSessionID,role:d._role(),direction:"incoming"}),d.remoteDescription=a.jingle);a.sdp.split("\r\n").forEach(function(a){0===a.indexOf("a=candidate:")&&d._checkRemoteCandidate(a)});d.pc.setRemoteDescription(new RTCSessionDescription(a),function(){d.wtFirefox&&window.setTimeout(function(){d.firefoxcandidatebuffer.forEach(function(a){d.pc.addIceCandidate(new RTCIceCandidate(a),
function(){},function(a){d.emit("error",a)});d._checkRemoteCandidate(a.candidate)});d.firefoxcandidatebuffer=null},d.wtFirefox);b(null)},b)};a.prototype.close=function(){this.pc.close();this._localDataChannels=[];this._remoteDataChannels=[];this.emit("close")};a.prototype._answer=function(a,b){b=b||function(){};var d=this;if(!this.pc.remoteDescription)throw Error("remoteDescription not set");if("closed"===this.pc.signalingState)return b("Already closed");d.pc.createAnswer(function(a){var g=[];if(d.enableChromeNativeSimulcast&&
(a.jingle=c.toSessionJSON(a.sdp,{role:d._role(),direction:"outgoing"}),2<=a.jingle.contents.length&&"video"===a.jingle.contents[1].name)){var e=a.jingle.contents[1].application.sourceGroups||[],f=!1;e.forEach(function(a){"SIM"==a.semantics&&(f=!0)});if(!f&&a.jingle.contents[1].application.sources.length){var k=JSON.parse(JSON.stringify(a.jingle.contents[1].application.sources[0]));k.ssrc=""+Math.floor(4294967295*Math.random());a.jingle.contents[1].application.sources.push(k);g.push(a.jingle.contents[1].application.sources[0].ssrc);
g.push(k.ssrc);e.push({semantics:"SIM",sources:g});g=JSON.parse(JSON.stringify(k));g.ssrc=""+Math.floor(4294967295*Math.random());a.jingle.contents[1].application.sources.push(g);e.push({semantics:"FID",sources:[k.ssrc,g.ssrc]});a.jingle.contents[1].application.sourceGroups=e;a.sdp=c.toSessionSDP(a.jingle,{sid:d.config.sdpSessionID,role:d._role(),direction:"outgoing"})}}var l={type:"answer",sdp:a.sdp};d.assumeSetLocalSuccess&&(d.emit("answer",l),b(null,l));d._candidateBuffer=[];d.pc.setLocalDescription(a,
function(){if(d.config.useJingle){var g=c.toSessionJSON(a.sdp,{role:d._role(),direction:"outgoing"});g.sid=d.config.sid;d.localDescription=g;l.jingle=g}d.enableChromeNativeSimulcast&&(l.jingle||(l.jingle=c.toSessionJSON(a.sdp,{role:d._role(),direction:"outgoing"})),l.jingle.contents[1].application.sources.forEach(function(a,b){a.parameters=a.parameters.map(function(a){"msid"===a.key&&(a.value+="-"+Math.floor(b/2));return a})}),l.sdp=c.toSessionSDP(l.jingle,{sid:d.sdpSessionID,role:d._role(),direction:"outgoing"}));
l.sdp.split("\r\n").forEach(function(a){0===a.indexOf("a=candidate:")&&d._checkLocalCandidate(a)});d.assumeSetLocalSuccess||(d.emit("answer",l),b(null,l))},function(a){d.emit("error",a);b(a)})},function(a){d.emit("error",a);b(a)},a)};a.prototype._onIce=function(a){var b=this;if(a.candidate){if(!this.dontSignalCandidates){a=a.candidate;var g={candidate:{candidate:a.candidate,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex}};this._checkLocalCandidate(a.candidate);var e=c.toCandidateJSON(a.candidate),
f,l;if(this.eliminateDuplicateCandidates&&"relay"===e.type&&(f=this._candidateBuffer.filter(function(a){return"relay"===a.type}).map(function(a){return a.foundation+":"+a.component}),l=f.indexOf(e.foundation+":"+e.component),-1<l&&e.priority>>24>=f[l].priority>>24)||"max-bundle"===this.config.bundlePolicy&&(f=this._candidateBuffer.filter(function(a){return e.type===a.type}).map(function(a){return a.address+":"+a.port}),l=f.indexOf(e.address+":"+e.port),-1<l))return;if("require"!==this.config.rtcpMuxPolicy||
"2"!==e.component){this._candidateBuffer.push(e);if(b.config.useJingle&&(a.sdpMid||(a.sdpMid=b.pc.remoteDescription&&"offer"===b.pc.remoteDescription.type?b.remoteDescription.contents[a.sdpMLineIndex].name:b.localDescription.contents[a.sdpMLineIndex].name),b.config.ice[a.sdpMid]||(f=c.toSessionJSON(b.pc.localDescription.sdp,{role:b._role(),direction:"outgoing"}),d(f.contents,function(a){var c=a.transport||{};c.ufrag&&(b.config.ice[a.name]={ufrag:c.ufrag,pwd:c.pwd})})),g.jingle={contents:[{name:a.sdpMid,
creator:b._role(),transport:{transportType:"iceUdp",ufrag:b.config.ice[a.sdpMid].ufrag,pwd:b.config.ice[a.sdpMid].pwd,candidates:[e]}}]},0<b.batchIceCandidates)){0===b.batchedIceCandidates.length&&window.setTimeout(function(){var a={};b.batchedIceCandidates.forEach(function(b){b=b.contents[0];a[b.name]||(a[b.name]=b);a[b.name].transport.candidates.push(b.transport.candidates[0])});var c={jingle:{contents:[]}};Object.keys(a).forEach(function(b){c.jingle.contents.push(a[b])});b.batchedIceCandidates=
[];b.emit("ice",c)},b.batchIceCandidates);b.batchedIceCandidates.push(g.jingle);return}this.emit("ice",g)}}}else this.emit("endOfCandidates")};a.prototype._onDataChannel=function(a){a=a.channel;this._remoteDataChannels.push(a);this.emit("addChannel",a)};a.prototype.createDataChannel=function(a,b){var c=this.pc.createDataChannel(a,b);this._localDataChannels.push(c);return c};a.prototype.getStats=function(a){this.pc.getStats(null,function(b){a(null,b)},function(b){a(b)})};h.exports=a},{"lodash.foreach":"/stanza.io/node_modules/lodash.foreach/index.js",
"lodash.pluck":"/stanza.io/node_modules/lodash.pluck/index.js","sdp-jingle-json":"/stanza.io/node_modules/sdp-jingle-json/index.js",traceablepeerconnection:"/stanza.io/node_modules/traceablepeerconnection/index.js",util:"/stanza.io/node_modules/util/util.js","webrtc-adapter":"/stanza.io/node_modules/webrtc-adapter/src/js/adapter_core.js",wildemitter:"/stanza.io/node_modules/wildemitter/wildemitter.js"}],"/stanza.io/node_modules/sasl-anonymous/lib/mechanism.js":[function(e,h,f){(function(a,d){"object"===
typeof f&&d(f,h)})(this,function(a,d){function b(){}b.prototype.name="ANONYMOUS";b.prototype.clientFirst=!0;b.prototype.response=function(a){return a.trace||""};b.prototype.challenge=function(a){};d.exports=b})},{}],"/stanza.io/node_modules/sasl-anonymous/main.js":[function(e,h,f){(function(a,d){"object"===typeof f&&d(f,h,e("./lib/mechanism"))})(this,function(a,d,b){a=d.exports=b;a.Mechanism=b})},{"./lib/mechanism":"/stanza.io/node_modules/sasl-anonymous/lib/mechanism.js"}],"/stanza.io/node_modules/sasl-external/lib/mechanism.js":[function(e,
h,f){(function(a,d){"object"===typeof f&&d(f,h)})(this,function(a,d){function b(){}b.prototype.name="EXTERNAL";b.prototype.clientFirst=!0;b.prototype.response=function(a){return a.authzid||""};b.prototype.challenge=function(a){};d.exports=b})},{}],"/stanza.io/node_modules/sasl-external/main.js":[function(e,h,f){arguments[4]["/stanza.io/node_modules/sasl-anonymous/main.js"][0].apply(f,arguments)},{"./lib/mechanism":"/stanza.io/node_modules/sasl-external/lib/mechanism.js"}],"/stanza.io/node_modules/sasl-plain/lib/mechanism.js":[function(e,
h,f){(function(a,d){"object"===typeof f&&d(f,h)})(this,function(a,d){function b(){}b.prototype.name="PLAIN";b.prototype.clientFirst=!0;b.prototype.response=function(a){var b;b=""+(a.authzid||"");b=b+"\x00"+a.username;return b=b+"\x00"+a.password};b.prototype.challenge=function(a){return this};d.exports=b})},{}],"/stanza.io/node_modules/sasl-plain/main.js":[function(e,h,f){arguments[4]["/stanza.io/node_modules/sasl-anonymous/main.js"][0].apply(f,arguments)},{"./lib/mechanism":"/stanza.io/node_modules/sasl-plain/lib/mechanism.js"}],
"/stanza.io/node_modules/sasl-scram-sha-1/index.js":[function(e,h,f){(function(a){function d(a){a=a||{};this._genNonce=a.genNonce||c.genNonce;this._stage="initial"}var b=e("./lib/bitops"),c=e("./lib/utils"),g={};d.Mechanism=d;d.prototype.name="SCRAM-SHA-1";d.prototype.clientFirst=!0;d.prototype.response=function(a){return g[this._stage](this,a)};d.prototype.challenge=function(b){var d=c.parse(b);this._salt=new a(d.s||"","base64");this._iterationCount=parseInt(d.i,10);this._nonce=d.r;this._verifier=
d.v;this._error=d.e;this._challenge=b;return this};g.initial=function(a,b){a._cnonce=a._genNonce();var d="";b.authzid&&(d="a="+c.saslname(b.authzid));a._gs2Header="n,"+d+",";var d="r="+a._cnonce,g="n="+c.saslname(b.username||"");a._clientFirstMessageBare=g+","+d;d=a._gs2Header+a._clientFirstMessageBare;a._stage="challenge";return d};g.challenge=function(c,d){var g=(new a(c._gs2Header)).toString("base64");c._clientFinalMessageWithoutProof="c="+g+",r="+c._nonce;var e,f,h;d.salt&&0===a.compare(d.salt,
c._salt)?d.clientKey&&d.serverKey?(f=d.clientKey,h=d.serverKey):d.saltedPassword&&(e=d.saltedPassword,f=b.HMAC(e,"Client Key"),h=b.HMAC(e,"Server Key")):(e=b.Hi(d.password||"",c._salt,c._iterationCount),f=b.HMAC(e,"Client Key"),h=b.HMAC(e,"Server Key"));var u=b.H(f),g=c._clientFirstMessageBare+","+c._challenge+","+c._clientFinalMessageWithoutProof,u=b.HMAC(u,g),u=b.XOR(f,u).toString("base64");c._serverSignature=b.HMAC(h,g);g=c._clientFinalMessageWithoutProof+",p="+u;c._stage="final";c.cache={salt:c._salt,
saltedPassword:e,clientKey:f,serverKey:h};return g};g["final"]=function(){return""};h.exports=d}).call(this,e("buffer").Buffer)},{"./lib/bitops":"/stanza.io/node_modules/sasl-scram-sha-1/lib/bitops.js","./lib/utils":"/stanza.io/node_modules/sasl-scram-sha-1/lib/utils.js",buffer:"/stanza.io/node_modules/buffer/index.js"}],"/stanza.io/node_modules/sasl-scram-sha-1/lib/bitops.js":[function(e,h,f){(function(a){var d=e("create-hash"),b=e("create-hmac"),c=e("bitwise-xor");f.XOR=c;f.H=function(a){return d("sha1").update(a).digest()};
f.HMAC=function(a,c){return b("sha1",a).update(c).digest()};f.Hi=function(b,c,d){for(var e=c=f.HMAC(b,a.concat([c,new a([0,0,0,1],"binary")])),h=0;h<d-1;h++)c=f.HMAC(b,c),e=f.XOR(e,c);return e}}).call(this,e("buffer").Buffer)},{"bitwise-xor":"/stanza.io/node_modules/bitwise-xor/index.js",buffer:"/stanza.io/node_modules/buffer/index.js","create-hash":"/stanza.io/node_modules/create-hash/browser.js","create-hmac":"/stanza.io/node_modules/create-hmac/browser.js"}],"/stanza.io/node_modules/sasl-scram-sha-1/lib/utils.js":[function(e,
h,f){var a=e("randombytes");f.parse=function(a){var b={};a=a.split(/,(?=(?:[^"]|"[^"]*")*$)/);for(var c=0,g=a.length;c<g;c++){var e=/(\w+)=["]?([^"]+)["]?$/.exec(a[c]);e&&(b[e[1]]=e[2])}return b};f.saslname=function(a){for(var b=[],c,g=0;g<a.length;g++)c=a[g],","===c?b.push("=2C"):"="===c?b.push("=3D"):b.push(c);return b.join("")};f.genNonce=function(d){return a((d||32)/2).toString("hex")}},{randombytes:"/stanza.io/node_modules/randombytes/browser.js"}],"/stanza.io/node_modules/sasl-x-oauth2/lib/mechanism.js":[function(e,
h,f){(function(a,d){"object"===typeof f&&d(f,h)})(this,function(a,d){function b(){}b.prototype.name="X-OAUTH2";b.prototype.clientFirst=!0;b.prototype.response=function(a){var b;b="\x00"+a.username;return b=b+"\x00"+a.token};b.prototype.challenge=function(a){};d.exports=b})},{}],"/stanza.io/node_modules/sasl-x-oauth2/main.js":[function(e,h,f){arguments[4]["/stanza.io/node_modules/sasl-anonymous/main.js"][0].apply(f,arguments)},{"./lib/mechanism":"/stanza.io/node_modules/sasl-x-oauth2/lib/mechanism.js"}],
"/stanza.io/node_modules/saslmechanisms/lib/factory.js":[function(e,h,f){(function(a,d){"object"===typeof f&&d(f,h)})(this,function(a,d){function b(){this._mechs=[]}b.prototype.use=function(a,b){b||(b=a,a=b.prototype.name);this._mechs.push({name:a,mech:b});return this};b.prototype.create=function(a){for(var b=0,d=this._mechs.length;b<d;b++)for(var e=0,f=a.length;e<f;e++){var h=this._mechs[b];if(h.name==a[e])return new h.mech}return null};d.exports=b})},{}],"/stanza.io/node_modules/saslmechanisms/main.js":[function(e,
h,f){(function(a,d){"object"===typeof f&&d(f,h,e("./lib/factory"))})(this,function(a,d,b){a=d.exports=b;a.Factory=b})},{"./lib/factory":"/stanza.io/node_modules/saslmechanisms/lib/factory.js"}],"/stanza.io/node_modules/sdp-jingle-json/index.js":[function(e,h,f){var a=e("./lib/tosdp"),d=e("./lib/tojson");f.toIncomingSDPOffer=function(b){return a.toSessionSDP(b,{role:"responder",direction:"incoming"})};f.toOutgoingSDPOffer=function(b){return a.toSessionSDP(b,{role:"initiator",direction:"outgoing"})};
f.toIncomingSDPAnswer=function(b){return a.toSessionSDP(b,{role:"initiator",direction:"incoming"})};f.toOutgoingSDPAnswer=function(b){return a.toSessionSDP(b,{role:"responder",direction:"outgoing"})};f.toIncomingMediaSDPOffer=function(b){return a.toMediaSDP(b,{role:"responder",direction:"incoming"})};f.toOutgoingMediaSDPOffer=function(b){return a.toMediaSDP(b,{role:"initiator",direction:"outgoing"})};f.toIncomingMediaSDPAnswer=function(b){return a.toMediaSDP(b,{role:"initiator",direction:"incoming"})};
f.toOutgoingMediaSDPAnswer=function(b){return a.toMediaSDP(b,{role:"responder",direction:"outgoing"})};f.toCandidateSDP=a.toCandidateSDP;f.toMediaSDP=a.toMediaSDP;f.toSessionSDP=a.toSessionSDP;f.toIncomingJSONOffer=function(a,c){return d.toSessionJSON(a,{role:"responder",direction:"incoming",creators:c})};f.toOutgoingJSONOffer=function(a,c){return d.toSessionJSON(a,{role:"initiator",direction:"outgoing",creators:c})};f.toIncomingJSONAnswer=function(a,c){return d.toSessionJSON(a,{role:"initiator",
direction:"incoming",creators:c})};f.toOutgoingJSONAnswer=function(a,c){return d.toSessionJSON(a,{role:"responder",direction:"outgoing",creators:c})};f.toIncomingMediaJSONOffer=function(a,c){return d.toMediaJSON(a,{role:"responder",direction:"incoming",creator:c})};f.toOutgoingMediaJSONOffer=function(a,c){return d.toMediaJSON(a,{role:"initiator",direction:"outgoing",creator:c})};f.toIncomingMediaJSONAnswer=function(a,c){return d.toMediaJSON(a,{role:"initiator",direction:"incoming",creator:c})};f.toOutgoingMediaJSONAnswer=
function(a,c){return d.toMediaJSON(a,{role:"responder",direction:"outgoing",creator:c})};f.toCandidateJSON=d.toCandidateJSON;f.toMediaJSON=d.toMediaJSON;f.toSessionJSON=d.toSessionJSON},{"./lib/tojson":"/stanza.io/node_modules/sdp-jingle-json/lib/tojson.js","./lib/tosdp":"/stanza.io/node_modules/sdp-jingle-json/lib/tosdp.js"}],"/stanza.io/node_modules/sdp-jingle-json/lib/parsers.js":[function(e,h,f){f.lines=function(a){return a.split("\r\n").filter(function(a){return 0<a.length})};f.findLine=function(a,
d,b){for(var c=a.length,e=0;e<d.length;e++)if(d[e].substr(0,c)===a)return d[e];if(!b)return!1;for(d=0;d<b.length;d++)if(b[d].substr(0,c)===a)return b[d];return!1};f.findLines=function(a,d,b){for(var c=[],e=a.length,f=0;f<d.length;f++)d[f].substr(0,e)===a&&c.push(d[f]);if(c.length||!b)return c;for(d=0;d<b.length;d++)b[d].substr(0,e)===a&&c.push(b[d]);return c};f.mline=function(a){a=a.substr(2).split(" ");for(var d={media:a[0],port:a[1],proto:a[2],formats:[]},b=3;b<a.length;b++)a[b]&&d.formats.push(a[b]);
return d};f.rtpmap=function(a){a=a.substr(9).split(" ");var d={id:a.shift()};a=a[0].split("/");d.name=a[0];d.clockrate=a[1];d.channels=3==a.length?a[2]:"1";return d};f.sctpmap=function(a){a=a.substr(10).split(" ");return{number:a.shift(),protocol:a.shift(),streams:a.shift()}};f.fmtp=function(a){for(var d,b=a.substr(a.indexOf(" ")+1).split(";"),c=[],e=0;e<b.length;e++)d=b[e].split("="),a=d[0].trim(),d=d[1],a&&d?c.push({key:a,value:d}):a&&c.push({key:"",value:a});return c};f.crypto=function(a){a=a.substr(9).split(" ");
return{tag:a[0],cipherSuite:a[1],keyParams:a[2],sessionParams:a.slice(3).join(" ")}};f.fingerprint=function(a){a=a.substr(14).split(" ");return{hash:a[0],value:a[1]}};f.extmap=function(a){a=a.substr(9).split(" ");var d={},b=a.shift(),c=b.indexOf("/");0<=c?(d.id=b.substr(0,c),d.senders=b.substr(c+1)):(d.id=b,d.senders="sendrecv");d.uri=a.shift()||"";return d};f.rtcpfb=function(a){a=a.substr(10).split(" ");var d={};d.id=a.shift();d.type=a.shift();"trr-int"===d.type?d.value=a.shift():d.subtype=a.shift()||
"";d.parameters=a;return d};f.candidate=function(a){a=0===a.indexOf("a=candidate:")?a.substring(12).split(" "):a.substring(10).split(" ");for(var d={foundation:a[0],component:a[1],protocol:a[2].toLowerCase(),priority:a[3],ip:a[4],port:a[5],type:a[7],generation:"0"},b=8;b<a.length;b+=2)"raddr"===a[b]?d.relAddr=a[b+1]:"rport"===a[b]?d.relPort=a[b+1]:"generation"===a[b]?d.generation=a[b+1]:"tcptype"===a[b]&&(d.tcpType=a[b+1]);d.network="1";return d};f.sourceGroups=function(a){for(var d=[],b=0;b<a.length;b++){var c=
a[b].substr(13).split(" ");d.push({semantics:c.shift(),sources:c})}return d};f.sources=function(a){for(var d=[],b={},c=0;c<a.length;c++){var e=a[c].substr(7).split(" "),f=e.shift();if(!b[f]){var m={ssrc:f,parameters:[]};d.push(m);b[f]=m}e=e.join(" ").split(":");m=e.shift();e=e.join(":")||null;b[f].parameters.push({key:m,value:e})}return d};f.groups=function(a){for(var d=[],b,c=0;c<a.length;c++)b=a[c].substr(8).split(" "),d.push({semantics:b.shift(),contents:b});return d};f.bandwidth=function(a){a=
a.substr(2).split(":");var d={};d.type=a.shift();d.bandwidth=a.shift();return d};f.msid=function(a){a=a.substr(7);var d=a.split(" ");return{msid:a,mslabel:d[0],label:d[1]}}},{}],"/stanza.io/node_modules/sdp-jingle-json/lib/senders.js":[function(e,h,f){h.exports={initiator:{incoming:{initiator:"recvonly",responder:"sendonly",both:"sendrecv",none:"inactive",recvonly:"initiator",sendonly:"responder",sendrecv:"both",inactive:"none"},outgoing:{initiator:"sendonly",responder:"recvonly",both:"sendrecv",
none:"inactive",recvonly:"responder",sendonly:"initiator",sendrecv:"both",inactive:"none"}},responder:{incoming:{initiator:"sendonly",responder:"recvonly",both:"sendrecv",none:"inactive",recvonly:"responder",sendonly:"initiator",sendrecv:"both",inactive:"none"},outgoing:{initiator:"recvonly",responder:"sendonly",both:"sendrecv",none:"inactive",recvonly:"initiator",sendonly:"responder",sendrecv:"both",inactive:"none"}}}},{}],"/stanza.io/node_modules/sdp-jingle-json/lib/tojson.js":[function(e,h,f){var a=
e("./senders"),d=e("./parsers"),b=Math.random();f._setIdCounter=function(a){b=a};f.toSessionJSON=function(a,b){var e,m=b.creators||[],k=b.role||"initiator",h=b.direction||"outgoing",n=a.split("\r\nm=");for(e=1;e<n.length;e++)n[e]="m="+n[e],e!==n.length-1&&(n[e]+="\r\n");var q=n.shift()+"\r\n",u=d.lines(q),t={},r=[];for(e=0;e<n.length;e++)r.push(f.toMediaJSON(n[e],q,{role:k,direction:h,creator:m[e]||"initiator"}));t.contents=r;e=d.findLines("a=group:",u);e.length&&(t.groups=d.groups(e));return t};
f.toMediaJSON=function(b,e,l){var m=l.creator||"initiator",k=l.role||"initiator",h=l.direction||"outgoing",n=d.lines(b);b=d.lines(e);e=d.mline(n[0]);m={creator:m,name:e.media,application:{applicationType:"rtp",media:e.media,payloads:[],encryption:[],feedback:[],headerExtensions:[]},transport:{transportType:"iceUdp",candidates:[],fingerprints:[]}};"application"==e.media&&(m.application={applicationType:"datachannel"},m.transport.sctp=[]);var q=m.application,u=m.transport;if(e=d.findLine("a=mid:",n))m.name=
e.substr(6);d.findLine("a=sendrecv",n,b)?m.senders="both":d.findLine("a=sendonly",n,b)?m.senders=a[k][h].sendonly:d.findLine("a=recvonly",n,b)?m.senders=a[k][h].recvonly:d.findLine("a=inactive",n,b)&&(m.senders="none");if("rtp"==q.applicationType){if(e=d.findLine("b=",n))q.bandwidth=d.bandwidth(e);if(e=d.findLine("a=ssrc:",n))q.ssrc=e.substr(7).split(" ")[0];d.findLines("a=rtpmap:",n).forEach(function(a){var b=d.rtpmap(a);b.parameters=[];b.feedback=[];d.findLines("a=fmtp:"+b.id,n).forEach(function(a){b.parameters=
d.fmtp(a)});d.findLines("a=rtcp-fb:"+b.id,n).forEach(function(a){b.feedback.push(d.rtcpfb(a))});q.payloads.push(b)});d.findLines("a=crypto:",n,b).forEach(function(a){q.encryption.push(d.crypto(a))});d.findLine("a=rtcp-mux",n)&&(q.mux=!0);d.findLines("a=rtcp-fb:*",n).forEach(function(a){q.feedback.push(d.rtcpfb(a))});d.findLines("a=extmap:",n).forEach(function(b){b=d.extmap(b);b.senders=a[k][h][b.senders];q.headerExtensions.push(b)});e=d.findLines("a=ssrc-group:",n);q.sourceGroups=d.sourceGroups(e||
[]);e=d.findLines("a=ssrc:",n);var t=q.sources=d.sources(e||[]);if(e=d.findLine("a=msid:",n)){var r=d.msid(e);["msid","mslabel","label"].forEach(function(a){for(var b=0;b<t.length;b++){for(var c=!1,d=0;d<t[b].parameters.length;d++)t[b].parameters[d].key===a&&(c=!0);c||t[b].parameters.push({key:a,value:r[a]})}})}d.findLine("a=x-google-flag:conference",n,b)&&(q.googConferenceFlag=!0)}e=d.findLines("a=fingerprint:",n,b);var w=d.findLine("a=setup:",n,b);e.forEach(function(a){a=d.fingerprint(a);w&&(a.setup=
w.substr(8));u.fingerprints.push(a)});e=d.findLine("a=ice-ufrag:",n,b);l=d.findLine("a=ice-pwd:",n,b);e&&l&&(u.ufrag=e.substr(12),u.pwd=l.substr(10),u.candidates=[],d.findLines("a=candidate:",n,b).forEach(function(a){u.candidates.push(f.toCandidateJSON(a))}));"datachannel"==q.applicationType&&d.findLines("a=sctpmap:",n).forEach(function(a){a=d.sctpmap(a);u.sctp.push(a)});return m};f.toCandidateJSON=function(a){a=d.candidate(a.split("\r\n")[0]);a.id=(b++).toString(36).substr(0,12);return a}},{"./parsers":"/stanza.io/node_modules/sdp-jingle-json/lib/parsers.js",
"./senders":"/stanza.io/node_modules/sdp-jingle-json/lib/senders.js"}],"/stanza.io/node_modules/sdp-jingle-json/lib/tosdp.js":[function(e,h,f){var a=e("./senders");f.toSessionSDP=function(a,b){var c=b.sid||a.sid||Date.now(),e=b.time||Date.now(),l=["v=0","o=- "+c+" "+e+" IN IP4 0.0.0.0","s=-","t=0 0"],c=a.contents||[],m=!1;c.forEach(function(a){a.application.sources&&a.application.sources.length&&(m=!0)});m&&l.push("a=msid-semantic: WMS *");(a.groups||[]).forEach(function(a){l.push("a=group:"+a.semantics+
" "+a.contents.join(" "))});c.forEach(function(a){l.push(f.toMediaSDP(a,b))});return l.join("\r\n")+"\r\n"};f.toMediaSDP=function(d,b){var c=[],e=b.role||"initiator",l=b.direction||"outgoing",m=d.application,k=d.transport,h=m.payloads||[],n=k&&k.fingerprints||[],q=[];"datachannel"==m.applicationType?(q.push("application"),q.push("1"),q.push("DTLS/SCTP"),k.sctp&&k.sctp.forEach(function(a){q.push(a.number)})):(q.push(m.media),q.push("1"),0<n.length?q.push("UDP/TLS/RTP/SAVPF"):m.encryption&&0<m.encryption.length?
q.push("RTP/SAVPF"):q.push("RTP/AVPF"),h.forEach(function(a){q.push(a.id)}));c.push("m="+q.join(" "));c.push("c=IN IP4 0.0.0.0");m.bandwidth&&m.bandwidth.type&&m.bandwidth.bandwidth&&c.push("b="+m.bandwidth.type+":"+m.bandwidth.bandwidth);"rtp"==m.applicationType&&c.push("a=rtcp:1 IN IP4 0.0.0.0");k&&(k.ufrag&&c.push("a=ice-ufrag:"+k.ufrag),k.pwd&&c.push("a=ice-pwd:"+k.pwd),n.forEach(function(a){c.push("a=fingerprint:"+a.hash+" "+a.value);a.setup&&c.push("a=setup:"+a.setup)}),k.sctp&&k.sctp.forEach(function(a){c.push("a=sctpmap:"+
a.number+" "+a.protocol+" "+a.streams)}));"rtp"==m.applicationType&&c.push("a="+(a[e][l][d.senders]||"sendrecv"));c.push("a=mid:"+d.name);m.sources&&m.sources.length&&(m.sources[0].parameters||[]).forEach(function(a){"msid"===a.key&&c.push("a=msid:"+a.value)});m.mux&&c.push("a=rtcp-mux");(m.encryption||[]).forEach(function(a){c.push("a=crypto:"+a.tag+" "+a.cipherSuite+" "+a.keyParams+(a.sessionParams?" "+a.sessionParams:""))});m.googConferenceFlag&&c.push("a=x-google-flag:conference");h.forEach(function(a){var b=
"a=rtpmap:"+a.id+" "+a.name+"/"+a.clockrate;a.channels&&"1"!=a.channels&&(b+="/"+a.channels);c.push(b);if(a.parameters&&a.parameters.length){var b=["a=fmtp:"+a.id],d=[];a.parameters.forEach(function(a){d.push((a.key?a.key+"=":"")+a.value)});b.push(d.join(";"));c.push(b.join(" "))}a.feedback&&a.feedback.forEach(function(b){"trr-int"===b.type?c.push("a=rtcp-fb:"+a.id+" trr-int "+(b.value?b.value:"0")):c.push("a=rtcp-fb:"+a.id+" "+b.type+(b.subtype?" "+b.subtype:""))})});m.feedback&&m.feedback.forEach(function(a){"trr-int"===
a.type?c.push("a=rtcp-fb:* trr-int "+(a.value?a.value:"0")):c.push("a=rtcp-fb:* "+a.type+(a.subtype?" "+a.subtype:""))});(m.headerExtensions||[]).forEach(function(b){c.push("a=extmap:"+b.id+(b.senders?"/"+a[e][l][b.senders]:"")+" "+b.uri)});(m.sourceGroups||[]).forEach(function(a){c.push("a=ssrc-group:"+a.semantics+" "+a.sources.join(" "))});(m.sources||[]).forEach(function(a){for(var b=0;b<a.parameters.length;b++){var d=a.parameters[b];c.push("a=ssrc:"+(a.ssrc||m.ssrc)+" "+d.key+(d.value?":"+d.value:
""))}});(k.candidates||[]).forEach(function(a){c.push(f.toCandidateSDP(a))});return c.join("\r\n")};f.toCandidateSDP=function(a){var b=[];b.push(a.foundation);b.push(a.component);b.push(a.protocol.toUpperCase());b.push(a.priority);b.push(a.ip);b.push(a.port);var c=a.type;b.push("typ");b.push(c);("srflx"===c||"prflx"===c||"relay"===c)&&a.relAddr&&a.relPort&&(b.push("raddr"),b.push(a.relAddr),b.push("rport"),b.push(a.relPort));a.tcpType&&"TCP"==a.protocol.toUpperCase()&&(b.push("tcptype"),b.push(a.tcpType));
b.push("generation");b.push(a.generation||"0");return"a=candidate:"+b.join(" ")}},{"./senders":"/stanza.io/node_modules/sdp-jingle-json/lib/senders.js"}],"/stanza.io/node_modules/sha.js/hash.js":[function(e,h,f){(function(a){function d(b,c){this._block=new a(b);this._finalSize=c;this._blockSize=b;this._s=this._len=0}d.prototype.update=function(b,c){"string"===typeof b&&(b=new a(b,c||"utf8"));for(var d=this._len+=b.length,e=this._s||0,f=0,k=this._block;e<d;){for(var h=Math.min(b.length,f+this._blockSize-
e%this._blockSize)-f,n=0;n<h;n++)k[e%this._blockSize+n]=b[n+f];e+=h;f+=h;0===e%this._blockSize&&this._update(k)}this._s=e;return this};d.prototype.digest=function(a){var c=8*this._len;this._block[this._len%this._blockSize]=128;this._block.fill(0,this._len%this._blockSize+1);c%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0));this._block.writeInt32BE(c,this._blockSize-4);c=this._update(this._block)||this._hash();return a?c.toString(a):c};d.prototype._update=function(){throw Error("_update must be implemented by subclass");
};h.exports=d}).call(this,e("buffer").Buffer)},{buffer:"/stanza.io/node_modules/buffer/index.js"}],"/stanza.io/node_modules/sha.js/index.js":[function(e,h,f){f=h.exports=function(a){a=a.toLowerCase();var d=f[a];if(!d)throw Error(a+" is not supported (we accept pull requests)");return new d};f.sha=e("./sha");f.sha1=e("./sha1");f.sha224=e("./sha224");f.sha256=e("./sha256");f.sha384=e("./sha384");f.sha512=e("./sha512")},{"./sha":"/stanza.io/node_modules/sha.js/sha.js","./sha1":"/stanza.io/node_modules/sha.js/sha1.js",
"./sha224":"/stanza.io/node_modules/sha.js/sha224.js","./sha256":"/stanza.io/node_modules/sha.js/sha256.js","./sha384":"/stanza.io/node_modules/sha.js/sha384.js","./sha512":"/stanza.io/node_modules/sha.js/sha512.js"}],"/stanza.io/node_modules/sha.js/sha.js":[function(e,h,f){(function(a){function d(){this.init();this._w=f;c.call(this,64,56)}var b=e("inherits"),c=e("./hash"),g=[1518500249,1859775393,-1894007588,-899497514],f=Array(80);b(d,c);d.prototype.init=function(){this._a=1732584193;this._b=4023233417;
this._c=2562383102;this._d=271733878;this._e=3285377520;return this};d.prototype._update=function(a){for(var b=this._w,c=this._a|0,d=this._b|0,e=this._c|0,f=this._d|0,l=this._e|0,h=0;16>h;++h)b[h]=a.readInt32BE(4*h);for(;80>h;++h)b[h]=b[h-3]^b[h-8]^b[h-14]^b[h-16];for(a=0;80>a;++a){var h=~~(a/20),w=c<<5|c>>>27,y;y=0===h?d&e|~d&f:2===h?d&e|d&f|e&f:d^e^f;h=w+y+l+b[a]+g[h]|0;l=f;f=e;e=d<<30|d>>>2;d=c;c=h}this._a=c+this._a|0;this._b=d+this._b|0;this._c=e+this._c|0;this._d=f+this._d|0;this._e=l+this._e|
0};d.prototype._hash=function(){var b=new a(20);b.writeInt32BE(this._a|0,0);b.writeInt32BE(this._b|0,4);b.writeInt32BE(this._c|0,8);b.writeInt32BE(this._d|0,12);b.writeInt32BE(this._e|0,16);return b};h.exports=d}).call(this,e("buffer").Buffer)},{"./hash":"/stanza.io/node_modules/sha.js/hash.js",buffer:"/stanza.io/node_modules/buffer/index.js",inherits:"/stanza.io/node_modules/inherits/inherits_browser.js"}],"/stanza.io/node_modules/sha.js/sha1.js":[function(e,h,f){(function(a){function d(){this.init();
this._w=f;c.call(this,64,56)}var b=e("inherits"),c=e("./hash"),g=[1518500249,1859775393,-1894007588,-899497514],f=Array(80);b(d,c);d.prototype.init=function(){this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520;return this};d.prototype._update=function(a){for(var b=this._w,c=this._a|0,d=this._b|0,e=this._c|0,f=this._d|0,l=this._e|0,h=0;16>h;++h)b[h]=a.readInt32BE(4*h);for(;80>h;++h)a=b[h-3]^b[h-8]^b[h-14]^b[h-16],b[h]=a<<1|a>>>31;for(h=0;80>h;++h){a=~~(h/
20);var w=c<<5|c>>>27,y;y=0===a?d&e|~d&f:2===a?d&e|d&f|e&f:d^e^f;a=w+y+l+b[h]+g[a]|0;l=f;f=e;e=d<<30|d>>>2;d=c;c=a}this._a=c+this._a|0;this._b=d+this._b|0;this._c=e+this._c|0;this._d=f+this._d|0;this._e=l+this._e|0};d.prototype._hash=function(){var b=new a(20);b.writeInt32BE(this._a|0,0);b.writeInt32BE(this._b|0,4);b.writeInt32BE(this._c|0,8);b.writeInt32BE(this._d|0,12);b.writeInt32BE(this._e|0,16);return b};h.exports=d}).call(this,e("buffer").Buffer)},{"./hash":"/stanza.io/node_modules/sha.js/hash.js",
buffer:"/stanza.io/node_modules/buffer/index.js",inherits:"/stanza.io/node_modules/inherits/inherits_browser.js"}],"/stanza.io/node_modules/sha.js/sha224.js":[function(e,h,f){(function(a){function d(){this.init();this._w=f;g.call(this,64,56)}var b=e("inherits"),c=e("./sha256"),g=e("./hash"),f=Array(64);b(d,c);d.prototype.init=function(){this._a=3238371032;this._b=914150663;this._c=812702999;this._d=4144912697;this._e=4290775857;this._f=1750603025;this._g=1694076839;this._h=3204075428;return this};
d.prototype._hash=function(){var b=new a(28);b.writeInt32BE(this._a,0);b.writeInt32BE(this._b,4);b.writeInt32BE(this._c,8);b.writeInt32BE(this._d,12);b.writeInt32BE(this._e,16);b.writeInt32BE(this._f,20);b.writeInt32BE(this._g,24);return b};h.exports=d}).call(this,e("buffer").Buffer)},{"./hash":"/stanza.io/node_modules/sha.js/hash.js","./sha256":"/stanza.io/node_modules/sha.js/sha256.js",buffer:"/stanza.io/node_modules/buffer/index.js",inherits:"/stanza.io/node_modules/inherits/inherits_browser.js"}],
"/stanza.io/node_modules/sha.js/sha256.js":[function(e,h,f){(function(a){function d(){this.init();this._w=f;c.call(this,64,56)}var b=e("inherits"),c=e("./hash"),g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,
666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],f=Array(64);b(d,c);d.prototype.init=function(){this._a=1779033703;this._b=3144134277;this._c=1013904242;this._d=2773480762;this._e=1359893119;this._f=2600822924;
this._g=528734635;this._h=1541459225;return this};d.prototype._update=function(a){for(var b=this._w,c=this._a|0,d=this._b|0,e=this._c|0,f=this._d|0,l=this._e|0,h=this._f|0,w=this._g|0,y=this._h|0,v=0;16>v;++v)b[v]=a.readInt32BE(4*v);for(;64>v;++v){a=b[v-2];var x=b[v-15];b[v]=((a>>>17|a<<15)^(a>>>19|a<<13)^a>>>10)+b[v-7]+((x>>>7|x<<25)^(x>>>18|x<<14)^x>>>3)+b[v-16]|0}for(v=0;64>v;++v)a=y+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(w^l&(h^w))+g[v]+b[v]|0,x=((c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<
10))+(c&d|e&(c|d))|0,y=w,w=h,h=l,l=f+a|0,f=e,e=d,d=c,c=a+x|0;this._a=c+this._a|0;this._b=d+this._b|0;this._c=e+this._c|0;this._d=f+this._d|0;this._e=l+this._e|0;this._f=h+this._f|0;this._g=w+this._g|0;this._h=y+this._h|0};d.prototype._hash=function(){var b=new a(32);b.writeInt32BE(this._a,0);b.writeInt32BE(this._b,4);b.writeInt32BE(this._c,8);b.writeInt32BE(this._d,12);b.writeInt32BE(this._e,16);b.writeInt32BE(this._f,20);b.writeInt32BE(this._g,24);b.writeInt32BE(this._h,28);return b};h.exports=d}).call(this,
e("buffer").Buffer)},{"./hash":"/stanza.io/node_modules/sha.js/hash.js",buffer:"/stanza.io/node_modules/buffer/index.js",inherits:"/stanza.io/node_modules/inherits/inherits_browser.js"}],"/stanza.io/node_modules/sha.js/sha384.js":[function(e,h,f){(function(a){function d(){this.init();this._w=f;g.call(this,128,112)}var b=e("inherits"),c=e("./sha512"),g=e("./hash"),f=Array(160);b(d,c);d.prototype.init=function(){this._ah=3418070365;this._bh=1654270250;this._ch=2438529370;this._dh=355462360;this._eh=
1731405415;this._fh=2394180231;this._gh=3675008525;this._hh=1203062813;this._al=3238371032;this._bl=914150663;this._cl=812702999;this._dl=4144912697;this._el=4290775857;this._fl=1750603025;this._gl=1694076839;this._hl=3204075428;return this};d.prototype._hash=function(){function b(a,d,e){c.writeInt32BE(a,e);c.writeInt32BE(d,e+4)}var c=new a(48);b(this._ah,this._al,0);b(this._bh,this._bl,8);b(this._ch,this._cl,16);b(this._dh,this._dl,24);b(this._eh,this._el,32);b(this._fh,this._fl,40);return c};h.exports=
d}).call(this,e("buffer").Buffer)},{"./hash":"/stanza.io/node_modules/sha.js/hash.js","./sha512":"/stanza.io/node_modules/sha.js/sha512.js",buffer:"/stanza.io/node_modules/buffer/index.js",inherits:"/stanza.io/node_modules/inherits/inherits_browser.js"}],"/stanza.io/node_modules/sha.js/sha512.js":[function(e,h,f){(function(a){function d(){this.init();this._w=m;g.call(this,128,112)}function b(a,b){return a>>>0<b>>>0?1:0}var c=e("inherits"),g=e("./hash"),f=[1116352408,3609767458,1899447441,602891725,
3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,
766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,
506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,
587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],m=Array(160);c(d,g);d.prototype.init=function(){this._ah=1779033703;this._bh=3144134277;this._ch=1013904242;this._dh=2773480762;this._eh=1359893119;this._fh=2600822924;this._gh=528734635;this._hh=1541459225;this._al=4089235720;this._bl=2227873595;this._cl=4271175723;this._dl=1595750129;this._el=2917565137;this._fl=725511199;this._gl=4215389547;
this._hl=327033209;return this};d.prototype._update=function(a){for(var c=this._w,d=this._ah|0,e=this._bh|0,g=this._ch|0,m=this._dh|0,h=this._eh|0,w=this._fh|0,y=this._gh|0,v=this._hh|0,x=this._al|0,A=this._bl|0,D=this._cl|0,C=this._dl|0,E=this._el|0,B=this._fl|0,I=this._gl|0,J=this._hl|0,F=0;32>F;F+=2)c[F]=a.readInt32BE(4*F),c[F+1]=a.readInt32BE(4*F+4);for(;160>F;F+=2){a=c[F-30];var K=c[F-30+1],G=(a>>>1|K<<31)^(a>>>8|K<<24)^a>>>7,L=(K>>>1|a<<31)^(K>>>8|a<<24)^(K>>>7|a<<25);a=c[F-4];var K=c[F-4+1],
H=(a>>>19|K<<13)^(K>>>29|a<<3)^a>>>6,K=(K>>>19|a<<13)^(a>>>29|K<<3)^(K>>>6|a<<26),N=c[F-32],O=c[F-32+1];a=L+c[F-14+1]|0;G=G+c[F-14]+b(a,L)|0;a=a+K|0;G=G+H+b(a,K)|0;a=a+O|0;G=G+N+b(a,O)|0;c[F]=G;c[F+1]=a}for(F=0;160>F;F+=2){G=c[F];a=c[F+1];var K=d&e|g&(d|e),S=x&A|D&(x|A),N=(d>>>28|x<<4)^(x>>>2|d<<30)^(x>>>7|d<<25),O=(x>>>28|d<<4)^(d>>>2|x<<30)^(d>>>7|x<<25),R=f[F],z=f[F+1],T=y^h&(w^y),Q=I^E&(B^I),H=J+((E>>>14|h<<18)^(E>>>18|h<<14)^(h>>>9|E<<23))|0,L=v+((h>>>14|E<<18)^(h>>>18|E<<14)^(E>>>9|h<<23))+
b(H,J)|0,H=H+Q|0,L=L+T+b(H,Q)|0,H=H+z|0,L=L+R+b(H,z)|0,H=H+a|0,L=L+G+b(H,a)|0;a=O+S|0;G=N+K+b(a,O)|0;v=y;J=I;y=w;I=B;w=h;B=E;E=C+H|0;h=m+L+b(E,C)|0;m=g;C=D;g=e;D=A;e=d;A=x;x=H+a|0;d=L+G+b(x,H)|0}this._al=this._al+x|0;this._bl=this._bl+A|0;this._cl=this._cl+D|0;this._dl=this._dl+C|0;this._el=this._el+E|0;this._fl=this._fl+B|0;this._gl=this._gl+I|0;this._hl=this._hl+J|0;this._ah=this._ah+d+b(this._al,x)|0;this._bh=this._bh+e+b(this._bl,A)|0;this._ch=this._ch+g+b(this._cl,D)|0;this._dh=this._dh+m+b(this._dl,
C)|0;this._eh=this._eh+h+b(this._el,E)|0;this._fh=this._fh+w+b(this._fl,B)|0;this._gh=this._gh+y+b(this._gl,I)|0;this._hh=this._hh+v+b(this._hl,J)|0};d.prototype._hash=function(){function b(a,d,e){c.writeInt32BE(a,e);c.writeInt32BE(d,e+4)}var c=new a(64);b(this._ah,this._al,0);b(this._bh,this._bl,8);b(this._ch,this._cl,16);b(this._dh,this._dl,24);b(this._eh,this._el,32);b(this._fh,this._fl,40);b(this._gh,this._gl,48);b(this._hh,this._hl,56);return c};h.exports=d}).call(this,e("buffer").Buffer)},{"./hash":"/stanza.io/node_modules/sha.js/hash.js",
buffer:"/stanza.io/node_modules/buffer/index.js",inherits:"/stanza.io/node_modules/inherits/inherits_browser.js"}],"/stanza.io/node_modules/stream-browserify/index.js":[function(e,h,f){function a(){d.call(this)}h.exports=a;var d=e("events").EventEmitter;e("inherits")(a,d);a.Readable=e("readable-stream/readable.js");a.Writable=e("readable-stream/writable.js");a.Duplex=e("readable-stream/duplex.js");a.Transform=e("readable-stream/transform.js");a.PassThrough=e("readable-stream/passthrough.js");a.Stream=
a;a.prototype.pipe=function(a,c){function e(c){a.writable&&!1===a.write(c)&&q.pause&&q.pause()}function f(){q.readable&&q.resume&&q.resume()}function h(){u||(u=!0,a.end())}function k(){u||(u=!0,"function"===typeof a.destroy&&a.destroy())}function p(a){n();if(0===d.listenerCount(this,"error"))throw a;}function n(){q.removeListener("data",e);a.removeListener("drain",f);q.removeListener("end",h);q.removeListener("close",k);q.removeListener("error",p);a.removeListener("error",p);q.removeListener("end",
n);q.removeListener("close",n);a.removeListener("close",n)}var q=this;q.on("data",e);a.on("drain",f);a._isStdio||c&&!1===c.end||(q.on("end",h),q.on("close",k));var u=!1;q.on("error",p);a.on("error",p);q.on("end",n);q.on("close",n);a.on("close",n);a.emit("pipe",q);return a}},{events:"/stanza.io/node_modules/events/events.js",inherits:"/stanza.io/node_modules/inherits/inherits_browser.js","readable-stream/duplex.js":"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/duplex.js",
"readable-stream/passthrough.js":"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/passthrough.js","readable-stream/readable.js":"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/readable.js","readable-stream/transform.js":"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/transform.js","readable-stream/writable.js":"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/writable.js"}],"/stanza.io/node_modules/stream-browserify/node_modules/isarray/index.js":[function(e,
h,f){arguments[4]["/stanza.io/node_modules/buffer/node_modules/isarray/index.js"][0].apply(f,arguments)},{}],"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/duplex.js":[function(e,h,f){h.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js"}],"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js":[function(e,h,f){function a(b){if(!(this instanceof
a))return new a(b);g.call(this,b);l.call(this,b);b&&!1===b.readable&&(this.readable=!1);b&&!1===b.writable&&(this.writable=!1);this.allowHalfOpen=!0;b&&!1===b.allowHalfOpen&&(this.allowHalfOpen=!1);this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||c(b,this)}function b(a){a.end()}f=Object.keys||function(a){var b=[],c;for(c in a)b.push(c);return b};h.exports=a;var c=e("process-nextick-args");h=e("core-util-is");h.inherits=e("inherits");var g=e("./_stream_readable"),l=e("./_stream_writable");
h.inherits(a,g);e=f(l.prototype);for(h=0;h<e.length;h++)f=e[h],a.prototype[f]||(a.prototype[f]=l.prototype[f])},{"./_stream_readable":"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_readable.js","./_stream_writable":"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_writable.js","core-util-is":"/stanza.io/node_modules/core-util-is/lib/util.js",inherits:"/stanza.io/node_modules/inherits/inherits_browser.js","process-nextick-args":"/stanza.io/node_modules/process-nextick-args/index.js"}],
"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_passthrough.js":[function(e,h,f){function a(b){if(!(this instanceof a))return new a(b);d.call(this,b)}h.exports=a;var d=e("./_stream_transform");h=e("core-util-is");h.inherits=e("inherits");h.inherits(a,d);a.prototype._transform=function(a,c,d){d(null,a)}},{"./_stream_transform":"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_transform.js","core-util-is":"/stanza.io/node_modules/core-util-is/lib/util.js",
inherits:"/stanza.io/node_modules/inherits/inherits_browser.js"}],"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_readable.js":[function(e,h,f){(function(a){function d(a,b){J=J||e("./_stream_duplex");a=a||{};this.objectMode=!!a.objectMode;b instanceof J&&(this.objectMode=this.objectMode||!!a.readableObjectMode);var c=a.highWaterMark,d=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:d;this.highWaterMark=~~this.highWaterMark;this.buffer=[];this.length=0;this.pipes=
null;this.pipesCount=0;this.flowing=null;this.reading=this.endEmitted=this.ended=!1;this.sync=!0;this.resumeScheduled=this.readableListening=this.emittedReadable=this.needReadable=!1;this.defaultEncoding=a.defaultEncoding||"utf8";this.ranOut=!1;this.awaitDrain=0;this.readingMore=!1;this.encoding=this.decoder=null;a.encoding&&(I||(I=e("string_decoder/").StringDecoder),this.decoder=new I(a.encoding),this.encoding=a.encoding)}function b(a){J=J||e("./_stream_duplex");if(!(this instanceof b))return new b(a);
this._readableState=new d(a,this);this.readable=!0;a&&"function"===typeof a.read&&(this._read=a.read);D.call(this)}function c(a,b,c,d,e){var g;g=c;var h=null;A.isBuffer(g)||"string"===typeof g||null===g||void 0===g||b.objectMode||(h=new TypeError("Invalid non-string/buffer chunk"));if(g=h)a.emit("error",g);else if(null===c)b.reading=!1,b.ended||(b.decoder&&(c=b.decoder.end())&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length),b.ended=!0,f(a));else if(b.objectMode||c&&0<c.length)if(b.ended&&
!e)c=Error("stream.push() after EOF"),a.emit("error",c);else if(b.endEmitted&&e)c=Error("stream.unshift() after end event"),a.emit("error",c);else{var m;!b.decoder||e||d||(c=b.decoder.write(c),m=!b.objectMode&&0===c.length);e||(b.reading=!1);m||(b.flowing&&0===b.length&&!b.sync?(a.emit("data",c),a.read(0)):(b.length+=b.objectMode?1:c.length,e?b.buffer.unshift(c):b.buffer.push(c),b.needReadable&&f(a)));b.readingMore||(b.readingMore=!0,v(k,a,b))}else e||(b.reading=!1);return!b.ended&&(b.needReadable||
b.length<b.highWaterMark||0===b.length)}function g(a,b){if(0===b.length&&b.ended)return 0;if(b.objectMode)return 0===a?0:1;if(null===a||isNaN(a))return b.flowing&&b.buffer.length?b.buffer[0].length:b.length;if(0>=a)return 0;if(a>b.highWaterMark){var c=a;8388608<=c?c=8388608:(c--,c|=c>>>1,c|=c>>>2,c|=c>>>4,c|=c>>>8,c|=c>>>16,c++);b.highWaterMark=c}if(a>b.length){if(b.ended)return b.length;b.needReadable=!0;return 0}return a}function f(a){var b=a._readableState;b.needReadable=!1;b.emittedReadable||
(B("emitReadable",b.flowing),b.emittedReadable=!0,b.sync?v(m,a):m(a))}function m(a){B("emit readable");a.emit("readable");u(a)}function k(a,b){for(var c=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(B("maybeReadMore read 0"),a.read(0),c!==b.length);)c=b.length;b.readingMore=!1}function p(a){return function(){var b=a._readableState;B("pipeOnDrain",b.awaitDrain);b.awaitDrain&&b.awaitDrain--;0===b.awaitDrain&&a.listeners("data").length&&(b.flowing=!0,u(a))}}function n(a){B("readable nexttick read 0");
a.read(0)}function q(a,b){b.reading||(B("resume read 0"),a.read(0));b.resumeScheduled=!1;a.emit("resume");u(a);b.flowing&&!b.reading&&a.read(0)}function u(a){var b=a._readableState;B("flow",b.flowing);if(b.flowing){do var c=a.read();while(null!==c&&b.flowing)}}function t(a,b){var c=b.buffer,d=b.length,e=!!b.decoder,g=!!b.objectMode;if(0===c.length)return null;if(0===d)d=null;else if(g)d=c.shift();else if(!a||a>=d)d=e?c.join(""):1===c.length?c[0]:A.concat(c,d),c.length=0;else if(a<c[0].length)g=c[0],
d=g.slice(0,a),c[0]=g.slice(a);else if(a===c[0].length)d=c.shift();else for(var d=e?"":new A(a),f=0,l=0,k=c.length;l<k&&f<a;l++){var g=c[0],h=Math.min(a-f,g.length);e?d+=g.slice(0,h):g.copy(d,f,0,h);h<g.length?c[0]=g.slice(h):c.shift();f+=h}return d}function r(a){var b=a._readableState;if(0<b.length)throw Error("endReadable called on non-empty stream");b.endEmitted||(b.ended=!0,v(w,b,a))}function w(a,b){a.endEmitted||0!==a.length||(a.endEmitted=!0,b.readable=!1,b.emit("end"))}function y(a,b){for(var c=
0,d=a.length;c<d;c++)b(a[c],c)}h.exports=b;var v=e("process-nextick-args"),x=e("isarray"),A=e("buffer").Buffer;b.ReadableState=d;e("events");var D;try{D=e("stream")}catch(F){}finally{D||(D=e("events").EventEmitter)}var A=e("buffer").Buffer,C=e("core-util-is");C.inherits=e("inherits");var E=e("util"),B=void 0,B=E&&E.debuglog?E.debuglog("stream"):function(){},I;C.inherits(b,D);var J;b.prototype.push=function(a,b){var d=this._readableState;d.objectMode||"string"!==typeof a||(b=b||d.defaultEncoding,b!==
d.encoding&&(a=new A(a,b),b=""));return c(this,d,a,b,!1)};b.prototype.unshift=function(a){return c(this,this._readableState,a,"",!0)};b.prototype.isPaused=function(){return!1===this._readableState.flowing};b.prototype.setEncoding=function(a){I||(I=e("string_decoder/").StringDecoder);this._readableState.decoder=new I(a);this._readableState.encoding=a;return this};b.prototype.read=function(a){B("read",a);var b=this._readableState,c=a;if("number"!==typeof a||0<a)b.emittedReadable=!1;if(0===a&&b.needReadable&&
(b.length>=b.highWaterMark||b.ended))return B("read: emitReadable",b.length,b.ended),0===b.length&&b.ended?r(this):f(this),null;a=g(a,b);if(0===a&&b.ended)return 0===b.length&&r(this),null;var d=b.needReadable;B("need readable",d);if(0===b.length||b.length-a<b.highWaterMark)d=!0,B("length less than watermark",d);if(b.ended||b.reading)d=!1,B("reading or ended",d);d&&(B("do read"),b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1);d&&!b.reading&&(a=g(c,b));
d=0<a?t(a,b):null;null===d&&(b.needReadable=!0,a=0);b.length-=a;0!==b.length||b.ended||(b.needReadable=!0);c!==a&&b.ended&&0===b.length&&r(this);null!==d&&this.emit("data",d);return d};b.prototype._read=function(a){this.emit("error",Error("not implemented"))};b.prototype.pipe=function(b,c){function d(a){B("onunpipe");a===n&&g()}function e(){B("onend");b.end()}function g(){B("cleanup");b.removeListener("close",k);b.removeListener("finish",h);b.removeListener("drain",t);b.removeListener("error",l);
b.removeListener("unpipe",d);n.removeListener("end",e);n.removeListener("end",g);n.removeListener("data",f);r=!0;!q.awaitDrain||b._writableState&&!b._writableState.needDrain||t()}function f(a){B("ondata");!1===b.write(a)&&(1!==q.pipesCount||q.pipes[0]!==b||1!==n.listenerCount("data")||r||(B("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++),n.pause())}function l(a){B("onerror",a);m();b.removeListener("error",l);0===b.listeners("error").length&&b.emit("error",
a)}function k(){b.removeListener("finish",h);m()}function h(){B("onfinish");b.removeListener("close",k);m()}function m(){B("unpipe");n.unpipe(b)}var n=this,q=this._readableState;switch(q.pipesCount){case 0:q.pipes=b;break;case 1:q.pipes=[q.pipes,b];break;default:q.pipes.push(b)}q.pipesCount+=1;B("pipe count=%d opts=%j",q.pipesCount,c);var u=c&&!1===c.end||b===a.stdout||b===a.stderr?g:e;if(q.endEmitted)v(u);else n.once("end",u);b.on("unpipe",d);var t=p(n);b.on("drain",t);var r=!1;n.on("data",f);if(b._events&&
b._events.error)x(b._events.error)?b._events.error.unshift(l):b._events.error=[l,b._events.error];else b.on("error",l);b.once("close",k);b.once("finish",h);b.emit("pipe",n);q.flowing||(B("pipe resume"),n.resume());return b};b.prototype.unpipe=function(a){var b=this._readableState;if(0===b.pipesCount)return this;if(1===b.pipesCount){if(a&&a!==b.pipes)return this;a||(a=b.pipes);b.pipes=null;b.pipesCount=0;b.flowing=!1;a&&a.emit("unpipe",this);return this}if(!a){a=b.pipes;var c=b.pipesCount;b.pipes=
null;b.pipesCount=0;b.flowing=!1;for(b=0;b<c;b++)a[b].emit("unpipe",this);return this}a:{for(var c=b.pipes,d=0,e=c.length;d<e;d++)if(c[d]===a){c=d;break a}c=-1}if(-1===c)return this;b.pipes.splice(c,1);--b.pipesCount;1===b.pipesCount&&(b.pipes=b.pipes[0]);a.emit("unpipe",this);return this};b.prototype.on=function(a,b){var c=D.prototype.on.call(this,a,b);"data"===a&&!1!==this._readableState.flowing&&this.resume();if("readable"===a&&!this._readableState.endEmitted){var d=this._readableState;d.readableListening||
(d.readableListening=!0,d.emittedReadable=!1,d.needReadable=!0,d.reading?d.length&&f(this,d):v(n,this))}return c};b.prototype.addListener=b.prototype.on;b.prototype.resume=function(){var a=this._readableState;a.flowing||(B("resume"),a.flowing=!0,a.resumeScheduled||(a.resumeScheduled=!0,v(q,this,a)));return this};b.prototype.pause=function(){B("call pause flowing=%j",this._readableState.flowing);!1!==this._readableState.flowing&&(B("pause"),this._readableState.flowing=!1,this.emit("pause"));return this};
b.prototype.wrap=function(a){var b=this._readableState,c=!1,d=this;a.on("end",function(){B("wrapped end");if(b.decoder&&!b.ended){var a=b.decoder.end();a&&a.length&&d.push(a)}d.push(null)});a.on("data",function(e){B("wrapped data");b.decoder&&(e=b.decoder.write(e));b.objectMode&&(null===e||void 0===e)||!(b.objectMode||e&&e.length)||d.push(e)||(c=!0,a.pause())});for(var e in a)void 0===this[e]&&"function"===typeof a[e]&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));y(["error",
"close","destroy","pause","resume"],function(b){a.on(b,d.emit.bind(d,b))});d._read=function(b){B("wrapped _read",b);c&&(c=!1,a.resume())};return d};b._fromList=t}).call(this,e("_process"))},{"./_stream_duplex":"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js",_process:"/stanza.io/node_modules/browserify/node_modules/process/browser.js",buffer:"/stanza.io/node_modules/buffer/index.js","core-util-is":"/stanza.io/node_modules/core-util-is/lib/util.js",events:"/stanza.io/node_modules/events/events.js",
inherits:"/stanza.io/node_modules/inherits/inherits_browser.js",isarray:"/stanza.io/node_modules/stream-browserify/node_modules/isarray/index.js","process-nextick-args":"/stanza.io/node_modules/process-nextick-args/index.js","string_decoder/":"/stanza.io/node_modules/string_decoder/index.js",util:"/stanza.io/node_modules/browser-resolve/empty.js"}],"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_transform.js":[function(e,h,f){function a(a){this.afterTransform=function(b,
c){var d;d=a._transformState;d.transforming=!1;var e=d.writecb;e?(d.writechunk=null,d.writecb=null,null!==c&&void 0!==c&&a.push(c),e(b),d=a._readableState,d.reading=!1,(d.needReadable||d.length<d.highWaterMark)&&a._read(d.highWaterMark),d=void 0):d=a.emit("error",Error("no writecb in Transform class"));return d};this.transforming=this.needTransform=!1;this.writeencoding=this.writechunk=this.writecb=null}function d(e){if(!(this instanceof d))return new d(e);c.call(this,e);this._transformState=new a(this);
var f=this;this._readableState.needReadable=!0;this._readableState.sync=!1;e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush));this.once("prefinish",function(){"function"===typeof this._flush?this._flush(function(a){b(f,a)}):b(f)})}function b(a,b){if(b)return a.emit("error",b);var c=a._transformState;if(a._writableState.length)throw Error("calling transform done when ws.length != 0");if(c.transforming)throw Error("calling transform done when still transforming");
return a.push(null)}h.exports=d;var c=e("./_stream_duplex");h=e("core-util-is");h.inherits=e("inherits");h.inherits(d,c);d.prototype.push=function(a,b){this._transformState.needTransform=!1;return c.prototype.push.call(this,a,b)};d.prototype._transform=function(a,b,c){throw Error("not implemented");};d.prototype._write=function(a,b,c){var d=this._transformState;d.writecb=c;d.writechunk=a;d.writeencoding=b;d.transforming||(a=this._readableState,(d.needTransform||a.needReadable||a.length<a.highWaterMark)&&
this._read(a.highWaterMark))};d.prototype._read=function(a){a=this._transformState;null!==a.writechunk&&a.writecb&&!a.transforming?(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform)):a.needTransform=!0}},{"./_stream_duplex":"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js","core-util-is":"/stanza.io/node_modules/core-util-is/lib/util.js",inherits:"/stanza.io/node_modules/inherits/inherits_browser.js"}],"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_writable.js":[function(e,
h,f){(function(a){function d(){}function b(a,b,c){this.chunk=a;this.encoding=b;this.callback=c;this.next=null}function c(a,b){v=v||e("./_stream_duplex");a=a||{};this.objectMode=!!a.objectMode;b instanceof v&&(this.objectMode=this.objectMode||!!a.writableObjectMode);var c=a.highWaterMark,d=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:d;this.highWaterMark=~~this.highWaterMark;this.finished=this.ended=this.ending=this.needDrain=!1;this.decodeStrings=!1!==a.decodeStrings;this.defaultEncoding=
a.defaultEncoding||"utf8";this.length=0;this.writing=!1;this.corked=0;this.sync=!0;this.bufferProcessing=!1;this.onwrite=function(a){var c=b._writableState,d=c.sync,e=c.writecb;c.writing=!1;c.writecb=null;c.length-=c.writelen;c.writelen=0;a?(--c.pendingcb,d?u(e,a):e(a),b._writableState.errorEmitted=!0,b.emit("error",a)):((a=p(c))||c.corked||c.bufferProcessing||!c.bufferedRequest||k(b,c),d?t(m,b,c,a,e):m(b,c,a,e))};this.writecb=null;this.writelen=0;this.lastBufferedRequest=this.bufferedRequest=null;
this.pendingcb=0;this.errorEmitted=this.prefinished=!1;this.bufferedRequestCount=0;this.corkedRequestsFree=new q(this);this.corkedRequestsFree.next=new q(this)}function g(a){v=v||e("./_stream_duplex");if(!(this instanceof g||this instanceof v))return new g(a);this._writableState=new c(a,this);this.writable=!0;a&&("function"===typeof a.write&&(this._write=a.write),"function"===typeof a.writev&&(this._writev=a.writev));y.call(this)}function f(a,b,c,d,e,g,l){b.writelen=d;b.writecb=l;b.writing=!0;b.sync=
!0;c?a._writev(e,b.onwrite):a._write(e,g,b.onwrite);b.sync=!1}function m(a,b,c,d){!c&&0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"));b.pendingcb--;d();n(a,b)}function k(a,b){b.bufferProcessing=!0;var c=b.bufferedRequest;if(a._writev&&c&&c.next){var d=Array(b.bufferedRequestCount),e=b.corkedRequestsFree;e.entry=c;for(var g=0;c;)d[g]=c,c=c.next,g+=1;f(a,b,!0,b.length,d,"",e.finish);b.pendingcb++;b.lastBufferedRequest=null;b.corkedRequestsFree=e.next;e.next=null}else{for(;c&&(d=c.chunk,
f(a,b,!1,b.objectMode?1:d.length,d,c.encoding,c.callback),c=c.next,!b.writing););null===c&&(b.lastBufferedRequest=null)}b.bufferedRequestCount=0;b.bufferedRequest=c;b.bufferProcessing=!1}function p(a){return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}function n(a,b){var c=p(b);c&&(0===b.pendingcb?(b.prefinished||(b.prefinished=!0,a.emit("prefinish")),b.finished=!0,a.emit("finish")):b.prefinished||(b.prefinished=!0,a.emit("prefinish")));return c}function q(a){var b=this;
this.entry=this.next=null;this.finish=function(c){var d=b.entry;for(b.entry=null;d;){var e=d.callback;a.pendingcb--;e(c);d=d.next}a.corkedRequestsFree?a.corkedRequestsFree.next=b:a.corkedRequestsFree=b}}h.exports=g;var u=e("process-nextick-args"),t=!a.browser&&-1<["v0.10","v0.9."].indexOf(a.version.slice(0,5))?setImmediate:u,r=e("buffer").Buffer;g.WritableState=c;a=e("core-util-is");a.inherits=e("inherits");var w={deprecate:e("util-deprecate")},y;try{y=e("stream")}catch(x){}finally{y||(y=e("events").EventEmitter)}r=
e("buffer").Buffer;a.inherits(g,y);var v;c.prototype.getBuffer=function(){for(var a=this.bufferedRequest,b=[];a;)b.push(a),a=a.next;return b};(function(){try{Object.defineProperty(c.prototype,"buffer",{get:w.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(a){}})();g.prototype.pipe=function(){this.emit("error",Error("Cannot pipe. Not readable."))};g.prototype.write=function(a,c,e){var g=this._writableState,h=!1;"function"===
typeof c&&(e=c,c=null);r.isBuffer(a)?c="buffer":c||(c=g.defaultEncoding);"function"!==typeof e&&(e=d);if(g.ended)g=e,a=Error("write after end"),this.emit("error",a),u(g,a);else{var k=e,m=!0;r.isBuffer(a)||"string"===typeof a||null===a||void 0===a||g.objectMode||(m=new TypeError("Invalid non-string/buffer chunk"),this.emit("error",m),u(k,m),m=!1);m&&(g.pendingcb++,h=c,g.objectMode||!1===g.decodeStrings||"string"!==typeof a||(a=new r(a,h)),r.isBuffer(a)&&(h="buffer"),k=g.objectMode?1:a.length,g.length+=
k,c=g.length<g.highWaterMark,c||(g.needDrain=!0),g.writing||g.corked?(k=g.lastBufferedRequest,g.lastBufferedRequest=new b(a,h,e),k?k.next=g.lastBufferedRequest:g.bufferedRequest=g.lastBufferedRequest,g.bufferedRequestCount+=1):f(this,g,!1,k,a,h,e),h=c)}return h};g.prototype.cork=function(){this._writableState.corked++};g.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,a.writing||a.corked||a.finished||a.bufferProcessing||!a.bufferedRequest||k(this,a))};g.prototype.setDefaultEncoding=
function(a){"string"===typeof a&&(a=a.toLowerCase());if(!(-1<"hex utf8 utf-8 ascii binary base64 ucs2 ucs-2 utf16le utf-16le raw".split(" ").indexOf((a+"").toLowerCase())))throw new TypeError("Unknown encoding: "+a);this._writableState.defaultEncoding=a};g.prototype._write=function(a,b,c){c(Error("not implemented"))};g.prototype._writev=null;g.prototype.end=function(a,b,c){var d=this._writableState;"function"===typeof a?(c=a,b=a=null):"function"===typeof b&&(c=b,b=null);null!==a&&void 0!==a&&this.write(a,
b);d.corked&&(d.corked=1,this.uncork());if(!d.ending&&!d.finished){a=c;d.ending=!0;n(this,d);if(a)if(d.finished)u(a);else this.once("finish",a);d.ended=!0;this.writable=!1}}}).call(this,e("_process"))},{"./_stream_duplex":"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js",_process:"/stanza.io/node_modules/browserify/node_modules/process/browser.js",buffer:"/stanza.io/node_modules/buffer/index.js","core-util-is":"/stanza.io/node_modules/core-util-is/lib/util.js",
events:"/stanza.io/node_modules/events/events.js",inherits:"/stanza.io/node_modules/inherits/inherits_browser.js","process-nextick-args":"/stanza.io/node_modules/process-nextick-args/index.js","util-deprecate":"/stanza.io/node_modules/util-deprecate/browser.js"}],"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/passthrough.js":[function(e,h,f){h.exports=e("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_passthrough.js"}],
"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/readable.js":[function(e,h,f){var a;a:{try{a=e("stream");break a}catch(d){}a=void 0}f=h.exports=e("./lib/_stream_readable.js");f.Stream=a||f;f.Readable=f;f.Writable=e("./lib/_stream_writable.js");f.Duplex=e("./lib/_stream_duplex.js");f.Transform=e("./lib/_stream_transform.js");f.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js",
"./lib/_stream_passthrough.js":"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_passthrough.js","./lib/_stream_readable.js":"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_readable.js","./lib/_stream_transform.js":"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_transform.js","./lib/_stream_writable.js":"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_writable.js"}],
"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/transform.js":[function(e,h,f){h.exports=e("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_transform.js"}],"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/writable.js":[function(e,h,f){h.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":"/stanza.io/node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_writable.js"}],
"/stanza.io/node_modules/string_decoder/index.js":[function(e,h,f){function a(a){return a.toString(this.encoding)}function d(a){this.charLength=(this.charReceived=a.length%2)?2:0}function b(a){this.charLength=(this.charReceived=a.length%3)?3:0}var c=e("buffer").Buffer,g=c.isEncoding||function(a){switch(a&&a.toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":case "raw":return!0;default:return!1}};e=f.StringDecoder=
function(e){this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,"");if(e&&!g(e))throw Error("Unknown encoding: "+e);switch(this.encoding){case "utf8":this.surrogateSize=3;break;case "ucs2":case "utf16le":this.surrogateSize=2;this.detectIncompleteChar=d;break;case "base64":this.surrogateSize=3;this.detectIncompleteChar=b;break;default:this.write=a;return}this.charBuffer=new c(6);this.charLength=this.charReceived=0};e.prototype.write=function(a){for(var b="";this.charLength;){b=a.length>=this.charLength-
this.charReceived?this.charLength-this.charReceived:a.length;a.copy(this.charBuffer,this.charReceived,0,b);this.charReceived+=b;if(this.charReceived<this.charLength)return"";a=a.slice(b,a.length);var b=this.charBuffer.slice(0,this.charLength).toString(this.encoding),c=b.charCodeAt(b.length-1);if(55296<=c&&56319>=c)this.charLength+=this.surrogateSize,b="";else{this.charReceived=this.charLength=0;if(0===a.length)return b;break}}this.detectIncompleteChar(a);var d=a.length;this.charLength&&(a.copy(this.charBuffer,
0,a.length-this.charReceived,d),d-=this.charReceived);b+=a.toString(this.encoding,0,d);d=b.length-1;c=b.charCodeAt(d);return 55296<=c&&56319>=c?(c=this.surrogateSize,this.charLength+=c,this.charReceived+=c,this.charBuffer.copy(this.charBuffer,c,0,c),a.copy(this.charBuffer,0,0,c),b.substring(0,d)):b};e.prototype.detectIncompleteChar=function(a){for(var b=3<=a.length?3:a.length;0<b;b--){var c=a[a.length-b];if(1==b&&6==c>>5){this.charLength=2;break}if(2>=b&&14==c>>4){this.charLength=3;break}if(3>=b&&
30==c>>3){this.charLength=4;break}}this.charReceived=b};e.prototype.end=function(a){var b="";a&&a.length&&(b=this.write(a));this.charReceived&&(a=this.encoding,b+=this.charBuffer.slice(0,this.charReceived).toString(a));return b}},{buffer:"/stanza.io/node_modules/buffer/index.js"}],"/stanza.io/node_modules/traceablepeerconnection/index.js":[function(e,h,f){function a(a){return{type:a.type,sdp:a.sdp}}function d(a){var b={label:a.id};a.getAudioTracks().length&&(b.audio=a.getAudioTracks().map(function(a){return a.id}));
a.getVideoTracks().length&&(b.video=a.getVideoTracks().map(function(a){return a.id}));return b}function b(a,b){var e=this;c.call(this);this.peerconnection=new window.RTCPeerConnection(a,b);this.trace=function(a,b){e.emit("PeerConnectionTrace",{time:new Date,type:a,value:b||""})};this.onicecandidate=null;this.peerconnection.onicecandidate=function(a){e.trace("onicecandidate",a.candidate);if(null!==e.onicecandidate)e.onicecandidate(a)};this.onaddstream=null;this.peerconnection.onaddstream=function(a){e.trace("onaddstream",
d(a.stream));if(null!==e.onaddstream)e.onaddstream(a)};this.onremovestream=null;this.peerconnection.onremovestream=function(a){e.trace("onremovestream",d(a.stream));if(null!==e.onremovestream)e.onremovestream(a)};this.onsignalingstatechange=null;this.peerconnection.onsignalingstatechange=function(a){e.trace("onsignalingstatechange",e.signalingState);if(null!==e.onsignalingstatechange)e.onsignalingstatechange(a)};this.oniceconnectionstatechange=null;this.peerconnection.oniceconnectionstatechange=function(a){e.trace("oniceconnectionstatechange",
e.iceConnectionState);if(null!==e.oniceconnectionstatechange)e.oniceconnectionstatechange(a)};this.onnegotiationneeded=null;this.peerconnection.onnegotiationneeded=function(a){e.trace("onnegotiationneeded");if(null!==e.onnegotiationneeded)e.onnegotiationneeded(a)};e.ondatachannel=null;this.peerconnection.ondatachannel=function(a){e.trace("ondatachannel",a);if(null!==e.ondatachannel)e.ondatachannel(a)};this.getLocalStreams=this.peerconnection.getLocalStreams.bind(this.peerconnection);this.getRemoteStreams=
this.peerconnection.getRemoteStreams.bind(this.peerconnection)}f=e("util");e("webrtc-adapter");var c=e("wildemitter");f.inherits(b,c);["signalingState","iceConnectionState","localDescription","remoteDescription"].forEach(function(a){Object.defineProperty(b.prototype,a,{get:function(){return this.peerconnection[a]}})});b.prototype.addStream=function(a){this.trace("addStream",d(a));this.peerconnection.addStream(a)};b.prototype.removeStream=function(a){this.trace("removeStream",d(a));this.peerconnection.removeStream(a)};
b.prototype.createDataChannel=function(a,b){this.trace("createDataChannel",a,b);return this.peerconnection.createDataChannel(a,b)};b.prototype.setLocalDescription=function(b,c,d){var e=this;this.trace("setLocalDescription",a(b));this.peerconnection.setLocalDescription(b,function(){e.trace("setLocalDescriptionOnSuccess");c&&c()},function(a){e.trace("setLocalDescriptionOnFailure",a);d&&d(a)})};b.prototype.setRemoteDescription=function(b,c,d){var e=this;this.trace("setRemoteDescription",a(b));this.peerconnection.setRemoteDescription(b,
function(){e.trace("setRemoteDescriptionOnSuccess");c&&c()},function(a){e.trace("setRemoteDescriptionOnFailure",a);d&&d(a)})};b.prototype.close=function(){this.trace("stop");"closed"!=this.peerconnection.signalingState&&this.peerconnection.close()};b.prototype.createOffer=function(b,c,d){var e=this;this.trace("createOffer",d);this.peerconnection.createOffer(function(c){e.trace("createOfferOnSuccess",a(c));b&&b(c)},function(a){e.trace("createOfferOnFailure",a);c&&c(a)},d)};b.prototype.createAnswer=
function(b,c,d){var e=this;this.trace("createAnswer",d);this.peerconnection.createAnswer(function(c){e.trace("createAnswerOnSuccess",a(c));b&&b(c)},function(a){e.trace("createAnswerOnFailure",a);c&&c(a)},d)};b.prototype.addIceCandidate=function(a,b,c){var d=this;this.trace("addIceCandidate",a);this.peerconnection.addIceCandidate(a,function(){b&&b()},function(a){d.trace("addIceCandidateOnFailure",a);c&&c(a)})};b.prototype.getStats=function(){this.peerconnection.getStats.apply(this.peerconnection,arguments)};
h.exports=b},{util:"/stanza.io/node_modules/util/util.js","webrtc-adapter":"/stanza.io/node_modules/webrtc-adapter/src/js/adapter_core.js",wildemitter:"/stanza.io/node_modules/wildemitter/wildemitter.js"}],"/stanza.io/node_modules/trim/index.js":[function(e,h,f){f=h.exports=function(a){return a.replace(/^\s*|\s*$/g,"")};f.left=function(a){return a.replace(/^\s*/,"")};f.right=function(a){return a.replace(/\s*$/,"")}},{}],"/stanza.io/node_modules/util-deprecate/browser.js":[function(e,h,f){(function(a){function d(b){try{if(!a.localStorage)return!1}catch(c){return!1}b=
a.localStorage[b];return null==b?!1:"true"===String(b).toLowerCase()}h.exports=function(a,c){if(d("noDeprecation"))return a;var e=!1;return function(){if(!e){if(d("throwDeprecation"))throw Error(c);d("traceDeprecation")?console.trace(c):console.warn(c);e=!0}return a.apply(this,arguments)}}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],"/stanza.io/node_modules/util/support/isBufferBrowser.js":[function(e,h,f){h.exports=function(a){return a&&
"object"===typeof a&&"function"===typeof a.copy&&"function"===typeof a.fill&&"function"===typeof a.readUInt8}},{}],"/stanza.io/node_modules/util/util.js":[function(e,h,f){(function(a,d){function b(a,b){var d={seen:[],stylize:g};3<=arguments.length&&(d.depth=arguments[2]);4<=arguments.length&&(d.colors=arguments[3]);r(b)?d.showHidden=b:b&&f._extend(d,b);v(d.showHidden)&&(d.showHidden=!1);v(d.depth)&&(d.depth=2);v(d.colors)&&(d.colors=!1);v(d.customInspect)&&(d.customInspect=!0);d.colors&&(d.stylize=
c);return m(d,a,d.depth)}function c(a,c){var d=b.styles[c];return d?"\u001b["+b.colors[d][0]+"m"+a+"\u001b["+b.colors[d][1]+"m":a}function g(a,b){return a}function h(a){var b={};a.forEach(function(a,c){b[a]=!0});return b}function m(a,b,c){if(a.customInspect&&b&&E(b.inspect)&&b.inspect!==f.inspect&&(!b.constructor||b.constructor.prototype!==b)){var d=b.inspect(c,a);y(d)||(d=m(a,d,c));return d}if(d=k(a,b))return d;var e=Object.keys(b),g=h(e);a.showHidden&&(e=Object.getOwnPropertyNames(b));if(C(b)&&
(0<=e.indexOf("message")||0<=e.indexOf("description")))return p(b);if(0===e.length){if(E(b))return a.stylize("[Function"+(b.name?": "+b.name:"")+"]","special");if(x(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(D(b))return a.stylize(Date.prototype.toString.call(b),"date");if(C(b))return p(b)}var d="",r=!1,w=["{","}"];t(b)&&(r=!0,w=["[","]"]);E(b)&&(d=" [Function"+(b.name?": "+b.name:"")+"]");x(b)&&(d=" "+RegExp.prototype.toString.call(b));D(b)&&(d=" "+Date.prototype.toUTCString.call(b));
C(b)&&(d=" "+p(b));if(0===e.length&&(!r||0==b.length))return w[0]+d+w[1];if(0>c)return x(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);e=r?n(a,b,c,g,e):e.map(function(d){return q(a,b,c,g,d,r)});a.seen.pop();return u(e,d,w)}function k(a,b){if(v(b))return a.stylize("undefined","undefined");if(y(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}if(w(b))return a.stylize(""+
b,"number");if(r(b))return a.stylize(""+b,"boolean");if(null===b)return a.stylize("null","null")}function p(a){return"["+Error.prototype.toString.call(a)+"]"}function n(a,b,c,d,e){for(var g=[],f=0,h=b.length;f<h;++f)Object.prototype.hasOwnProperty.call(b,String(f))?g.push(q(a,b,c,d,String(f),!0)):g.push("");e.forEach(function(e){e.match(/^\d+$/)||g.push(q(a,b,c,d,e,!0))});return g}function q(a,b,c,d,e,g){var f,h;b=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]};b.get?h=b.set?a.stylize("[Getter/Setter]",
"special"):a.stylize("[Getter]","special"):b.set&&(h=a.stylize("[Setter]","special"));Object.prototype.hasOwnProperty.call(d,e)||(f="["+e+"]");h||(0>a.seen.indexOf(b.value)?(h=null===c?m(a,b.value,null):m(a,b.value,c-1),-1<h.indexOf("\n")&&(h=g?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special"));if(v(f)){if(g&&e.match(/^\d+$/))return h;f=JSON.stringify(""+e);f.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?
(f=f.substr(1,f.length-2),f=a.stylize(f,"name")):(f=f.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),f=a.stylize(f,"string"))}return f+": "+h}function u(a,b,c){var d=0;return 60<a.reduce(function(a,b){d++;0<=b.indexOf("\n")&&d++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0)?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function t(a){return Array.isArray(a)}function r(a){return"boolean"===typeof a}function w(a){return"number"===typeof a}
function y(a){return"string"===typeof a}function v(a){return void 0===a}function x(a){return A(a)&&"[object RegExp]"===Object.prototype.toString.call(a)}function A(a){return"object"===typeof a&&null!==a}function D(a){return A(a)&&"[object Date]"===Object.prototype.toString.call(a)}function C(a){return A(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error)}function E(a){return"function"===typeof a}function B(a){return 10>a?"0"+a.toString(10):a.toString(10)}function I(){var a=
new Date,b=[B(a.getHours()),B(a.getMinutes()),B(a.getSeconds())].join(":");return[a.getDate(),G[a.getMonth()],b].join(" ")}var J=/%[sdj%]/g;f.format=function(a){if(!y(a)){for(var c=[],d=0;d<arguments.length;d++)c.push(b(arguments[d]));return c.join(" ")}for(var d=1,e=arguments,g=e.length,c=String(a).replace(J,function(a){if("%%"===a)return"%";if(d>=g)return a;switch(a){case "%s":return String(e[d++]);case "%d":return Number(e[d++]);case "%j":try{return JSON.stringify(e[d++])}catch(b){return"[Circular]"}default:return a}}),
f=e[d];d<g;f=e[++d])c=null!==f&&A(f)?c+(" "+b(f)):c+(" "+f);return c};f.deprecate=function(b,c){if(v(d.process))return function(){return f.deprecate(b,c).apply(this,arguments)};if(!0===a.noDeprecation)return b;var e=!1;return function(){if(!e){if(a.throwDeprecation)throw Error(c);a.traceDeprecation?console.trace(c):console.error(c);e=!0}return b.apply(this,arguments)}};var F={},K;f.debuglog=function(b){v(K)&&(K=a.env.NODE_DEBUG||"");b=b.toUpperCase();if(!F[b])if((new RegExp("\\b"+b+"\\b","i")).test(K)){var c=
a.pid;F[b]=function(){var a=f.format.apply(f,arguments);console.error("%s %d: %s",b,c,a)}}else F[b]=function(){};return F[b]};f.inspect=b;b.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};b.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};f.isArray=t;f.isBoolean=r;f.isNull=
function(a){return null===a};f.isNullOrUndefined=function(a){return null==a};f.isNumber=w;f.isString=y;f.isSymbol=function(a){return"symbol"===typeof a};f.isUndefined=v;f.isRegExp=x;f.isObject=A;f.isDate=D;f.isError=C;f.isFunction=E;f.isPrimitive=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a};f.isBuffer=e("./support/isBuffer");var G="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");f.log=function(){console.log("%s - %s",
I(),f.format.apply(f,arguments))};f.inherits=e("inherits");f._extend=function(a,b){if(!b||!A(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(this,e("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./support/isBuffer":"/stanza.io/node_modules/util/support/isBufferBrowser.js",_process:"/stanza.io/node_modules/browserify/node_modules/process/browser.js",inherits:"/stanza.io/node_modules/inherits/inherits_browser.js"}],
"/stanza.io/node_modules/uuid/rng-browser.js":[function(e,h,f){(function(a){var d;if(a.crypto&&crypto.getRandomValues){var b=new Uint8Array(16);d=function(){crypto.getRandomValues(b);return b}}if(!d){var c=Array(16);d=function(){for(var a=0,b;16>a;a++)0===(a&3)&&(b=4294967296*Math.random()),c[a]=b>>>((a&3)<<3)&255;return c}}h.exports=d}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],"/stanza.io/node_modules/uuid/uuid.js":[function(e,
h,f){function a(a,b){var d=b||0,e=c;return e[a[d++]]+e[a[d++]]+e[a[d++]]+e[a[d++]]+"-"+e[a[d++]]+e[a[d++]]+"-"+e[a[d++]]+e[a[d++]]+"-"+e[a[d++]]+e[a[d++]]+"-"+e[a[d++]]+e[a[d++]]+e[a[d++]]+e[a[d++]]+e[a[d++]]+e[a[d++]]}function d(c,d,e){e=d&&e||0;"string"==typeof c&&(d="binary"==c?Array(16):null,c=null);c=c||{};c=c.random||(c.rng||b)();c[6]=c[6]&15|64;c[8]=c[8]&63|128;if(d)for(var g=0;16>g;g++)d[e+g]=c[g];return d||a(c)}var b=e("./rng"),c=[],g={};for(e=0;256>e;e++)c[e]=(e+256).toString(16).substr(1),
g[c[e]]=e;e=b();var l=[e[0]|1,e[1],e[2],e[3],e[4],e[5]],m=(e[6]<<8|e[7])&16383,k=0,p=0;d.v1=function(b,c,d){d=c&&d||0;var e=c||[];b=b||{};var g=void 0!==b.clockseq?b.clockseq:m,f=void 0!==b.msecs?b.msecs:(new Date).getTime(),h=void 0!==b.nsecs?b.nsecs:p+1,v=f-k+(h-p)/1E4;0>v&&void 0===b.clockseq&&(g=g+1&16383);(0>v||f>k)&&void 0===b.nsecs&&(h=0);if(1E4<=h)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");k=f;p=h;m=g;f+=122192928E5;h=(1E4*(f&268435455)+h)%4294967296;e[d++]=h>>>24&255;
e[d++]=h>>>16&255;e[d++]=h>>>8&255;e[d++]=h&255;f=f/4294967296*1E4&268435455;e[d++]=f>>>8&255;e[d++]=f&255;e[d++]=f>>>24&15|16;e[d++]=f>>>16&255;e[d++]=g>>>8|128;e[d++]=g&255;b=b.node||l;for(g=0;6>g;g++)e[d+g]=b[g];return c?c:a(e)};d.v4=d;d.parse=function(a,b,c){var d=b&&c||0,e=0;b=b||[];for(a.toLowerCase().replace(/[0-9a-f]{2}/g,function(a){16>e&&(b[d+e++]=g[a])});16>e;)b[d+e++]=0;return b};d.unparse=a;h.exports=d},{"./rng":"/stanza.io/node_modules/uuid/rng-browser.js"}],"/stanza.io/node_modules/webrtc-adapter/src/js/adapter_core.js":[function(e,
h,f){f=e("./utils").log;var a=e("./utils").browserDetails;h.exports.browserDetails=a;h.exports.extractVersion=e("./utils").extractVersion;h.exports.disableLog=e("./utils").disableLog;var d=e("./chrome/chrome_shim")||null,b=e("./edge/edge_shim")||null;e=e("./firefox/firefox_shim")||null;switch(a.browser){case "chrome":if(!d||!d.shimPeerConnection){f("Chrome shim is not included in this adapter release.");break}f("adapter.js shimming chrome!");h.exports.browserShim=d;d.shimGetUserMedia();d.shimSourceObject();
d.shimPeerConnection();d.shimOnTrack();break;case "edge":if(!b||!b.shimPeerConnection){f("MS edge shim is not included in this adapter release.");break}f("adapter.js shimming edge!");h.exports.browserShim=b;b.shimPeerConnection();break;case "firefox":if(!e||!e.shimPeerConnection){f("Firefox shim is not included in this adapter release.");break}f("adapter.js shimming firefox!");h.exports.browserShim=e;e.shimGetUserMedia();e.shimSourceObject();e.shimPeerConnection();e.shimOnTrack();break;default:f("Unsupported browser!")}},
{"./chrome/chrome_shim":"/stanza.io/node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js","./edge/edge_shim":"/stanza.io/node_modules/webrtc-adapter/src/js/edge/edge_shim.js","./firefox/firefox_shim":"/stanza.io/node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js","./utils":"/stanza.io/node_modules/webrtc-adapter/src/js/utils.js"}],"/stanza.io/node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js":[function(e,h,f){var a=e("../utils.js").log,d=e("../utils.js").browserDetails;h.exports=
{shimOnTrack:function(){"object"!==typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(a){var c=this;this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly));this.addEventListener("track",this._ontrack=a);this.addEventListener("addstream",this._ontrackpoly=function(a){a.stream.addEventListener("addtrack",
function(b){var d=new Event("track");d.track=b.track;d.receiver={track:b.track};d.streams=[a.stream];c.dispatchEvent(d)});a.stream.getTracks().forEach(function(b){var c=new Event("track");c.track=b;c.receiver={track:b};c.streams=[a.stream];this.dispatchEvent(c)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"===typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},
set:function(a){var c=this;this._srcObject=a;this.src&&URL.revokeObjectURL(this.src);a?(this.src=URL.createObjectURL(a),a.addEventListener("addtrack",function(){c.src&&URL.revokeObjectURL(c.src);c.src=URL.createObjectURL(a)}),a.addEventListener("removetrack",function(){c.src&&URL.revokeObjectURL(c.src);c.src=URL.createObjectURL(a)})):this.src=""}}))},shimPeerConnection:function(){window.RTCPeerConnection=function(b,c){a("PeerConnection");b&&b.iceTransportPolicy&&(b.iceTransports=b.iceTransportPolicy);
var d=new webkitRTCPeerConnection(b,c),e=d.getStats.bind(d);d.getStats=function(a,b,c){var d=this,g=arguments;if(0<arguments.length&&"function"===typeof a)return e(a,b);var f=function(a){var b={};a.result().forEach(function(a){var c={id:a.id,timestamp:a.timestamp,type:a.type};a.names().forEach(function(b){c[b]=a.stat(b)});b[c.id]=c});return b};return 2<=arguments.length?e.apply(this,[function(a){g[1](f(a))},arguments[0]]):new Promise(function(b,c){1===g.length&&null===a?e.apply(d,[function(a){b.apply(null,
[f(a)])},c]):e.apply(d,[b,c])})};return d};window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype;webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return arguments.length?webkitRTCPeerConnection.generateCertificate.apply(null,arguments):webkitRTCPeerConnection.generateCertificate}});["createOffer","createAnswer"].forEach(function(a){var c=webkitRTCPeerConnection.prototype[a];webkitRTCPeerConnection.prototype[a]=
function(){var a=this;if(1>arguments.length||1===arguments.length&&"object"===typeof arguments[0]){var b=1===arguments.length?arguments[0]:void 0;return new Promise(function(d,e){c.apply(a,[d,e,b])})}return c.apply(this,arguments)}});["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(a){var c=webkitRTCPeerConnection.prototype[a];webkitRTCPeerConnection.prototype[a]=function(){var a=arguments,b=this;return new Promise(function(d,e){c.apply(b,[a[0],function(){d();2<=a.length&&
a[1].apply(null,[])},function(b){e(b);3<=a.length&&a[2].apply(null,[b])}])})}})},shimGetUserMedia:e("./getusermedia"),attachMediaStream:function(b,c){a("DEPRECATED, attachMediaStream will soon be removed.");43<=d.version?b.srcObject=c:"undefined"!==typeof b.src?b.src=URL.createObjectURL(c):a("Error attaching stream to element.")},reattachMediaStream:function(b,c){a("DEPRECATED, reattachMediaStream will soon be removed.");43<=d.version?b.srcObject=c.srcObject:b.src=c.src}}},{"../utils.js":"/stanza.io/node_modules/webrtc-adapter/src/js/utils.js",
"./getusermedia":"/stanza.io/node_modules/webrtc-adapter/src/js/chrome/getusermedia.js"}],"/stanza.io/node_modules/webrtc-adapter/src/js/chrome/getusermedia.js":[function(e,h,f){var a=e("../utils.js").log;h.exports=function(){var d=function(a){if("object"!==typeof a||a.mandatory||a.optional)return a;var b={};Object.keys(a).forEach(function(c){if("require"!==c&&"advanced"!==c&&"mediaSource"!==c){var d="object"===typeof a[c]?a[c]:{ideal:a[c]};void 0!==d.exact&&"number"===typeof d.exact&&(d.min=d.max=
d.exact);var e=function(a,b){return a?a+b.charAt(0).toUpperCase()+b.slice(1):"deviceId"===b?"sourceId":b};if(void 0!==d.ideal){b.optional=b.optional||[];var f={};"number"===typeof d.ideal?(f[e("min",c)]=d.ideal,b.optional.push(f),f={},f[e("max",c)]=d.ideal):f[e("",c)]=d.ideal;b.optional.push(f)}void 0!==d.exact&&"number"!==typeof d.exact?(b.mandatory=b.mandatory||{},b.mandatory[e("",c)]=d.exact):["min","max"].forEach(function(a){void 0!==d[a]&&(b.mandatory=b.mandatory||{},b.mandatory[e(a,c)]=d[a])})}});
a.advanced&&(b.optional=(b.optional||[]).concat(a.advanced));return b};navigator.getUserMedia=function(b,c,e){b.audio&&(b.audio=d(b.audio));b.video&&(b.video=d(b.video));a("chrome: "+JSON.stringify(b));return navigator.webkitGetUserMedia(b,c,e)};var b=function(a){return new Promise(function(b,c){navigator.getUserMedia(a,b,c)})};navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:b,enumerateDevices:function(){return new Promise(function(a){var b={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(c){a(c.map(function(a){return{label:a.label,
kind:b[a.kind],deviceId:a.id,groupId:""}}))})})}});if(navigator.mediaDevices.getUserMedia){var c=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(b){b&&(a("spec:   "+JSON.stringify(b)),b.audio=d(b.audio),b.video=d(b.video),a("chrome: "+JSON.stringify(b)));return c(b)}.bind(this)}else navigator.mediaDevices.getUserMedia=function(a){return b(a)};"undefined"===typeof navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=
function(){a("Dummy mediaDevices.addEventListener called.")});"undefined"===typeof navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){a("Dummy mediaDevices.removeEventListener called.")})}},{"../utils.js":"/stanza.io/node_modules/webrtc-adapter/src/js/utils.js"}],"/stanza.io/node_modules/webrtc-adapter/src/js/edge/edge_sdp.js":[function(e,h,f){var a={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};a.localCName=a.generateIdentifier();
a.splitLines=function(a){return a.trim().split("\n").map(function(a){return a.trim()})};a.splitSections=function(a){return a.split("\r\nm=").map(function(a,c){return(0<c?"m="+a:a).trim()+"\r\n"})};a.matchPrefix=function(d,b){return a.splitLines(d).filter(function(a){return 0===a.indexOf(b)})};a.parseCandidate=function(a){a=0===a.indexOf("a=candidate:")?a.substring(12).split(" "):a.substring(10).split(" ");for(var b={foundation:a[0],component:a[1],protocol:a[2].toLowerCase(),priority:parseInt(a[3],
10),ip:a[4],port:parseInt(a[5],10),type:a[7]},c=8;c<a.length;c+=2)switch(a[c]){case "raddr":b.relatedAddress=a[c+1];break;case "rport":b.relatedPort=parseInt(a[c+1],10);break;case "tcptype":b.tcpType=a[c+1]}return b};a.writeCandidate=function(a){var b=[];b.push(a.foundation);b.push(a.component);b.push(a.protocol.toUpperCase());b.push(a.priority);b.push(a.ip);b.push(a.port);var c=a.type;b.push("typ");b.push(c);"host"!==c&&a.relatedAddress&&a.relatedPort&&(b.push("raddr"),b.push(a.relatedAddress),b.push("rport"),
b.push(a.relatedPort));a.tcpType&&"tcp"===a.protocol.toLowerCase()&&(b.push("tcptype"),b.push(a.tcpType));return"candidate:"+b.join(" ")};a.parseRtpMap=function(a){a=a.substr(9).split(" ");var b={payloadType:parseInt(a.shift(),10)};a=a[0].split("/");b.name=a[0];b.clockRate=parseInt(a[1],10);b.numChannels=3===a.length?parseInt(a[2],10):1;return b};a.writeRtpMap=function(a){var b=a.payloadType;void 0!==a.preferredPayloadType&&(b=a.preferredPayloadType);return"a=rtpmap:"+b+" "+a.name+"/"+a.clockRate+
(1!==a.numChannels?"/"+a.numChannels:"")+"\r\n"};a.parseFmtp=function(a){for(var b={},c=a.substr(a.indexOf(" ")+1).split(";"),e=0;e<c.length;e++)a=c[e].trim().split("="),b[a[0].trim()]=a[1];return b};a.writeFtmp=function(a){var b="",c=a.payloadType;void 0!==a.preferredPayloadType&&(c=a.preferredPayloadType);if(a.parameters&&a.parameters.length){var e=[];Object.keys(a.parameters).forEach(function(b){e.push(b+"="+a.parameters[b])});b+="a=fmtp:"+c+" "+e.join(";")+"\r\n"}return b};a.parseRtcpFb=function(a){a=
a.substr(a.indexOf(" ")+1).split(" ");return{type:a.shift(),parameter:a.join(" ")}};a.writeRtcpFb=function(a){var b="",c=a.payloadType;void 0!==a.preferredPayloadType&&(c=a.preferredPayloadType);a.rtcpFeedback&&a.rtcpFeedback.length&&a.rtcpFeedback.forEach(function(a){b+="a=rtcp-fb:"+c+" "+a.type+" "+a.parameter+"\r\n"});return b};a.parseSsrcMedia=function(a){var b=a.indexOf(" "),c={ssrc:a.substr(7,b-7)},e=a.indexOf(":",b);-1<e?(c.attribute=a.substr(b+1,e-b-1),c.value=a.substr(e+1)):c.attribute=a.substr(b+
1);return c};a.getDtlsParameters=function(d,b){var c=a.splitLines(d),c=c.concat(a.splitLines(b)),c=c.filter(function(a){return 0===a.indexOf("a=fingerprint:")})[0].substr(14);return{role:"auto",fingerprints:[{algorithm:c.split(" ")[0],value:c.split(" ")[1]}]}};a.writeDtlsParameters=function(a,b){var c="a=setup:"+b+"\r\n";a.fingerprints.forEach(function(a){c+="a=fingerprint:"+a.algorithm+" "+a.value+"\r\n"});return c};a.getIceParameters=function(d,b){var c=a.splitLines(d),c=c.concat(a.splitLines(b));
return{usernameFragment:c.filter(function(a){return 0===a.indexOf("a=ice-ufrag:")})[0].substr(12),password:c.filter(function(a){return 0===a.indexOf("a=ice-pwd:")})[0].substr(10)}};a.writeIceParameters=function(a){return"a=ice-ufrag:"+a.usernameFragment+"\r\na=ice-pwd:"+a.password+"\r\n"};a.parseRtpParameters=function(d){for(var b={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},c=a.splitLines(d)[0].split(" "),e=3;e<c.length;e++){var f=c[e],h=a.matchPrefix(d,"a=rtpmap:"+f+" ")[0];if(h){var h=
a.parseRtpMap(h),k=a.matchPrefix(d,"a=fmtp:"+f+" ");h.parameters=k.length?a.parseFmtp(k[0]):{};h.rtcpFeedback=a.matchPrefix(d,"a=rtcp-fb:"+f+" ").map(a.parseRtcpFb);b.codecs.push(h)}}return b};a.writeRtpDescription=function(d,b){var c="",c=c+("m="+d+" "),c=c+(0<b.codecs.length?"9":"0"),c=c+" UDP/TLS/RTP/SAVPF ",c=c+(b.codecs.map(function(a){return void 0!==a.preferredPayloadType?a.preferredPayloadType:a.payloadType}).join(" ")+"\r\n"),c=c+"c=IN IP4 0.0.0.0\r\n",c=c+"a=rtcp:9 IN IP4 0.0.0.0\r\n";b.codecs.forEach(function(b){c+=
a.writeRtpMap(b);c+=a.writeFtmp(b);c+=a.writeRtcpFb(b)});return c+="a=rtcp-mux\r\n"};a.writeSessionBoilerplate=function(){return"v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"};a.writeMediaSection=function(d,b,c,e){b=a.writeRtpDescription(d.kind,b);b+=a.writeIceParameters(d.iceGatherer.getLocalParameters());b+=a.writeDtlsParameters(d.dtlsTransport.getLocalParameters(),"offer"===c?"actpass":"active");b+="a=mid:"+d.mid+"\r\n";b=d.rtpSender&&d.rtpReceiver?b+"a=sendrecv\r\n":
d.rtpSender?b+"a=sendonly\r\n":d.rtpReceiver?b+"a=recvonly\r\n":b+"a=inactive\r\n";d.rtpSender&&(c="msid:"+e.id+" "+d.rtpSender.track.id+"\r\n",b=b+("a="+c)+("a=ssrc:"+d.sendSsrc+" "+c));return b+="a=ssrc:"+d.sendSsrc+" cname:"+a.localCName+"\r\n"};a.getDirection=function(d,b){for(var c=a.splitLines(d),e=0;e<c.length;e++)switch(c[e]){case "a=sendrecv":case "a=sendonly":case "a=recvonly":case "a=inactive":return c[e].substr(2)}return b?a.getDirection(b):"sendrecv"};h.exports=a},{}],"/stanza.io/node_modules/webrtc-adapter/src/js/edge/edge_shim.js":[function(e,
h,f){var a=e("./edge_sdp"),d=e("../utils").log;e("../utils");h.exports={shimPeerConnection:function(){window.RTCIceGatherer&&(window.RTCIceCandidate||(window.RTCIceCandidate=function(a){return a}),window.RTCSessionDescription||(window.RTCSessionDescription=function(a){return a}));window.RTCPeerConnection=function(a){var c=this,d=document.createDocumentFragment();["addEventListener","removeEventListener","dispatchEvent"].forEach(function(a){c[a]=d[a].bind(d)});this.ondatachannel=this.onnegotiationneeded=
this.oniceconnectionstatechange=this.onsignalingstatechange=this.onremovestream=this.ontrack=this.onaddstream=this.onicecandidate=null;this.localStreams=[];this.remoteStreams=[];this.getLocalStreams=function(){return c.localStreams};this.getRemoteStreams=function(){return c.remoteStreams};this.localDescription=new RTCSessionDescription({type:"",sdp:""});this.remoteDescription=new RTCSessionDescription({type:"",sdp:""});this.signalingState="stable";this.iceGatheringState=this.iceConnectionState="new";
this.iceOptions={gatherPolicy:"all",iceServers:[]};if(a&&a.iceTransportPolicy)switch(a.iceTransportPolicy){case "all":case "relay":this.iceOptions.gatherPolicy=a.iceTransportPolicy;break;case "none":throw new TypeError('iceTransportPolicy "none" not supported');}a&&a.iceServers&&(this.iceOptions.iceServers=a.iceServers.filter(function(a){return a&&a.urls?(a.urls=a.urls.filter(function(a){return-1!==a.indexOf("transport=udp")})[0],!0):!1}));this.transceivers=[];this._localIceCandidatesBuffer=[]};window.RTCPeerConnection.prototype._emitBufferedCandidates=
function(){var b=this,c=a.splitSections(b.localDescription.sdp);this._localIceCandidatesBuffer.forEach(function(a){if(a.candidate&&0!=Object.keys(a.candidate).length)c[a.candidate.sdpMLineIndex+1]+="a="+a.candidate.candidate+"\r\n";else for(var d=1;d<c.length;d++)c[d]+="a=end-of-candidates\r\n";b.dispatchEvent(a);if(null!==b.onicecandidate)b.onicecandidate(a);a.candidate||(b.iceGatheringState="complete")});this._localIceCandidatesBuffer=[];this.localDescription.sdp=c.join("")};window.RTCPeerConnection.prototype.addStream=
function(a){this.localStreams.push(a.clone());this._maybeFireNegotiationNeeded()};window.RTCPeerConnection.prototype.removeStream=function(a){a=this.localStreams.indexOf(a);-1<a&&(this.localStreams.splice(a,1),this._maybeFireNegotiationNeeded())};window.RTCPeerConnection.prototype._getCommonCapabilities=function(a,c){var d={codecs:[],headerExtensions:[],fecMechanisms:[]};a.codecs.forEach(function(a){for(var b=0;b<c.codecs.length;b++){var e=c.codecs[b];if(a.name.toLowerCase()===e.name.toLowerCase()&&
a.clockRate===e.clockRate&&a.numChannels===e.numChannels){d.codecs.push(e);break}}});a.headerExtensions.forEach(function(a){for(var b=0;b<c.headerExtensions.length;b++){var e=c.headerExtensions[b];if(a.uri===e.uri){d.headerExtensions.push(e);break}}});return d};window.RTCPeerConnection.prototype._createIceAndDtlsTransports=function(b,c){var d=this,e=new RTCIceGatherer(d.iceOptions),f=new RTCIceTransport(e);e.onlocalcandidate=function(h){var k=new Event("icecandidate");k.candidate={sdpMid:b,sdpMLineIndex:c};
var q=h.candidate;(h=!q||0===Object.keys(q).length)?(void 0===e.state&&(e.state="completed"),k.candidate.candidate="candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates"):(q.component="RTCP"===f.component?2:1,k.candidate.candidate=a.writeCandidate(q));q=d.transceivers.every(function(a){return a.iceGatherer&&"completed"===a.iceGatherer.state});if(d.localDescription&&""!==d.localDescription.type){var u=a.splitSections(d.localDescription.sdp);u[c+1]+=(h?"a=end-of-candidates":"a="+k.candidate.candidate)+
"\r\n";d.localDescription.sdp=u.join("")}switch(d.iceGatheringState){case "new":d._localIceCandidatesBuffer.push(k);q&&d._localIceCandidatesBuffer.push(new Event("icecandidate"));break;case "gathering":d._emitBufferedCandidates();d.dispatchEvent(k);if(null!==d.onicecandidate)d.onicecandidate(k);if(q){d.dispatchEvent(new Event("icecandidate"));if(null!==d.onicecandidate)d.onicecandidate(new Event("icecandidate"));d.iceGatheringState="complete"}}};f.onicestatechange=function(){d._updateConnectionState()};
var h=new RTCDtlsTransport(f);h.ondtlsstatechange=function(){d._updateConnectionState()};h.onerror=function(){h.state="failed";d._updateConnectionState()};return{iceGatherer:e,iceTransport:f,dtlsTransport:h}};window.RTCPeerConnection.prototype._transceive=function(b,c,d){var e=this._getCommonCapabilities(b.localCapabilities,b.remoteCapabilities);c&&b.rtpSender&&(e.encodings=[{ssrc:b.sendSsrc}],e.rtcp={cname:a.localCName,ssrc:b.recvSsrc},b.rtpSender.send(e));d&&b.rtpReceiver&&(e.encodings=[{ssrc:b.recvSsrc}],
e.rtcp={cname:b.cname,ssrc:b.sendSsrc},b.rtpReceiver.receive(e))};window.RTCPeerConnection.prototype.setLocalDescription=function(b){var c=this;if("offer"===b.type)this._pendingOffer&&(this.transceivers=this._pendingOffer,delete this._pendingOffer);else if("answer"===b.type){var d=a.splitSections(c.remoteDescription.sdp),e=d.shift();d.forEach(function(b,d){var g=c.transceivers[d],f=g.iceGatherer,h=g.iceTransport,k=g.dtlsTransport,m=g.localCapabilities,y=g.remoteCapabilities;if("0"!==b.split("\n",
1)[0].split(" ",2)[1]){var v=a.getIceParameters(b,e);h.start(f,v,"controlled");f=a.getDtlsParameters(b,e);k.start(f);k=c._getCommonCapabilities(m,y);c._transceive(g,0<k.codecs.length,!1)}})}this.localDescription={type:b.type,sdp:b.sdp};switch(b.type){case "offer":this._updateSignalingState("have-local-offer");break;case "answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+b.type+'"');}var f=1<arguments.length&&"function"===typeof arguments[1];if(f){var h=
arguments[1];window.setTimeout(function(){h();"new"===c.iceGatheringState&&(c.iceGatheringState="gathering");c._emitBufferedCandidates()},0)}d=Promise.resolve();d.then(function(){f||("new"===c.iceGatheringState&&(c.iceGatheringState="gathering"),window.setTimeout(c._emitBufferedCandidates.bind(c),500))});return d};window.RTCPeerConnection.prototype.setRemoteDescription=function(b){var c=this,d=new MediaStream,e=[],f=a.splitSections(b.sdp),h=f.shift();f.forEach(function(f,m){var q=a.splitLines(f)[0].substr(2).split(" "),
u=q[0],t="0"===q[1],q=a.getDirection(f,h),r,w,y,v,x,A,D,C,E=a.parseRtpParameters(f),B;t||(B=a.getIceParameters(f,h),C=a.getDtlsParameters(f,h));r=a.matchPrefix(f,"a=mid:")[0].substr(6);var I;if(x=a.matchPrefix(f,"a=ssrc:").map(function(b){return a.parseSsrcMedia(b)}).filter(function(a){return"cname"===a.attribute})[0])A=parseInt(x.ssrc,10),I=x.value;"offer"===b.type?(B=c._createIceAndDtlsTransports(r,m),D=RTCRtpReceiver.getCapabilities(u),x=1001*(2*m+2),t=new RTCRtpReceiver(B.dtlsTransport,u),C=t.track,
e.push([C,t]),d.addTrack(C),0<c.localStreams.length&&c.localStreams[0].getTracks().length>=m&&(v=c.localStreams[0].getTracks()[m],v=new RTCRtpSender(v,B.dtlsTransport)),c.transceivers[m]={iceGatherer:B.iceGatherer,iceTransport:B.iceTransport,dtlsTransport:B.dtlsTransport,localCapabilities:D,remoteCapabilities:E,rtpSender:v,rtpReceiver:t,kind:u,mid:r,cname:I,sendSsrc:x,recvSsrc:A},c._transceive(c.transceivers[m],!1,"sendrecv"===q||"sendonly"===q)):"answer"!==b.type||t||(u=c.transceivers[m],r=u.iceGatherer,
w=u.iceTransport,y=u.dtlsTransport,v=u.rtpSender,t=u.rtpReceiver,x=u.sendSsrc,D=u.localCapabilities,c.transceivers[m].recvSsrc=A,c.transceivers[m].remoteCapabilities=E,c.transceivers[m].cname=I,w.start(r,B,"controlling"),y.start(C),c._transceive(u,"sendrecv"===q||"recvonly"===q,"sendrecv"===q||"sendonly"===q),!t||"sendrecv"!==q&&"sendonly"!==q?delete u.rtpReceiver:(C=t.track,e.push([C,t]),d.addTrack(C)))});this.remoteDescription={type:b.type,sdp:b.sdp};switch(b.type){case "offer":this._updateSignalingState("have-remote-offer");
break;case "answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+b.type+'"');}d.getTracks().length&&(c.remoteStreams.push(d),window.setTimeout(function(){var a=new Event("addstream");a.stream=d;c.dispatchEvent(a);null!==c.onaddstream&&window.setTimeout(function(){c.onaddstream(a)},0);e.forEach(function(a){var b=a[0];a=a[1];var e=new Event("track");e.track=b;e.receiver=a;e.streams=[d];c.dispatchEvent(e);null!==c.ontrack&&window.setTimeout(function(){c.ontrack(e)},
0)})},0));1<arguments.length&&"function"===typeof arguments[1]&&window.setTimeout(arguments[1],0);return Promise.resolve()};window.RTCPeerConnection.prototype.close=function(){this.transceivers.forEach(function(a){a.iceTransport&&a.iceTransport.stop();a.dtlsTransport&&a.dtlsTransport.stop();a.rtpSender&&a.rtpSender.stop();a.rtpReceiver&&a.rtpReceiver.stop()});this._updateSignalingState("closed")};window.RTCPeerConnection.prototype._updateSignalingState=function(a){this.signalingState=a;a=new Event("signalingstatechange");
this.dispatchEvent(a);if(null!==this.onsignalingstatechange)this.onsignalingstatechange(a)};window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded=function(){var a=new Event("negotiationneeded");this.dispatchEvent(a);if(null!==this.onnegotiationneeded)this.onnegotiationneeded(a)};window.RTCPeerConnection.prototype._updateConnectionState=function(){var a,c={"new":0,closed:0,connecting:0,checking:0,connected:0,completed:0,failed:0};this.transceivers.forEach(function(a){c[a.iceTransport.state]++;
c[a.dtlsTransport.state]++});c.connected+=c.completed;a="new";if(0<c.failed)a="failed";else if(0<c.connecting||0<c.checking)a="connecting";else if(0<c.disconnected)a="disconnected";else if(0<c["new"])a="new";else if(0<c.connecting||0<c.completed)a="connected";if(a!==this.iceConnectionState&&(this.iceConnectionState=a,a=new Event("iceconnectionstatechange"),this.dispatchEvent(a),null!==this.oniceconnectionstatechange))this.oniceconnectionstatechange(a)};window.RTCPeerConnection.prototype.createOffer=
function(){var b=this;if(this._pendingOffer)throw Error("createOffer called while there is a pending offer.");var c;1===arguments.length&&"function"!==typeof arguments[0]?c=arguments[0]:3===arguments.length&&(c=arguments[2]);var d=[],e=0,f=0;this.localStreams.length&&(e=this.localStreams[0].getAudioTracks().length,f=this.localStreams[0].getVideoTracks().length);if(c){if(c.mandatory||c.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==c.offerToReceiveAudio&&
(e=c.offerToReceiveAudio);void 0!==c.offerToReceiveVideo&&(f=c.offerToReceiveVideo)}for(this.localStreams.length&&this.localStreams[0].getTracks().forEach(function(a){d.push({kind:a.kind,track:a,wantReceive:"audio"===a.kind?0<e:0<f});"audio"===a.kind?e--:"video"===a.kind&&f--});0<e||0<f;)0<e&&(d.push({kind:"audio",wantReceive:!0}),e--),0<f&&(d.push({kind:"video",wantReceive:!0}),f--);var h=a.writeSessionBoilerplate(),p=[];d.forEach(function(c,d){var e=c.track,f=c.kind,g=a.generateIdentifier(),l=b._createIceAndDtlsTransports(g,
d),m=RTCRtpSender.getCapabilities(f),v,x,A=1001*(2*d+1);e&&(v=new RTCRtpSender(e,l.dtlsTransport));c.wantReceive&&(x=new RTCRtpReceiver(l.dtlsTransport,f));p[d]={iceGatherer:l.iceGatherer,iceTransport:l.iceTransport,dtlsTransport:l.dtlsTransport,localCapabilities:m,remoteCapabilities:null,rtpSender:v,rtpReceiver:x,kind:f,mid:g,sendSsrc:A,recvSsrc:null};e=p[d];h+=a.writeMediaSection(e,e.localCapabilities,"offer",b.localStreams[0])});this._pendingOffer=p;c=new RTCSessionDescription({type:"offer",sdp:h});
arguments.length&&"function"===typeof arguments[0]&&window.setTimeout(arguments[0],0,c);return Promise.resolve(c)};window.RTCPeerConnection.prototype.createAnswer=function(){var b=this,c=a.writeSessionBoilerplate();this.transceivers.forEach(function(d){var e=b._getCommonCapabilities(d.localCapabilities,d.remoteCapabilities);c+=a.writeMediaSection(d,e,"answer",b.localStreams[0])});var d=new RTCSessionDescription({type:"answer",sdp:c});arguments.length&&"function"===typeof arguments[0]&&window.setTimeout(arguments[0],
0,d);return Promise.resolve(d)};window.RTCPeerConnection.prototype.addIceCandidate=function(b){var c=b.sdpMLineIndex;if(b.sdpMid)for(var d=0;d<this.transceivers.length;d++)if(this.transceivers[d].mid===b.sdpMid){c=d;break}var e=this.transceivers[c];if(e){d=0<Object.keys(b.candidate).length?a.parseCandidate(b.candidate):{};if("tcp"===d.protocol&&0===d.port||"1"!==d.component)return;"endOfCandidates"===d.type&&(d={});e.iceTransport.addRemoteCandidate(d);e=a.splitSections(this.remoteDescription.sdp);
e[c+1]+=(d.type?b.candidate.trim():"a=end-of-candidates")+"\r\n";this.remoteDescription.sdp=e.join("")}1<arguments.length&&"function"===typeof arguments[1]&&window.setTimeout(arguments[1],0);return Promise.resolve()};window.RTCPeerConnection.prototype.getStats=function(){var a=[];this.transceivers.forEach(function(c){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(d){c[d]&&a.push(c[d].getStats())})});var c=1<arguments.length&&"function"===typeof arguments[1]&&
arguments[1];return new Promise(function(d){var e={};Promise.all(a).then(function(a){a.forEach(function(a){Object.keys(a).forEach(function(b){e[b]=a[b]})});c&&window.setTimeout(c,0,e);d(e)})})}},attachMediaStream:function(a,c){d("DEPRECATED, attachMediaStream will soon be removed.");a.srcObject=c},reattachMediaStream:function(a,c){d("DEPRECATED, reattachMediaStream will soon be removed.");a.srcObject=c.srcObject}}},{"../utils":"/stanza.io/node_modules/webrtc-adapter/src/js/utils.js","./edge_sdp":"/stanza.io/node_modules/webrtc-adapter/src/js/edge/edge_sdp.js"}],
"/stanza.io/node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js":[function(e,h,f){var a=e("../utils").log,d=e("../utils").browserDetails;h.exports={shimOnTrack:function(){"object"!==typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(a){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",
this._ontrackpoly));this.addEventListener("track",this._ontrack=a);this.addEventListener("addstream",this._ontrackpoly=function(a){a.stream.getTracks().forEach(function(b){var d=new Event("track");d.track=b;d.receiver={track:b};d.streams=[a.stream];this.dispatchEvent(d)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"===typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},
set:function(a){this.mozSrcObject=a}}))},shimPeerConnection:function(){window.RTCPeerConnection||(window.RTCPeerConnection=function(a,c){if(38>d.version&&a&&a.iceServers){for(var e=[],f=0;f<a.iceServers.length;f++){var h=a.iceServers[f];if(h.hasOwnProperty("urls"))for(var k=0;k<h.urls.length;k++){var p={url:h.urls[k]};0===h.urls[k].indexOf("turn")&&(p.username=h.username,p.credential=h.credential);e.push(p)}else e.push(a.iceServers[f])}a.iceServers=e}return new mozRTCPeerConnection(a,c)},window.RTCPeerConnection.prototype=
mozRTCPeerConnection.prototype,mozRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return arguments.length?mozRTCPeerConnection.generateCertificate.apply(null,arguments):mozRTCPeerConnection.generateCertificate}}),window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate)},shimGetUserMedia:e("./getusermedia"),attachMediaStream:function(b,c){a("DEPRECATED, attachMediaStream will soon be removed.");
b.srcObject=c},reattachMediaStream:function(b,c){a("DEPRECATED, reattachMediaStream will soon be removed.");b.srcObject=c.srcObject}}},{"../utils":"/stanza.io/node_modules/webrtc-adapter/src/js/utils.js","./getusermedia":"/stanza.io/node_modules/webrtc-adapter/src/js/firefox/getusermedia.js"}],"/stanza.io/node_modules/webrtc-adapter/src/js/firefox/getusermedia.js":[function(e,h,f){var a=e("../utils").log,d=e("../utils").browserDetails;h.exports=function(){navigator.getUserMedia=function(b,c,e){var f=
function(a){if("object"!==typeof a||a.require)return a;var b=[];Object.keys(a).forEach(function(c){if("require"!==c&&"advanced"!==c&&"mediaSource"!==c){var d=a[c]="object"===typeof a[c]?a[c]:{ideal:a[c]};void 0===d.min&&void 0===d.max&&void 0===d.exact||b.push(c);void 0!==d.exact&&("number"===typeof d.exact?d.min=d.max=d.exact:a[c]=d.exact,delete d.exact);if(void 0!==d.ideal){a.advanced=a.advanced||[];var e={};e[c]="number"===typeof d.ideal?{min:d.ideal,max:d.ideal}:d.ideal;a.advanced.push(e);delete d.ideal;
Object.keys(d).length||delete a[c]}}});b.length&&(a.require=b);return a};38>d.version&&(a("spec: "+JSON.stringify(b)),b.audio&&(b.audio=f(b.audio)),b.video&&(b.video=f(b.video)),a("ff37: "+JSON.stringify(b)));return navigator.mozGetUserMedia(b,c,e)};var b=function(a){return new Promise(function(b,c){navigator.getUserMedia(a,b,c)})};navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:b,addEventListener:function(){},removeEventListener:function(){}});navigator.mediaDevices.enumerateDevices=
navigator.mediaDevices.enumerateDevices||function(){return new Promise(function(a){a([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])})};if(41>d.version){var c=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return c().then(void 0,function(a){if("NotFoundError"===a.name)return[];throw a;})}}}},{"../utils":"/stanza.io/node_modules/webrtc-adapter/src/js/utils.js"}],
"/stanza.io/node_modules/webrtc-adapter/src/js/utils.js":[function(e,h,f){var a=!1,d={disableLog:function(b){return"boolean"!==typeof b?Error("Argument type: "+typeof b+". Please use a boolean."):(a=b)?"adapter.js logging disabled":"adapter.js logging enabled"},log:function(){"object"!==typeof window||a||console.log.apply(console,arguments)},extractVersion:function(a,c,d){return(a=a.match(c))&&a.length>=d&&parseInt(a[d],10)},detectBrowser:function(){var a={browser:null,version:null,minVersion:null};
if("undefined"!==typeof window&&window.navigator)if(navigator.mozGetUserMedia)a.browser="firefox",a.version=this.extractVersion(navigator.userAgent,/Firefox\/([0-9]+)\./,1),a.minVersion=31;else if(navigator.webkitGetUserMedia&&window.webkitRTCPeerConnection)a.browser="chrome",a.version=this.extractVersion(navigator.userAgent,/Chrom(e|ium)\/([0-9]+)\./,2),a.minVersion=38;else if(navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))a.browser="edge",a.version=this.extractVersion(navigator.userAgent,
/Edge\/(\d+).(\d+)$/,2),a.minVersion=10547;else return a.browser="Not a supported browser.",a;else return a.browser="Not a browser.",a;a.version<a.minVersion&&d.log("Browser: "+a.browser+" Version: "+a.version+" < minimum supported version: "+a.minVersion+"\n some things might not work!");return a}};h.exports={log:d.log,disableLog:d.disableLog,browserDetails:d.detectBrowser(),extractVersion:d.extractVersion}},{}],"/stanza.io/node_modules/webrtcsupport/index-browser.js":[function(e,h,f){var a,d;if(window.mozRTCPeerConnection||
navigator.mozGetUserMedia)a="moz",d=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10);else if(window.webkitRTCPeerConnection||navigator.webkitGetUserMedia)a="webkit",d=navigator.userAgent.match(/Chrom(e|ium)/)&&parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2],10);e=window.mozRTCPeerConnection||window.webkitRTCPeerConnection;f=window.mozRTCIceCandidate||window.RTCIceCandidate;var b=window.mozRTCSessionDescription||window.RTCSessionDescription,c=window.webkitMediaStream||
window.MediaStream,g="https:"===window.location.protocol&&("webkit"===a&&26<=d||"moz"===a&&33<=d),l=window.AudioContext||window.webkitAudioContext,m=document.createElement("video"),m=m&&m.canPlayType&&"probably"===m.canPlayType('video/webm; codecs="vp8", vorbis'),k=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia;h.exports={prefix:a,browserVersion:d,support:!!e&&m&&!!k,supportRTCPeerConnection:!!e,supportVp8:m,supportGetUserMedia:!!k,supportDataChannel:!!(e&&
e.prototype&&e.prototype.createDataChannel),supportWebAudio:!(!l||!l.prototype.createMediaStreamSource),supportMediaStream:!(!c||!c.prototype.removeTrack),supportScreenSharing:!!g,dataChannel:!!(e&&e.prototype&&e.prototype.createDataChannel),webAudio:!(!l||!l.prototype.createMediaStreamSource),mediaStream:!(!c||!c.prototype.removeTrack),screenSharing:!!g,AudioContext:l,PeerConnection:e,SessionDescription:b,IceCandidate:f,MediaStream:c,getUserMedia:k}},{}],"/stanza.io/node_modules/wildemitter/wildemitter.js":[function(e,
h,f){function a(){}h.exports=a;a.mixin=function(a){a=a.prototype||a;a.isWildEmitter=!0;a.on=function(a,c,d){this.callbacks=this.callbacks||{};var e=3===arguments.length,f=e?arguments[2]:arguments[1];f._groupName=e?arguments[1]:void 0;(this.callbacks[a]=this.callbacks[a]||[]).push(f);return this};a.once=function(a,c,d){function e(){f.off(a,e);p.apply(this,arguments)}var f=this,h=3===arguments.length,p=h?arguments[2]:arguments[1];this.on(a,h?arguments[1]:void 0,e);return this};a.releaseGroup=function(a){this.callbacks=
this.callbacks||{};var c,d,e,f;for(c in this.callbacks)for(f=this.callbacks[c],d=0,e=f.length;d<e;d++)f[d]._groupName===a&&(f.splice(d,1),d--,e--);return this};a.off=function(a,c){this.callbacks=this.callbacks||{};var d=this.callbacks[a],e;if(!d)return this;if(1===arguments.length)return delete this.callbacks[a],this;e=d.indexOf(c);d.splice(e,1);0===d.length&&delete this.callbacks[a];return this};a.emit=function(a){this.callbacks=this.callbacks||{};var c=[].slice.call(arguments,1),d=this.callbacks[a],
e=this.getWildcardCallbacks(a),f,h;if(d)for(h=d.slice(),d=0,f=h.length;d<f&&h[d];++d)h[d].apply(this,c);if(e)for(h=e.slice(),d=0,f=h.length;d<f&&h[d];++d)h[d].apply(this,[a].concat(c));return this};a.getWildcardCallbacks=function(a){this.callbacks=this.callbacks||{};var c,d,e=[];for(c in this.callbacks)if(d=c.split("*"),"*"===c||2===d.length&&a.slice(0,d[0].length)===d[0])e=e.concat(this.callbacks[c]);return e}};a.mixin(a)},{}],"/stanza.io/node_modules/xhr/index.js":[function(e,h,f){function a(a){for(var b in a)if(a.hasOwnProperty(b))return!1;
return!0}function d(a,b,c){var d=a;m(b)?(c=b,"string"===typeof a&&(d={uri:a})):d=p(b,{uri:a});d.callback=c;return d}function b(a,b,e){b=d(a,b,e);return c(b)}function c(c){function d(a){clearTimeout(I);a instanceof Error||(a=Error(""+(a||"Unknown XMLHttpRequest Error")));a.statusCode=0;f(a,g)}function e(){if(!p){var a;clearTimeout(I);a=c.useXDR&&void 0===h.status?200:1223===h.status?204:h.status;var b=g,d=null;if(0!==a){b=void 0;h.response?b=h.response:"text"!==h.responseType&&h.responseType||(b=h.responseText||
h.responseXML);if(B)try{b=JSON.parse(b)}catch(l){}b={body:b,statusCode:a,method:A,headers:{},url:x,rawRequest:h};h.getAllResponseHeaders&&(b.headers=k(h.getAllResponseHeaders()))}else d=Error("Internal XMLHttpRequest Error");f(d,b,b.body)}}var f=c.callback;if("undefined"===typeof f)throw Error("callback argument missing");var f=l(f),g={body:void 0,headers:{},statusCode:0,method:A,url:x,rawRequest:h},h=c.xhr||null;h||(h=c.cors||c.useXDR?new b.XDomainRequest:new b.XMLHttpRequest);var m,p,x=h.url=c.uri||
c.url,A=h.method=c.method||"GET",D=c.body||c.data||null,C=h.headers=c.headers||{},E=!!c.sync,B=!1,I;"json"in c&&(B=!0,C.accept||C.Accept||(C.Accept="application/json"),"GET"!==A&&"HEAD"!==A&&(C["content-type"]||C["Content-Type"]||(C["Content-Type"]="application/json"),D=JSON.stringify(c.json)));h.onreadystatechange=function(){4===h.readyState&&e()};h.onload=e;h.onerror=d;h.onprogress=function(){};h.ontimeout=d;h.open(A,x,!E,c.username,c.password);E||(h.withCredentials=!!c.withCredentials);!E&&0<c.timeout&&
(I=setTimeout(function(){p=!0;h.abort("timeout");var a=Error("XMLHttpRequest timeout");a.code="ETIMEDOUT";d(a)},c.timeout));if(h.setRequestHeader)for(m in C)C.hasOwnProperty(m)&&h.setRequestHeader(m,C[m]);else if(c.headers&&!a(c.headers))throw Error("Headers cannot be set on an XDomainRequest object");"responseType"in c&&(h.responseType=c.responseType);"beforeSend"in c&&"function"===typeof c.beforeSend&&c.beforeSend(h);h.send(D);return h}function g(){}f=e("global/window");var l=e("once"),m=e("is-function"),
k=e("parse-headers"),p=e("xtend");h.exports=b;b.XMLHttpRequest=f.XMLHttpRequest||g;b.XDomainRequest="withCredentials"in new b.XMLHttpRequest?b.XMLHttpRequest:f.XDomainRequest;(function(a,b){for(var c=0;c<a.length;c++)b(a[c])})("get put post patch head delete".split(" "),function(a){b["delete"===a?"del":a]=function(b,e,f){e=d(b,e,f);e.method=a.toUpperCase();return c(e)}})},{"global/window":"/stanza.io/node_modules/global/window.js","is-function":"/stanza.io/node_modules/is-function/index.js",once:"/stanza.io/node_modules/once/once.js",
"parse-headers":"/stanza.io/node_modules/parse-headers/parse-headers.js",xtend:"/stanza.io/node_modules/xtend/immutable.js"}],"/stanza.io/node_modules/xmpp-constants/index.js":[function(e,h,f){h.exports={Namespace:e("./lib/namespaces"),MUC:e("./lib/muc"),PubSub:e("./lib/pubsub"),Jingle:e("./lib/jingle"),Presence:e("./lib/presence")}},{"./lib/jingle":"/stanza.io/node_modules/xmpp-constants/lib/jingle.js","./lib/muc":"/stanza.io/node_modules/xmpp-constants/lib/muc.js","./lib/namespaces":"/stanza.io/node_modules/xmpp-constants/lib/namespaces.js",
"./lib/presence":"/stanza.io/node_modules/xmpp-constants/lib/presence.js","./lib/pubsub":"/stanza.io/node_modules/xmpp-constants/lib/pubsub.js"}],"/stanza.io/node_modules/xmpp-constants/lib/jingle.js":[function(e,h,f){h.exports={Action:{CONTENT_ACCEPT:"content-accept",CONTENT_ADD:"content-add",CONTENT_MODIFY:"content-modify",CONTENT_REJECT:"content-reject",CONTENT_REMOVE:"content-remove",DESCRIPTION_INFO:"description-info",SECURITY_INFO:"security-info",SESSION_ACCEPT:"session-accept",SESSION_INFO:"session-info",
SESSION_INITIATE:"session-initiate",SESSION_TERMINATE:"session-terminate",TRANSPORT_ACCEPT:"transport-accept",TRANSPORT_INFO:"transport-info",TRANSPORT_REJECT:"transport-reject",TRANSPORT_REPLACE:"transport-replace"},Reason:{ALTERNATIVE_SESSION:"alernative-session",BUSY:"busy",CANCEL:"cancel",CONNECTIVITY_ERROR:"connectivity-error",DECLINE:"decline",EXPIRED:"expired",FAILED_APPLICATION:"failed-application",FAILED_TRANSPORT:"failed-transport",GENERAL_ERROR:"general-error",GONE:"gone",INCOMPATIBLE_PARAMETERS:"incompatible-parameters",
MEDIA_ERROR:"media-error",SECURITY_ERROR:"security-error",SUCCESS:"success",TIMEOUT:"timeout",UNSUPPORTED_APPLICATIONS:"unsupported-applications",UNSUPPORTED_TRANSPORTS:"unsupported-transports"},Condition:{OUT_OF_ORDER:"out-of-order",TIE_BREAK:"tie-break",UNKNOWN_SESSION:"unknown-session",UNSUPPORTED_INFO:"unsupported-info"}}},{}],"/stanza.io/node_modules/xmpp-constants/lib/muc.js":[function(e,h,f){h.exports={Status:{REALJID_PUBLIC:"100",AFFILIATION_CHANGED:"101",UNAVAILABLE_SHOWN:"102",UNAVAILABLE_NOT_SHOWN:"103",
CONFIGURATION_CHANGED:"104",SELF_PRESENCE:"110",LOGGING_ENABLED:"170",LOGGING_DISABLED:"171",NON_ANONYMOUS:"172",SEMI_ANONYMOUS:"173",FULLY_ANONYMOUS:"174",ROOM_CREATED:"201",NICK_ASSIGNED:"210",BANNED:"301",NEW_NICK:"303",KICKED:"307",REMOVED_AFFILIATION:"321",REMOVED_MEMBERSHIP:"322",REMOVED_SHUTDOWN:"332"},Affiliation:{ADMIN:"admin",MEMBER:"member",NONE:"none",OUTCAST:"outcast",OWNER:"owner"},Role:{MODERATOR:"moderator",NONE:"none",PARTICIPANT:"participant",VISITOR:"visitor"}}},{}],"/stanza.io/node_modules/xmpp-constants/lib/namespaces.js":[function(e,
h,f){h.exports={BIND:"urn:ietf:params:xml:ns:xmpp-bind",CLIENT:"jabber:client",SASL:"urn:ietf:params:xml:ns:xmpp-sasl",SERVER:"jabber:server",SESSION:"urn:ietf:params:xml:ns:xmpp-session",STANZA_ERROR:"urn:ietf:params:xml:ns:xmpp-stanzas",STREAM:"http://etherx.jabber.org/streams",STREAM_ERROR:"urn:ietf:params:xml:ns:xmpp-streams",ROSTER:"jabber:iq:roster",ROSTER_VERSIONING:"urn:xmpp:features:rosterver",SUBSCRIPTION_PREAPPROVAL:"urn:xmpp:features:pre-approval",FRAMING:"urn:ietf:params:xml:ns:xmpp-framing",
DATAFORM:"jabber:x:data",RPC:"jabber:iq:rpc",LAST_ACTIVITY:"jabber:iq:last",PRIVACY:"jabber:iq:privacy",DISCO_INFO:"http://jabber.org/protocol/disco#info",DISCO_ITEMS:"http://jabber.org/protocol/disco#items",ADDRESS:"http://jabber.org/protocol/address",MUC:"http://jabber.org/protocol/muc",MUC_ADMIN:"http://jabber.org/protocol/muc#admin",MUC_OWNER:"http://jabber.org/protocol/muc#owner",MUC_USER:"http://jabber.org/protocol/muc#user",IBB:"http://jabber.org/protocol/ibb",BOOKMARKS:"storage:bookmarks",
PRIVATE:"jabber:iq:private",ADHOC_COMMANDS:"http://jabber.org/protocol/commands",VCARD_TEMP:"vcard-temp",SEARCH:"jabber:iq:search",RSM:"http://jabber.org/protocol/rsm",PUBSUB:"http://jabber.org/protocol/pubsub",PUBSUB_ERRORS:"http://jabber.org/protocol/pubsub#errors",PUBSUB_EVENT:"http://jabber.org/protocol/pubsub#event",PUBSUB_OWNER:"http://jabber.org/protocol/pubsub#owner",SOCKS5:"http://jabber.org/protocol/bytestreams",OOB:"jabber:x:oob",HTTP_AUTH:"http://jabber.org/protocol/http-auth",XHTML_IM:"http://jabber.org/protocol/xhtml-im",
REGISTER:"jabber:iq:register",AMP:"http://jabber.org/protocol/amp",GEOLOC:"http://jabber.org/protocol/geoloc",ROSTER_DELIMITER:"roster:delimiter",AVATAR_DATA:"urn:xmpp:avatar:data",AVATAR_METADATA:"urn:xmpp:avatar:metadata",CHAT_STATES:"http://jabber.org/protocol/chatstates",VERSION:"jabber:iq:version",MOOD:"http://jabber.org/protocol/mood",ACTIVITY:"http://jabber.org/protocol/activity",COMPONENT:"jabber:component:accept",CAPS:"http://jabber.org/protocol/caps",TUNE:"http://jabber.org/protocol/tune",
DATAFORM_VALIDATION:"http://jabber.org/protocol/xdata-validate",BOSH:"http://jabber.org/protocol/httpbind",SHIM:"http://jabber.org/protocol/shim",COMPRESSION:"http://jabber.org/features/compress",DATAFORM_LAYOUT:"http://jabber.org/protocol/xdata-layout",ROSTER_EXCHANGE:"http://jabber.org/protocol/rosterx",ROSTER_NOTES:"storage:rosternotes",REACH_0:"urn:xmpp:reach:0",VCARD_TEMP_UPDATE:"vcard-temp:x:update",CAPTCHA:"urn:xmpp:captcha",JINGLE_1:"urn:xmpp:jingle:1",JINGLE_ERRORS_1:"urn:xmpp:jingle:errors:1",
JINGLE_RTP_1:"urn:xmpp:jingle:apps:rtp:1",JINGLE_RTP_ERRORS_1:"urn:xmpp:jingle:apps:rtp:errors:1",JINGLE_RTP_INFO_1:"urn:xmpp:jingle:apps:rtp:info:1",LANG_TRANS:"urn:xmpp:langtrans",LANG_TRANS_ITEMS:"urn:xmpp:langtrans:items",NICK:"http://jabber.org/protocol/nick",JINGLE_ICE_UDP_1:"urn:xmpp:jingle:transports:ice-udp:1",JINGLE_RAW_UDP_1:"urn:xmpp:jingle:transports:raw-udp:1",RECEIPTS:"urn:xmpp:receipts",INVISIBLE_0:"urn:xmpp:invisible:0",BLOCKING:"urn:xmpp:blocking",SMACKS_3:"urn:xmpp:sm:3",PING:"urn:xmpp:ping",
TIME:"urn:xmpp:time",DELAY:"urn:xmpp:delay",BOSH_XMPP:"urn:xmpp:xbosh",DISCO_EXTERNAL_1:"urn:xmpp:extdisco:1",DATAFORM_MEDIA:"urn:xmpp:media-element",ATTENTION_0:"urn:xmpp:attention:0",BOB:"urn:xmpp:bob",FILE_TRANSFER_3:"urn:xmpp:jingle:apps:file-transfer:3",FILE_TRANSFER_4:"urn:xmpp:jingle:apps:file-transfer:4",MUC_DIRECT_INVITE:"jabber:x:conference",SEC_LABEL_0:"urn:xmpp:sec-label:0",SEC_LABEL_CATALOG_2:"urn:xmpp:sec-label:catalog:2",SEC_LABEL_ESS_0:"urn:xmpp:sec-label:ess:0",JINGLE_SOCKS5_1:"urn:xmpp:jingle:transports:s5b:1",
JINGLE_IBB_1:"urn:xmpp:jingle:transports:ibb:1",JINGLE_RTP_ZRTP_1:"urn:xmpp:jingle:apps:rtp:zrtp:1",THUMBS_0:"urn:xmpp:thumbs:0",THUMBS_1:"urn:xmpp:thumbs:1",DECLOAKING_0:"urn:xmpp:decloaking:0",CARBONS_2:"urn:xmpp:carbons:2",JINGLE_RTP_RTCP_FB_0:"urn:xmpp:jingle:apps:rtp:rtcp-fb:0",JINGLE_RTP_HDREXT_0:"urn:xmpp:jingle:apps:rtp:rtp-hdrext:0",FORWARD_0:"urn:xmpp:forward:0",HASHES_1:"urn:xmpp:hashes:1",RTT_0:"urn:xmpp:rtt:0",MUC_UNIQUE:"http://jabber.org/protocol/muc#unique",CORRECTION_0:"urn:xmpp:message-correct:0",
PSA:"urn:xmpp:psa",MAM_TMP:"urn:xmpp:mam:tmp",MAM_0:"urn:xmpp:mam:0",HATS_0:"urn:xmpp:hats:0",IDLE_1:"urn:xmpp:idle:1",JINGLE_DTLS_0:"urn:xmpp:jingle:apps:dtls:0",JID_PREP_0:"urn:xmpp:jidprep:0",HINTS:"urn:xmpp:hints",JSON_0:"urn:xmpp:json:0",EVENTLOG:"urn:xmpp:eventlog",JINGLE_GROUPING_0:"urn:xmpp:jingle:apps:grouping:0",JINGLE_RTP_SSMA_0:"urn:xmpp:jingle:apps:rtp:ssma:0",COLIBRI:"http://jitsi.org/protocol/colibri",DTLS_SCTP_1:"urn:xmpp:jingle:transports:dtls-sctp:1",CSI:"urn:xmpp:csi",JINGLE_MSG_INITIATE_0:"urn:xmpp:jingle:jingle-message:0",
PUSH_0:"urn:xmpp:push:0",JINGLE_PUB_1:"urn:xmpp:jinglepub:1"}},{}],"/stanza.io/node_modules/xmpp-constants/lib/presence.js":[function(e,h,f){h.exports={Type:{SUBSCRIBE:"subscribe",SUBSCRIBED:"subscribed",UNSUBSCRIBE:"unsubscribe",UNSUBSCRIBED:"unsubscribed",PROBE:"probe",UNAVAILABLE:"unavailable"},Show:{CHAT:"chat",AWAY:"away",DO_NOT_DISTURB:"dnd",EXTENDED_AWAY:"xa"}}},{}],"/stanza.io/node_modules/xmpp-constants/lib/pubsub.js":[function(e,h,f){h.exports={Affiliation:{MEMBER:"member",NONE:"none",OUTCAST:"outcast",
OWNER:"owner",PUBLISHER:"publisher",PUBLISH_ONLY:"publish-only"},Subscription:{NONE:"none",PENDING:"pending",UNCONFIGURED:"unconfigured",SUBSCRIBED:"subscribed"},AccessModel:{OPEN:"open",PRESENCE:"presence",ROSTER:"roster",AUTHORIZE:"authorize",WHITELIST:"whitelist"},Condition:{CONFLICT:"conflict"}}},{}],"/stanza.io/node_modules/xmpp-jid/index.js":[function(e,h,f){var a=e("./lib/stringprep"),d=/^[\x00-\x7F]*$/;f.prep=function(b){var c=b.local,d=b.domain,e=b.resource,h=c;c&&(c=a.nodeprep(c),h=f.unescape(c));
e&&(e=a.resourceprep(e));"."===d[d.length-1]&&(d=d.slice(0,d.length-1));d=a.nameprep(d.split(".").map(a.toUnicode).join("."));return{prepped:b.prepped||a.available,local:c,domain:d,resource:e,bare:c?c+"@"+d:d,full:e?(c?c+"@"+d:d)+"/"+e:c?c+"@"+d:d,unescapedLocal:h,unescapedBare:h?h+"@"+d:d,unescapedFull:e?(h?h+"@"+d:d)+"/"+e:h?h+"@"+d:d}};f.parse=function(a,c){var e="",h="";c=c||d.test(a);var m=a.indexOf("/");0<m&&(h=a.slice(m+1),a=a.slice(0,m));m=a.indexOf("@");0<m&&(e=a.slice(0,m),a=a.slice(m+1));
e=f.prep({local:e,domain:a,resource:h});e.prepped=e.prepped||c;return e};f.equal=function(a,c,d){a=new f.JID(a);c=new f.JID(c);2===arguments.length&&(d=!0);return a.local===c.local&&a.domain===c.domain&&a.resource===c.resource&&(d?a.prepped&&c.prepped:!0)};f.equalBare=function(a,c,d){a=new f.JID(a);c=new f.JID(c);2===arguments.length&&(d=!0);return a.local===c.local&&a.domain===c.domain&&(d?a.prepped&&c.prepped:!0)};f.isBare=function(a){a=new f.JID(a);return!a.resource};f.isFull=function(a){a=new f.JID(a);
return!!a.resource};f.escape=function(a){return a.replace(/^\s+|\s+$/g,"").replace(/\\5c/g,"\\5c5c").replace(/\\20/g,"\\5c20").replace(/\\22/g,"\\5c22").replace(/\\26/g,"\\5c26").replace(/\\27/g,"\\5c27").replace(/\\2f/g,"\\5c2f").replace(/\\3a/g,"\\5c3a").replace(/\\3c/g,"\\5c3c").replace(/\\3e/g,"\\5c3e").replace(/\\40/g,"\\5c40").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,
"\\40")};f.unescape=function(a){return a.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")};f.create=function(a,c,d){return new f.JID(a,c,d)};f.JID=function(a,c,e){if(!a||c||e)if(c){var h=d.test(a)&&d.test(c);e&&(h=h&&d.test(e));a=f.prep({local:f.escape(a),domain:c,resource:e,prepped:h})}else a={};else if("string"===typeof a)a=f.parse(a);
else if(!(a._isJID||a instanceof f.JID))throw Error("Invalid argument type");this._isJID=!0;this.local=a.local||"";this.domain=a.domain||"";this.resource=a.resource||"";this.bare=a.bare||"";this.full=a.full||"";this.unescapedLocal=a.unescapedLocal||"";this.unescapedBare=a.unescapedBare||"";this.unescapedFull=a.unescapedFull||"";this.prepped=a.prepped};f.JID.prototype.toString=function(){return this.full};f.JID.prototype.toJSON=function(){return this.full}},{"./lib/stringprep":"/stanza.io/node_modules/xmpp-jid/lib/stringprep-browser.js"}],
"/stanza.io/node_modules/xmpp-jid/lib/stringprep-browser.js":[function(e,h,f){e=e("punycode");f.available=!1;f.toUnicode=e.toUnicode;f.nameprep=function(a){return a.toLowerCase()};f.nodeprep=function(a){return a.toLowerCase()};f.resourceprep=function(a){return a}},{punycode:"/stanza.io/node_modules/punycode/punycode.js"}],"/stanza.io/node_modules/xtend/immutable.js":[function(e,h,f){h.exports=function(){for(var d={},b=0;b<arguments.length;b++){var c=arguments[b],e;for(e in c)a.call(c,e)&&(d[e]=c[e])}return d};
var a=Object.prototype.hasOwnProperty},{}]},{},["/stanza.io/index.js"])("/stanza.io/index.js")});
